"use strict";(self.webpackChunkherbaid_server=self.webpackChunkherbaid_server||[]).push([[3677],{14928:(D,f,t)=>{t.r(f),t.d(f,{default:()=>W});var e=t(67294),r=t(68547),p=t(15482),E=t(97132),T=t(87751),M=t(14087),h=t(17034),C=t(67838),L=t(49066),P=t(185),d=t(72735),I=t(38939),b=t(8060),y=t(79031),g=t(37909),N=t(15234),Z=t(68960),A=t(23998),F=(n,a,l)=>new Promise((m,u)=>{var v=s=>{try{o(l.next(s))}catch(i){u(i)}},c=s=>{try{o(l.throw(s))}catch(i){u(i)}},o=s=>s.done?m(s.value):Promise.resolve(s.value).then(v,c);o((l=l.apply(n,a)).next())});const x=()=>F(void 0,null,function*(){const{data:n}=yield A.be.get("/admin/plugins");return n}),H=n=>{const a=(0,r.useNotification)();return(0,Z.useQuery)("list-enabled-plugins",()=>x(),{onSuccess(){n&&n()},onError(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})},S=()=>{var n,a;const{formatMessage:l}=(0,E.useIntl)(),{notifyStatus:m}=(0,M.G)();(0,r.useFocusWhenNavigate)();const u=l({id:"global.plugins",defaultMessage:"Plugins"}),v=()=>{m(l({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:u}))},{status:c,data:o}=H(v);return c!=="success"&&c!=="error"?e.createElement(h.A,null,e.createElement(P.o,{"aria-busy":!0},e.createElement(r.LoadingIndicatorPage,null))):e.createElement(h.A,null,e.createElement(P.o,null,e.createElement(C.T,{title:u,subtitle:l({id:"app.components.ListPluginsPage.description",defaultMessage:"List of the installed plugins in the project."})}),e.createElement(L.D,null,e.createElement(I.i,{colCount:2,rowCount:(a=(n=o==null?void 0:o.plugins)==null?void 0:n.length)!=null?a:0+1},e.createElement(b.h,null,e.createElement(y.Tr,null,e.createElement(g.Th,null,e.createElement(d.Z,{variant:"sigma",textColor:"neutral600"},l({id:"global.name",defaultMessage:"Name"}))),e.createElement(g.Th,null,e.createElement(d.Z,{variant:"sigma",textColor:"neutral600"},l({id:"global.description",defaultMessage:"description"}))))),e.createElement(N.p,null,o.plugins.map(({name:i,displayName:$,description:j})=>e.createElement(y.Tr,{key:i},e.createElement(g.Td,null,e.createElement(d.Z,{textColor:"neutral800",variant:"omega",fontWeight:"bold"},l({id:`global.plugins.${i}`,defaultMessage:$}))),e.createElement(g.Td,null,e.createElement(d.Z,{textColor:"neutral800"},l({id:`global.plugins.${i}.description`,defaultMessage:j}))))))))))},W=()=>{const{formatMessage:n}=(0,E.useIntl)(),a=n({id:"global.plugins",defaultMessage:"Plugins"});return e.createElement(r.CheckPagePermissions,{permissions:T.Z.marketplace.main},e.createElement(p.Helmet,{title:a}),e.createElement(S,null))}}}]);
