(self.webpackChunkherbaid_server=self.webpackChunkherbaid_server||[]).push([[6750],{44840:(S,I,v)=>{"use strict";v.d(I,{Z:()=>c});var u=v(8081),A=v.n(u),E=v(23645),x=v.n(E),a=x()(A());a.push([S.id,`.srd-diagram {
  height: 80vh;
  overflow: hidden;
}

/* .srd-default-link path {
  stroke: #000;
} */

.erc-header-title p {
  width: 100%;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 1.3rem;
  font-weight: 400;
  line-height: normal;
  color: rgb(120, 126, 143);
  margin: 0px;
  overflow: hidden;
}

.erc-header-title h1 {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  max-width: 100%;
  margin-bottom: 0;
  padding-right: 18px;
  font-size: 2.4rem;
  line-height: normal;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
`,""]);const c=a},45473:(S,I,v)=>{"use strict";v.d(I,{Z:()=>c});var u=v(8081),A=v.n(u),E=v(23645),x=v.n(E),a=x()(A());a.push([S.id,`.srd-diagram {
  position: relative;
  flex-grow: 1;
  display: flex;
  cursor: move;
  overflow: hidden;
}
.srd-diagram__selector {
  position: absolute;
  background-color: rgba(0, 192, 255, 0.2);
  border: solid 2px #00c0ff;
}
.srd-link-layer {
  position: absolute;
  height: 100%;
  width: 100%;
  transform-origin: 0 0;
  overflow: visible !important;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.srd-node-layer {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  position: absolute;
  pointer-events: none;
  transform-origin: 0 0;
  width: 100%;
  height: 100%;
}
.srd-node {
  position: absolute;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  cursor: move;
  pointer-events: all;
}
.srd-node--selected > * {
  border-color: #00c0ff !important;
}
.srd-port {
  width: 15px;
  height: 15px;
  background: rgba(255, 255, 255, 0.1);
}
.srd-port:hover,
.srd-port.selected {
  background: #c0ff00;
}
.srd-default-node {
  background-color: #1e1e1e;
  border-radius: 5px;
  font-family: sans-serif;
  color: white;
  border: solid 2px black;
  overflow: visible;
  font-size: 11px;
}
.srd-default-node__title {
  background: rgba(0, 0, 0, 0.3);
  display: flex;
  white-space: nowrap;
}
.srd-default-node__title > * {
  align-self: center;
}
.srd-default-node__title .fa {
  padding: 5px;
  opacity: 0.2;
  cursor: pointer;
}
.srd-default-node__title .fa:hover {
  opacity: 1;
}
.srd-default-node__name {
  flex-grow: 1;
  padding: 5px 5px;
}
.srd-default-node__ports {
  display: flex;
  background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));
}
.srd-default-node__in,
.srd-default-node__out {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}
.srd-default-port {
  display: flex;
  margin-top: 1px;
}
.srd-default-port > * {
  align-self: center;
}
.srd-default-port__name {
  padding: 0 5px;
}
.srd-default-port--out {
  justify-content: flex-end;
}
.srd-default-port--out .srd-default-port__name {
  justify-content: flex-end;
  text-align: right;
}
.srd-default-label {
  background: rgba(70, 70, 70, 0.8);
  border: 1px solid #333;
  border-radius: 4px;
  color: #fff;
  display: inline-block;
  font-size: smaller;
  padding: 5px;
}
@keyframes dash {
  from {
    stroke-dashoffset: 24;
  }
  to {
    stroke-dashoffset: 0;
  }
}
.srd-default-link path {
  fill: none;
  pointer-events: all;
}
.srd-default-link--path-selected {
  stroke: #00c0ff !important;
  stroke-dasharray: 10, 2;
  animation: dash 1s linear infinite;
}
.srd-default-link__label {
  pointer-events: none;
}
.srd-default-link__label > div {
  display: inline-block;
  position: absolute;
}
.srd-default-link__point {
  fill: rgba(255, 255, 255, 0.5);
}
.srd-default-link--point-selected {
  fill: #00c0ff;
}
`,""]);const c=a},70681:(S,I,v)=>{S.exports={graphlib:v(70574),layout:v(98123),debug:v(27570),util:{time:v(11138).time,notime:v(11138).notime},version:v(88177)}},92188:(S,I,v)=>{"use strict";var u=v(38436),A=v(74079);S.exports={run:E,undo:a};function E(c){var d=c.graph().acyclicer==="greedy"?A(c,s(c)):x(c);u.forEach(d,function(o){var r=c.edge(o);c.removeEdge(o),r.forwardName=o.name,r.reversed=!0,c.setEdge(o.w,o.v,r,u.uniqueId("rev"))});function s(o){return function(r){return o.edge(r).weight}}}function x(c){var d=[],s={},o={};function r(t){u.has(o,t)||(o[t]=!0,s[t]=!0,u.forEach(c.outEdges(t),function(e){u.has(s,e.w)?d.push(e):r(e.w)}),delete s[t])}return u.forEach(c.nodes(),r),d}function a(c){u.forEach(c.edges(),function(d){var s=c.edge(d);if(s.reversed){c.removeEdge(d);var o=s.forwardName;delete s.reversed,delete s.forwardName,c.setEdge(d.w,d.v,s,o)}})}},61133:(S,I,v)=>{var u=v(38436),A=v(11138);S.exports=E;function E(a){function c(d){var s=a.children(d),o=a.node(d);if(s.length&&u.forEach(s,c),u.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var r=o.minRank,t=o.maxRank+1;r<t;++r)x(a,"borderLeft","_bl",d,o,r),x(a,"borderRight","_br",d,o,r)}}u.forEach(a.children(),c)}function x(a,c,d,s,o,r){var t={width:0,height:0,rank:r,borderType:c},e=o[c][r-1],n=A.addDummyNode(a,"border",t,d);o[c][r]=n,a.setParent(n,s),e&&a.setEdge(e,n,{weight:1})}},53258:(S,I,v)=>{"use strict";var u=v(38436);S.exports={adjust:A,undo:E};function A(r){var t=r.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&x(r)}function E(r){var t=r.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&c(r),(t==="lr"||t==="rl")&&(s(r),x(r))}function x(r){u.forEach(r.nodes(),function(t){a(r.node(t))}),u.forEach(r.edges(),function(t){a(r.edge(t))})}function a(r){var t=r.width;r.width=r.height,r.height=t}function c(r){u.forEach(r.nodes(),function(t){d(r.node(t))}),u.forEach(r.edges(),function(t){var e=r.edge(t);u.forEach(e.points,d),u.has(e,"y")&&d(e)})}function d(r){r.y=-r.y}function s(r){u.forEach(r.nodes(),function(t){o(r.node(t))}),u.forEach(r.edges(),function(t){var e=r.edge(t);u.forEach(e.points,o),u.has(e,"x")&&o(e)})}function o(r){var t=r.x;r.x=r.y,r.y=t}},77822:S=>{S.exports=I;function I(){var A={};A._next=A._prev=A,this._sentinel=A}I.prototype.dequeue=function(){var A=this._sentinel,E=A._prev;if(E!==A)return v(E),E},I.prototype.enqueue=function(A){var E=this._sentinel;A._prev&&A._next&&v(A),A._next=E._next,E._next._prev=A,E._next=A,A._prev=E},I.prototype.toString=function(){for(var A=[],E=this._sentinel,x=E._prev;x!==E;)A.push(JSON.stringify(x,u)),x=x._prev;return"["+A.join(", ")+"]"};function v(A){A._prev._next=A._next,A._next._prev=A._prev,delete A._next,delete A._prev}function u(A,E){if(A!=="_next"&&A!=="_prev")return E}},27570:(S,I,v)=>{var u=v(38436),A=v(11138),E=v(70574).Graph;S.exports={debugOrdering:x};function x(a){var c=A.buildLayerMatrix(a),d=new E({compound:!0,multigraph:!0}).setGraph({});return u.forEach(a.nodes(),function(s){d.setNode(s,{label:s}),d.setParent(s,"layer"+a.node(s).rank)}),u.forEach(a.edges(),function(s){d.setEdge(s.v,s.w,{},s.name)}),u.forEach(c,function(s,o){var r="layer"+o;d.setNode(r,{rank:"same"}),u.reduce(s,function(t,e){return d.setEdge(t,e,{style:"invis"}),e})}),d}},70574:(S,I,v)=>{var u;try{u=v(28282)}catch(A){}u||(u=window.graphlib),S.exports=u},74079:(S,I,v)=>{var u=v(38436),A=v(70574).Graph,E=v(77822);S.exports=a;var x=u.constant(1);function a(r,t){if(r.nodeCount()<=1)return[];var e=s(r,t||x),n=c(e.graph,e.buckets,e.zeroIdx);return u.flatten(u.map(n,function(i){return r.outEdges(i.v,i.w)}),!0)}function c(r,t,e){for(var n=[],i=t[t.length-1],f=t[0],h;r.nodeCount();){for(;h=f.dequeue();)d(r,t,e,h);for(;h=i.dequeue();)d(r,t,e,h);if(r.nodeCount()){for(var g=t.length-2;g>0;--g)if(h=t[g].dequeue(),h){n=n.concat(d(r,t,e,h,!0));break}}}return n}function d(r,t,e,n,i){var f=i?[]:void 0;return u.forEach(r.inEdges(n.v),function(h){var g=r.edge(h),p=r.node(h.v);i&&f.push({v:h.v,w:h.w}),p.out-=g,o(t,e,p)}),u.forEach(r.outEdges(n.v),function(h){var g=r.edge(h),p=h.w,m=r.node(p);m.in-=g,o(t,e,m)}),r.removeNode(n.v),f}function s(r,t){var e=new A,n=0,i=0;u.forEach(r.nodes(),function(g){e.setNode(g,{v:g,in:0,out:0})}),u.forEach(r.edges(),function(g){var p=e.edge(g.v,g.w)||0,m=t(g),l=p+m;e.setEdge(g.v,g.w,l),i=Math.max(i,e.node(g.v).out+=m),n=Math.max(n,e.node(g.w).in+=m)});var f=u.range(i+n+3).map(function(){return new E}),h=n+1;return u.forEach(e.nodes(),function(g){o(f,h,e.node(g))}),{graph:e,buckets:f,zeroIdx:h}}function o(r,t,e){e.out?e.in?r[e.out-e.in+t].enqueue(e):r[r.length-1].enqueue(e):r[0].enqueue(e)}},98123:(S,I,v)=>{"use strict";var u=v(38436),A=v(92188),E=v(45995),x=v(78093),a=v(11138).normalizeRanks,c=v(24219),d=v(11138).removeEmptyRanks,s=v(72981),o=v(61133),r=v(53258),t=v(53408),e=v(17873),n=v(11138),i=v(70574).Graph;S.exports=f;function f(D,T){var j=T&&T.debugTiming?n.time:n.notime;j("layout",function(){var B=j("  buildLayoutGraph",function(){return O(D)});j("  runLayout",function(){h(B,j)}),j("  updateInputGraph",function(){g(D,B)})})}function h(D,T){T("    makeSpaceForEdgeLabels",function(){w(D)}),T("    removeSelfEdges",function(){q(D)}),T("    acyclic",function(){A.run(D)}),T("    nestingGraph.run",function(){s.run(D)}),T("    rank",function(){x(n.asNonCompoundGraph(D))}),T("    injectEdgeLabelProxies",function(){N(D)}),T("    removeEmptyRanks",function(){d(D)}),T("    nestingGraph.cleanup",function(){s.cleanup(D)}),T("    normalizeRanks",function(){a(D)}),T("    assignRankMinMax",function(){C(D)}),T("    removeEdgeLabelProxies",function(){F(D)}),T("    normalize.run",function(){E.run(D)}),T("    parentDummyChains",function(){c(D)}),T("    addBorderSegments",function(){o(D)}),T("    order",function(){t(D)}),T("    insertSelfEdges",function(){ct(D)}),T("    adjustCoordinateSystem",function(){r.adjust(D)}),T("    position",function(){e(D)}),T("    positionSelfEdges",function(){tt(D)}),T("    removeBorderNodes",function(){$(D)}),T("    normalize.undo",function(){E.undo(D)}),T("    fixupEdgeLabelCoords",function(){W(D)}),T("    undoCoordinateSystem",function(){r.undo(D)}),T("    translateGraph",function(){R(D)}),T("    assignNodeIntersects",function(){k(D)}),T("    reversePoints",function(){Y(D)}),T("    acyclic.undo",function(){A.undo(D)})}function g(D,T){u.forEach(D.nodes(),function(j){var B=D.node(j),X=T.node(j);B&&(B.x=X.x,B.y=X.y,T.children(j).length&&(B.width=X.width,B.height=X.height))}),u.forEach(D.edges(),function(j){var B=D.edge(j),X=T.edge(j);B.points=X.points,u.has(X,"x")&&(B.x=X.x,B.y=X.y)}),D.graph().width=T.graph().width,D.graph().height=T.graph().height}var p=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},l=["acyclicer","ranker","rankdir","align"],b=["width","height"],y={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],P={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},L=["labelpos"];function O(D){var T=new i({multigraph:!0,compound:!0}),j=Lt(D.graph());return T.setGraph(u.merge({},m,Et(j,p),u.pick(j,l))),u.forEach(D.nodes(),function(B){var X=Lt(D.node(B));T.setNode(B,u.defaults(Et(X,b),y)),T.setParent(B,D.parent(B))}),u.forEach(D.edges(),function(B){var X=Lt(D.edge(B));T.setEdge(B,u.merge({},P,Et(X,M),u.pick(X,L)))}),T}function w(D){var T=D.graph();T.ranksep/=2,u.forEach(D.edges(),function(j){var B=D.edge(j);B.minlen*=2,B.labelpos.toLowerCase()!=="c"&&(T.rankdir==="TB"||T.rankdir==="BT"?B.width+=B.labeloffset:B.height+=B.labeloffset)})}function N(D){u.forEach(D.edges(),function(T){var j=D.edge(T);if(j.width&&j.height){var B=D.node(T.v),X=D.node(T.w),K={rank:(X.rank-B.rank)/2+B.rank,e:T};n.addDummyNode(D,"edge-proxy",K,"_ep")}})}function C(D){var T=0;u.forEach(D.nodes(),function(j){var B=D.node(j);B.borderTop&&(B.minRank=D.node(B.borderTop).rank,B.maxRank=D.node(B.borderBottom).rank,T=u.max(T,B.maxRank))}),D.graph().maxRank=T}function F(D){u.forEach(D.nodes(),function(T){var j=D.node(T);j.dummy==="edge-proxy"&&(D.edge(j.e).labelRank=j.rank,D.removeNode(T))})}function R(D){var T=Number.POSITIVE_INFINITY,j=0,B=Number.POSITIVE_INFINITY,X=0,K=D.graph(),rt=K.marginx||0,pt=K.marginy||0;function Mt(ht){var ft=ht.x,Pt=ht.y,bt=ht.width,Ot=ht.height;T=Math.min(T,ft-bt/2),j=Math.max(j,ft+bt/2),B=Math.min(B,Pt-Ot/2),X=Math.max(X,Pt+Ot/2)}u.forEach(D.nodes(),function(ht){Mt(D.node(ht))}),u.forEach(D.edges(),function(ht){var ft=D.edge(ht);u.has(ft,"x")&&Mt(ft)}),T-=rt,B-=pt,u.forEach(D.nodes(),function(ht){var ft=D.node(ht);ft.x-=T,ft.y-=B}),u.forEach(D.edges(),function(ht){var ft=D.edge(ht);u.forEach(ft.points,function(Pt){Pt.x-=T,Pt.y-=B}),u.has(ft,"x")&&(ft.x-=T),u.has(ft,"y")&&(ft.y-=B)}),K.width=j-T+rt,K.height=X-B+pt}function k(D){u.forEach(D.edges(),function(T){var j=D.edge(T),B=D.node(T.v),X=D.node(T.w),K,rt;j.points?(K=j.points[0],rt=j.points[j.points.length-1]):(j.points=[],K=X,rt=B),j.points.unshift(n.intersectRect(B,K)),j.points.push(n.intersectRect(X,rt))})}function W(D){u.forEach(D.edges(),function(T){var j=D.edge(T);if(u.has(j,"x"))switch((j.labelpos==="l"||j.labelpos==="r")&&(j.width-=j.labeloffset),j.labelpos){case"l":j.x-=j.width/2+j.labeloffset;break;case"r":j.x+=j.width/2+j.labeloffset;break}})}function Y(D){u.forEach(D.edges(),function(T){var j=D.edge(T);j.reversed&&j.points.reverse()})}function $(D){u.forEach(D.nodes(),function(T){if(D.children(T).length){var j=D.node(T),B=D.node(j.borderTop),X=D.node(j.borderBottom),K=D.node(u.last(j.borderLeft)),rt=D.node(u.last(j.borderRight));j.width=Math.abs(rt.x-K.x),j.height=Math.abs(X.y-B.y),j.x=K.x+j.width/2,j.y=B.y+j.height/2}}),u.forEach(D.nodes(),function(T){D.node(T).dummy==="border"&&D.removeNode(T)})}function q(D){u.forEach(D.edges(),function(T){if(T.v===T.w){var j=D.node(T.v);j.selfEdges||(j.selfEdges=[]),j.selfEdges.push({e:T,label:D.edge(T)}),D.removeEdge(T)}})}function ct(D){var T=n.buildLayerMatrix(D);u.forEach(T,function(j){var B=0;u.forEach(j,function(X,K){var rt=D.node(X);rt.order=K+B,u.forEach(rt.selfEdges,function(pt){n.addDummyNode(D,"selfedge",{width:pt.label.width,height:pt.label.height,rank:rt.rank,order:K+ ++B,e:pt.e,label:pt.label},"_se")}),delete rt.selfEdges})})}function tt(D){u.forEach(D.nodes(),function(T){var j=D.node(T);if(j.dummy==="selfedge"){var B=D.node(j.e.v),X=B.x+B.width/2,K=B.y,rt=j.x-X,pt=B.height/2;D.setEdge(j.e,j.label),D.removeNode(T),j.label.points=[{x:X+2*rt/3,y:K-pt},{x:X+5*rt/6,y:K-pt},{x:X+rt,y:K},{x:X+5*rt/6,y:K+pt},{x:X+2*rt/3,y:K+pt}],j.label.x=j.x,j.label.y=j.y}})}function Et(D,T){return u.mapValues(u.pick(D,T),Number)}function Lt(D){var T={};return u.forEach(D,function(j,B){T[B.toLowerCase()]=j}),T}},38436:(S,I,v)=>{var u;try{u={cloneDeep:v(50361),constant:v(75703),defaults:v(91747),each:v(66073),filter:v(63105),find:v(13311),flatten:v(85564),forEach:v(84486),forIn:v(62620),has:v(18721),isUndefined:v(52353),last:v(10928),map:v(35161),mapValues:v(66604),max:v(6162),merge:v(82492),min:v(53632),minBy:v(22762),now:v(7771),pick:v(78718),range:v(96026),reduce:v(54061),sortBy:v(89734),uniqueId:v(73955),values:v(52628),zipObject:v(7287)}}catch(A){}u||(u=window._),S.exports=u},72981:(S,I,v)=>{var u=v(38436),A=v(11138);S.exports={run:E,cleanup:d};function E(s){var o=A.addDummyNode(s,"root",{},"_root"),r=a(s),t=u.max(u.values(r))-1,e=2*t+1;s.graph().nestingRoot=o,u.forEach(s.edges(),function(i){s.edge(i).minlen*=e});var n=c(s)+1;u.forEach(s.children(),function(i){x(s,o,e,n,t,r,i)}),s.graph().nodeRankFactor=e}function x(s,o,r,t,e,n,i){var f=s.children(i);if(!f.length){i!==o&&s.setEdge(o,i,{weight:0,minlen:r});return}var h=A.addBorderNode(s,"_bt"),g=A.addBorderNode(s,"_bb"),p=s.node(i);s.setParent(h,i),p.borderTop=h,s.setParent(g,i),p.borderBottom=g,u.forEach(f,function(m){x(s,o,r,t,e,n,m);var l=s.node(m),b=l.borderTop?l.borderTop:m,y=l.borderBottom?l.borderBottom:m,M=l.borderTop?t:2*t,P=b!==y?1:e-n[i]+1;s.setEdge(h,b,{weight:M,minlen:P,nestingEdge:!0}),s.setEdge(y,g,{weight:M,minlen:P,nestingEdge:!0})}),s.parent(i)||s.setEdge(o,h,{weight:0,minlen:e+n[i]})}function a(s){var o={};function r(t,e){var n=s.children(t);n&&n.length&&u.forEach(n,function(i){r(i,e+1)}),o[t]=e}return u.forEach(s.children(),function(t){r(t,1)}),o}function c(s){return u.reduce(s.edges(),function(o,r){return o+s.edge(r).weight},0)}function d(s){var o=s.graph();s.removeNode(o.nestingRoot),delete o.nestingRoot,u.forEach(s.edges(),function(r){var t=s.edge(r);t.nestingEdge&&s.removeEdge(r)})}},45995:(S,I,v)=>{"use strict";var u=v(38436),A=v(11138);S.exports={run:E,undo:a};function E(c){c.graph().dummyChains=[],u.forEach(c.edges(),function(d){x(c,d)})}function x(c,d){var s=d.v,o=c.node(s).rank,r=d.w,t=c.node(r).rank,e=d.name,n=c.edge(d),i=n.labelRank;if(t!==o+1){c.removeEdge(d);var f,h,g;for(g=0,++o;o<t;++g,++o)n.points=[],h={width:0,height:0,edgeLabel:n,edgeObj:d,rank:o},f=A.addDummyNode(c,"edge",h,"_d"),o===i&&(h.width=n.width,h.height=n.height,h.dummy="edge-label",h.labelpos=n.labelpos),c.setEdge(s,f,{weight:n.weight},e),g===0&&c.graph().dummyChains.push(f),s=f;c.setEdge(s,r,{weight:n.weight},e)}}function a(c){u.forEach(c.graph().dummyChains,function(d){var s=c.node(d),o=s.edgeLabel,r;for(c.setEdge(s.edgeObj,o);s.dummy;)r=c.successors(d)[0],c.removeNode(d),o.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(o.x=s.x,o.y=s.y,o.width=s.width,o.height=s.height),d=r,s=c.node(d)})}},55093:(S,I,v)=>{var u=v(38436);S.exports=A;function A(E,x,a){var c={},d;u.forEach(a,function(s){for(var o=E.parent(s),r,t;o;){if(r=E.parent(o),r?(t=c[r],c[r]=o):(t=d,d=o),t&&t!==o){x.setEdge(t,o);return}o=r}})}},35439:(S,I,v)=>{var u=v(38436);S.exports=A;function A(E,x){return u.map(x,function(a){var c=E.inEdges(a);if(c.length){var d=u.reduce(c,function(s,o){var r=E.edge(o),t=E.node(o.v);return{sum:s.sum+r.weight*t.order,weight:s.weight+r.weight}},{sum:0,weight:0});return{v:a,barycenter:d.sum/d.weight,weight:d.weight}}else return{v:a}})}},23128:(S,I,v)=>{var u=v(38436),A=v(70574).Graph;S.exports=E;function E(a,c,d){var s=x(a),o=new A({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(r){return a.node(r)});return u.forEach(a.nodes(),function(r){var t=a.node(r),e=a.parent(r);(t.rank===c||t.minRank<=c&&c<=t.maxRank)&&(o.setNode(r),o.setParent(r,e||s),u.forEach(a[d](r),function(n){var i=n.v===r?n.w:n.v,f=o.edge(i,r),h=u.isUndefined(f)?0:f.weight;o.setEdge(i,r,{weight:a.edge(n).weight+h})}),u.has(t,"minRank")&&o.setNode(r,{borderLeft:t.borderLeft[c],borderRight:t.borderRight[c]}))}),o}function x(a){for(var c;a.hasNode(c=u.uniqueId("_root")););return c}},56630:(S,I,v)=>{"use strict";var u=v(38436);S.exports=A;function A(x,a){for(var c=0,d=1;d<a.length;++d)c+=E(x,a[d-1],a[d]);return c}function E(x,a,c){for(var d=u.zipObject(c,u.map(c,function(n,i){return i})),s=u.flatten(u.map(a,function(n){return u.sortBy(u.map(x.outEdges(n),function(i){return{pos:d[i.w],weight:x.edge(i).weight}}),"pos")}),!0),o=1;o<c.length;)o<<=1;var r=2*o-1;o-=1;var t=u.map(new Array(r),function(){return 0}),e=0;return u.forEach(s.forEach(function(n){var i=n.pos+o;t[i]+=n.weight;for(var f=0;i>0;)i%2&&(f+=t[i+1]),i=i-1>>1,t[i]+=n.weight;e+=n.weight*f})),e}},53408:(S,I,v)=>{"use strict";var u=v(38436),A=v(2588),E=v(56630),x=v(61026),a=v(23128),c=v(55093),d=v(70574).Graph,s=v(11138);S.exports=o;function o(n){var i=s.maxRank(n),f=r(n,u.range(1,i+1),"inEdges"),h=r(n,u.range(i-1,-1,-1),"outEdges"),g=A(n);e(n,g);for(var p=Number.POSITIVE_INFINITY,m,l=0,b=0;b<4;++l,++b){t(l%2?f:h,l%4>=2),g=s.buildLayerMatrix(n);var y=E(n,g);y<p&&(b=0,m=u.cloneDeep(g),p=y)}e(n,m)}function r(n,i,f){return u.map(i,function(h){return a(n,h,f)})}function t(n,i){var f=new d;u.forEach(n,function(h){var g=h.graph().root,p=x(h,g,f,i);u.forEach(p.vs,function(m,l){h.node(m).order=l}),c(h,f,p.vs)})}function e(n,i){u.forEach(i,function(f){u.forEach(f,function(h,g){n.node(h).order=g})})}},2588:(S,I,v)=>{"use strict";var u=v(38436);S.exports=A;function A(E){var x={},a=u.filter(E.nodes(),function(r){return!E.children(r).length}),c=u.max(u.map(a,function(r){return E.node(r).rank})),d=u.map(u.range(c+1),function(){return[]});function s(r){if(!u.has(x,r)){x[r]=!0;var t=E.node(r);d[t.rank].push(r),u.forEach(E.successors(r),s)}}var o=u.sortBy(a,function(r){return E.node(r).rank});return u.forEach(o,s),d}},83678:(S,I,v)=>{"use strict";var u=v(38436);S.exports=A;function A(a,c){var d={};u.forEach(a,function(o,r){var t=d[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:r};u.isUndefined(o.barycenter)||(t.barycenter=o.barycenter,t.weight=o.weight)}),u.forEach(c.edges(),function(o){var r=d[o.v],t=d[o.w];!u.isUndefined(r)&&!u.isUndefined(t)&&(t.indegree++,r.out.push(d[o.w]))});var s=u.filter(d,function(o){return!o.indegree});return E(s)}function E(a){var c=[];function d(r){return function(t){t.merged||(u.isUndefined(t.barycenter)||u.isUndefined(r.barycenter)||t.barycenter>=r.barycenter)&&x(r,t)}}function s(r){return function(t){t.in.push(r),--t.indegree===0&&a.push(t)}}for(;a.length;){var o=a.pop();c.push(o),u.forEach(o.in.reverse(),d(o)),u.forEach(o.out,s(o))}return u.map(u.filter(c,function(r){return!r.merged}),function(r){return u.pick(r,["vs","i","barycenter","weight"])})}function x(a,c){var d=0,s=0;a.weight&&(d+=a.barycenter*a.weight,s+=a.weight),c.weight&&(d+=c.barycenter*c.weight,s+=c.weight),a.vs=c.vs.concat(a.vs),a.barycenter=d/s,a.weight=s,a.i=Math.min(c.i,a.i),c.merged=!0}},61026:(S,I,v)=>{var u=v(38436),A=v(35439),E=v(83678),x=v(87304);S.exports=a;function a(s,o,r,t){var e=s.children(o),n=s.node(o),i=n?n.borderLeft:void 0,f=n?n.borderRight:void 0,h={};i&&(e=u.filter(e,function(y){return y!==i&&y!==f}));var g=A(s,e);u.forEach(g,function(y){if(s.children(y.v).length){var M=a(s,y.v,r,t);h[y.v]=M,u.has(M,"barycenter")&&d(y,M)}});var p=E(g,r);c(p,h);var m=x(p,t);if(i&&(m.vs=u.flatten([i,m.vs,f],!0),s.predecessors(i).length)){var l=s.node(s.predecessors(i)[0]),b=s.node(s.predecessors(f)[0]);u.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+l.order+b.order)/(m.weight+2),m.weight+=2}return m}function c(s,o){u.forEach(s,function(r){r.vs=u.flatten(r.vs.map(function(t){return o[t]?o[t].vs:t}),!0)})}function d(s,o){u.isUndefined(s.barycenter)?(s.barycenter=o.barycenter,s.weight=o.weight):(s.barycenter=(s.barycenter*s.weight+o.barycenter*o.weight)/(s.weight+o.weight),s.weight+=o.weight)}},87304:(S,I,v)=>{var u=v(38436),A=v(11138);S.exports=E;function E(c,d){var s=A.partition(c,function(h){return u.has(h,"barycenter")}),o=s.lhs,r=u.sortBy(s.rhs,function(h){return-h.i}),t=[],e=0,n=0,i=0;o.sort(a(!!d)),i=x(t,r,i),u.forEach(o,function(h){i+=h.vs.length,t.push(h.vs),e+=h.barycenter*h.weight,n+=h.weight,i=x(t,r,i)});var f={vs:u.flatten(t,!0)};return n&&(f.barycenter=e/n,f.weight=n),f}function x(c,d,s){for(var o;d.length&&(o=u.last(d)).i<=s;)d.pop(),c.push(o.vs),s++;return s}function a(c){return function(d,s){return d.barycenter<s.barycenter?-1:d.barycenter>s.barycenter?1:c?s.i-d.i:d.i-s.i}}},24219:(S,I,v)=>{var u=v(38436);S.exports=A;function A(a){var c=x(a);u.forEach(a.graph().dummyChains,function(d){for(var s=a.node(d),o=s.edgeObj,r=E(a,c,o.v,o.w),t=r.path,e=r.lca,n=0,i=t[n],f=!0;d!==o.w;){if(s=a.node(d),f){for(;(i=t[n])!==e&&a.node(i).maxRank<s.rank;)n++;i===e&&(f=!1)}if(!f){for(;n<t.length-1&&a.node(i=t[n+1]).minRank<=s.rank;)n++;i=t[n]}a.setParent(d,i),d=a.successors(d)[0]}})}function E(a,c,d,s){var o=[],r=[],t=Math.min(c[d].low,c[s].low),e=Math.max(c[d].lim,c[s].lim),n,i;n=d;do n=a.parent(n),o.push(n);while(n&&(c[n].low>t||e>c[n].lim));for(i=n,n=s;(n=a.parent(n))!==i;)r.push(n);return{path:o.concat(r.reverse()),lca:i}}function x(a){var c={},d=0;function s(o){var r=d;u.forEach(a.children(o),s),c[o]={low:r,lim:d++}}return u.forEach(a.children(),s),c}},3573:(S,I,v)=>{"use strict";var u=v(38436),A=v(70574).Graph,E=v(11138);S.exports={positionX:f,findType1Conflicts:x,findType2Conflicts:a,addConflict:d,hasConflict:s,verticalAlignment:o,horizontalCompaction:r,alignCoordinates:n,findSmallestWidthAlignment:e,balance:i};function x(p,m){var l={};function b(y,M){var P=0,L=0,O=y.length,w=u.last(M);return u.forEach(M,function(N,C){var F=c(p,N),R=F?p.node(F).order:O;(F||N===w)&&(u.forEach(M.slice(L,C+1),function(k){u.forEach(p.predecessors(k),function(W){var Y=p.node(W),$=Y.order;($<P||R<$)&&!(Y.dummy&&p.node(k).dummy)&&d(l,W,k)})}),L=C+1,P=R)}),M}return u.reduce(m,b),l}function a(p,m){var l={};function b(M,P,L,O,w){var N;u.forEach(u.range(P,L),function(C){N=M[C],p.node(N).dummy&&u.forEach(p.predecessors(N),function(F){var R=p.node(F);R.dummy&&(R.order<O||R.order>w)&&d(l,F,N)})})}function y(M,P){var L=-1,O,w=0;return u.forEach(P,function(N,C){if(p.node(N).dummy==="border"){var F=p.predecessors(N);F.length&&(O=p.node(F[0]).order,b(P,w,C,L,O),w=C,L=O)}b(P,w,P.length,O,M.length)}),P}return u.reduce(m,y),l}function c(p,m){if(p.node(m).dummy)return u.find(p.predecessors(m),function(l){return p.node(l).dummy})}function d(p,m,l){if(m>l){var b=m;m=l,l=b}var y=p[m];y||(p[m]=y={}),y[l]=!0}function s(p,m,l){if(m>l){var b=m;m=l,l=b}return u.has(p[m],l)}function o(p,m,l,b){var y={},M={},P={};return u.forEach(m,function(L){u.forEach(L,function(O,w){y[O]=O,M[O]=O,P[O]=w})}),u.forEach(m,function(L){var O=-1;u.forEach(L,function(w){var N=b(w);if(N.length){N=u.sortBy(N,function(W){return P[W]});for(var C=(N.length-1)/2,F=Math.floor(C),R=Math.ceil(C);F<=R;++F){var k=N[F];M[w]===w&&O<P[k]&&!s(l,w,k)&&(M[k]=w,M[w]=y[w]=y[k],O=P[k])}}})}),{root:y,align:M}}function r(p,m,l,b,y){var M={},P=t(p,m,l,y),L=y?"borderLeft":"borderRight";function O(C,F){for(var R=P.nodes(),k=R.pop(),W={};k;)W[k]?C(k):(W[k]=!0,R.push(k),R=R.concat(F(k))),k=R.pop()}function w(C){M[C]=P.inEdges(C).reduce(function(F,R){return Math.max(F,M[R.v]+P.edge(R))},0)}function N(C){var F=P.outEdges(C).reduce(function(k,W){return Math.min(k,M[W.w]-P.edge(W))},Number.POSITIVE_INFINITY),R=p.node(C);F!==Number.POSITIVE_INFINITY&&R.borderType!==L&&(M[C]=Math.max(M[C],F))}return O(w,P.predecessors.bind(P)),O(N,P.successors.bind(P)),u.forEach(b,function(C){M[C]=M[l[C]]}),M}function t(p,m,l,b){var y=new A,M=p.graph(),P=h(M.nodesep,M.edgesep,b);return u.forEach(m,function(L){var O;u.forEach(L,function(w){var N=l[w];if(y.setNode(N),O){var C=l[O],F=y.edge(C,N);y.setEdge(C,N,Math.max(P(p,w,O),F||0))}O=w})}),y}function e(p,m){return u.minBy(u.values(m),function(l){var b=Number.NEGATIVE_INFINITY,y=Number.POSITIVE_INFINITY;return u.forIn(l,function(M,P){var L=g(p,P)/2;b=Math.max(M+L,b),y=Math.min(M-L,y)}),b-y})}function n(p,m){var l=u.values(m),b=u.min(l),y=u.max(l);u.forEach(["u","d"],function(M){u.forEach(["l","r"],function(P){var L=M+P,O=p[L],w;if(O!==m){var N=u.values(O);w=P==="l"?b-u.min(N):y-u.max(N),w&&(p[L]=u.mapValues(O,function(C){return C+w}))}})})}function i(p,m){return u.mapValues(p.ul,function(l,b){if(m)return p[m.toLowerCase()][b];var y=u.sortBy(u.map(p,b));return(y[1]+y[2])/2})}function f(p){var m=E.buildLayerMatrix(p),l=u.merge(x(p,m),a(p,m)),b={},y;u.forEach(["u","d"],function(P){y=P==="u"?m:u.values(m).reverse(),u.forEach(["l","r"],function(L){L==="r"&&(y=u.map(y,function(C){return u.values(C).reverse()}));var O=(P==="u"?p.predecessors:p.successors).bind(p),w=o(p,y,l,O),N=r(p,y,w.root,w.align,L==="r");L==="r"&&(N=u.mapValues(N,function(C){return-C})),b[P+L]=N})});var M=e(p,b);return n(b,M),i(b,p.graph().align)}function h(p,m,l){return function(b,y,M){var P=b.node(y),L=b.node(M),O=0,w;if(O+=P.width/2,u.has(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":w=-P.width/2;break;case"r":w=P.width/2;break}if(w&&(O+=l?w:-w),w=0,O+=(P.dummy?m:p)/2,O+=(L.dummy?m:p)/2,O+=L.width/2,u.has(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":w=L.width/2;break;case"r":w=-L.width/2;break}return w&&(O+=l?w:-w),w=0,O}}function g(p,m){return p.node(m).width}},17873:(S,I,v)=>{"use strict";var u=v(38436),A=v(11138),E=v(3573).positionX;S.exports=x;function x(c){c=A.asNonCompoundGraph(c),a(c),u.forEach(E(c),function(d,s){c.node(s).x=d})}function a(c){var d=A.buildLayerMatrix(c),s=c.graph().ranksep,o=0;u.forEach(d,function(r){var t=u.max(u.map(r,function(e){return c.node(e).height}));u.forEach(r,function(e){c.node(e).y=o+t/2}),o+=t+s})}},20300:(S,I,v)=>{"use strict";var u=v(38436),A=v(70574).Graph,E=v(76681).slack;S.exports=x;function x(s){var o=new A({directed:!1}),r=s.nodes()[0],t=s.nodeCount();o.setNode(r,{});for(var e,n;a(o,s)<t;)e=c(o,s),n=o.hasNode(e.v)?E(s,e):-E(s,e),d(o,s,n);return o}function a(s,o){function r(t){u.forEach(o.nodeEdges(t),function(e){var n=e.v,i=t===n?e.w:n;!s.hasNode(i)&&!E(o,e)&&(s.setNode(i,{}),s.setEdge(t,i,{}),r(i))})}return u.forEach(s.nodes(),r),s.nodeCount()}function c(s,o){return u.minBy(o.edges(),function(r){if(s.hasNode(r.v)!==s.hasNode(r.w))return E(o,r)})}function d(s,o,r){u.forEach(s.nodes(),function(t){o.node(t).rank+=r})}},78093:(S,I,v)=>{"use strict";var u=v(76681),A=u.longestPath,E=v(20300),x=v(42472);S.exports=a;function a(o){switch(o.graph().ranker){case"network-simplex":s(o);break;case"tight-tree":d(o);break;case"longest-path":c(o);break;default:s(o)}}var c=A;function d(o){A(o),E(o)}function s(o){x(o)}},42472:(S,I,v)=>{"use strict";var u=v(38436),A=v(20300),E=v(76681).slack,x=v(76681).longestPath,a=v(70574).alg.preorder,c=v(70574).alg.postorder,d=v(11138).simplify;S.exports=s,s.initLowLimValues=e,s.initCutValues=o,s.calcCutValue=t,s.leaveEdge=i,s.enterEdge=f,s.exchangeEdges=h;function s(l){l=d(l),x(l);var b=A(l);e(b),o(b,l);for(var y,M;y=i(b);)M=f(b,l,y),h(b,l,y,M)}function o(l,b){var y=c(l,l.nodes());y=y.slice(0,y.length-1),u.forEach(y,function(M){r(l,b,M)})}function r(l,b,y){var M=l.node(y),P=M.parent;l.edge(y,P).cutvalue=t(l,b,y)}function t(l,b,y){var M=l.node(y),P=M.parent,L=!0,O=b.edge(y,P),w=0;return O||(L=!1,O=b.edge(P,y)),w=O.weight,u.forEach(b.nodeEdges(y),function(N){var C=N.v===y,F=C?N.w:N.v;if(F!==P){var R=C===L,k=b.edge(N).weight;if(w+=R?k:-k,p(l,y,F)){var W=l.edge(y,F).cutvalue;w+=R?-W:W}}}),w}function e(l,b){arguments.length<2&&(b=l.nodes()[0]),n(l,{},1,b)}function n(l,b,y,M,P){var L=y,O=l.node(M);return b[M]=!0,u.forEach(l.neighbors(M),function(w){u.has(b,w)||(y=n(l,b,y,w,M))}),O.low=L,O.lim=y++,P?O.parent=P:delete O.parent,y}function i(l){return u.find(l.edges(),function(b){return l.edge(b).cutvalue<0})}function f(l,b,y){var M=y.v,P=y.w;b.hasEdge(M,P)||(M=y.w,P=y.v);var L=l.node(M),O=l.node(P),w=L,N=!1;L.lim>O.lim&&(w=O,N=!0);var C=u.filter(b.edges(),function(F){return N===m(l,l.node(F.v),w)&&N!==m(l,l.node(F.w),w)});return u.minBy(C,function(F){return E(b,F)})}function h(l,b,y,M){var P=y.v,L=y.w;l.removeEdge(P,L),l.setEdge(M.v,M.w,{}),e(l),o(l,b),g(l,b)}function g(l,b){var y=u.find(l.nodes(),function(P){return!b.node(P).parent}),M=a(l,y);M=M.slice(1),u.forEach(M,function(P){var L=l.node(P).parent,O=b.edge(P,L),w=!1;O||(O=b.edge(L,P),w=!0),b.node(P).rank=b.node(L).rank+(w?O.minlen:-O.minlen)})}function p(l,b,y){return l.hasEdge(b,y)}function m(l,b,y){return y.low<=b.lim&&b.lim<=y.lim}},76681:(S,I,v)=>{"use strict";var u=v(38436);S.exports={longestPath:A,slack:E};function A(x){var a={};function c(d){var s=x.node(d);if(u.has(a,d))return s.rank;a[d]=!0;var o=u.min(u.map(x.outEdges(d),function(r){return c(r.w)-x.edge(r).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),s.rank=o}u.forEach(x.sources(),c)}function E(x,a){return x.node(a.w).rank-x.node(a.v).rank-x.edge(a).minlen}},11138:(S,I,v)=>{"use strict";var u=v(25108),A=v(38436),E=v(70574).Graph;S.exports={addDummyNode:x,simplify:a,asNonCompoundGraph:c,successorWeights:d,predecessorWeights:s,intersectRect:o,buildLayerMatrix:r,normalizeRanks:t,removeEmptyRanks:e,addBorderNode:n,maxRank:i,partition:f,time:h,notime:g};function x(p,m,l,b){var y;do y=A.uniqueId(b);while(p.hasNode(y));return l.dummy=m,p.setNode(y,l),y}function a(p){var m=new E().setGraph(p.graph());return A.forEach(p.nodes(),function(l){m.setNode(l,p.node(l))}),A.forEach(p.edges(),function(l){var b=m.edge(l.v,l.w)||{weight:0,minlen:1},y=p.edge(l);m.setEdge(l.v,l.w,{weight:b.weight+y.weight,minlen:Math.max(b.minlen,y.minlen)})}),m}function c(p){var m=new E({multigraph:p.isMultigraph()}).setGraph(p.graph());return A.forEach(p.nodes(),function(l){p.children(l).length||m.setNode(l,p.node(l))}),A.forEach(p.edges(),function(l){m.setEdge(l,p.edge(l))}),m}function d(p){var m=A.map(p.nodes(),function(l){var b={};return A.forEach(p.outEdges(l),function(y){b[y.w]=(b[y.w]||0)+p.edge(y).weight}),b});return A.zipObject(p.nodes(),m)}function s(p){var m=A.map(p.nodes(),function(l){var b={};return A.forEach(p.inEdges(l),function(y){b[y.v]=(b[y.v]||0)+p.edge(y).weight}),b});return A.zipObject(p.nodes(),m)}function o(p,m){var l=p.x,b=p.y,y=m.x-l,M=m.y-b,P=p.width/2,L=p.height/2;if(!y&&!M)throw new Error("Not possible to find intersection inside of the rectangle");var O,w;return Math.abs(M)*P>Math.abs(y)*L?(M<0&&(L=-L),O=L*y/M,w=L):(y<0&&(P=-P),O=P,w=P*M/y),{x:l+O,y:b+w}}function r(p){var m=A.map(A.range(i(p)+1),function(){return[]});return A.forEach(p.nodes(),function(l){var b=p.node(l),y=b.rank;A.isUndefined(y)||(m[y][b.order]=l)}),m}function t(p){var m=A.min(A.map(p.nodes(),function(l){return p.node(l).rank}));A.forEach(p.nodes(),function(l){var b=p.node(l);A.has(b,"rank")&&(b.rank-=m)})}function e(p){var m=A.min(A.map(p.nodes(),function(M){return p.node(M).rank})),l=[];A.forEach(p.nodes(),function(M){var P=p.node(M).rank-m;l[P]||(l[P]=[]),l[P].push(M)});var b=0,y=p.graph().nodeRankFactor;A.forEach(l,function(M,P){A.isUndefined(M)&&P%y!==0?--b:b&&A.forEach(M,function(L){p.node(L).rank+=b})})}function n(p,m,l,b){var y={width:0,height:0};return arguments.length>=4&&(y.rank=l,y.order=b),x(p,"border",y,m)}function i(p){return A.max(A.map(p.nodes(),function(m){var l=p.node(m).rank;if(!A.isUndefined(l))return l}))}function f(p,m){var l={lhs:[],rhs:[]};return A.forEach(p,function(b){m(b)?l.lhs.push(b):l.rhs.push(b)}),l}function h(p,m){var l=A.now();try{return m()}finally{u.log(p+" time: "+(A.now()-l)+"ms")}}function g(p,m){return m()}},88177:S=>{S.exports="0.8.5"},36112:(S,I,v)=>{"use strict";v.r(I),v.d(I,{default:()=>Ut});var u=v(67294),A=v(49656),E=v(68547),x=v(35133),a=v.n(x),c=v(71893),d=v(97132),s=v(67838),o=v(49066),r=v(35961),t=v(29728);const n=z=>`${a()}.${z}`;var i=v(54597),f=v(70681),h=v.n(f);function g(z){var G=new(h()).graphlib.Graph({multigraph:!0,compound:!0});G.setGraph({align:"DR",rankdir:"RL",ranker:"longest-path",marginx:25,marginy:25}),G.setDefaultEdgeLabel(function(){return{}}),_.forEach(z.getNodes(),U=>{G.setNode(U.getID(),{width:U.width,height:U.height})}),_.forEach(z.getLinks(),U=>{U.getSourcePort()&&U.getTargetPort()&&G.setEdge({v:U.getSourcePort().getNode().getID(),w:U.getTargetPort().getNode().getID(),name:U.getID()})}),h().layout(G),G.nodes().forEach(U=>{const et=G.node(U);z.getNode(U).setPosition(et.x-et.width/2,et.y-et.height/2)}),G.edges().forEach(U=>{const et=G.edge(U),Q=z.getLink(U.name),J=[Q.getFirstPoint()];for(let st=1;st<et.points.length-1;st++)J.push(new i.PointModel(Q,{x:et.points[st].x,y:et.points[st].y}));Q.setPoints(J.concat(Q.getLastPoint()))})}var p=(z,G,U)=>new Promise((et,Q)=>{var J=V=>{try{nt(U.next(V))}catch(ut){Q(ut)}},st=V=>{try{nt(U.throw(V))}catch(ut){Q(ut)}},nt=V=>V.done?et(V.value):Promise.resolve(V.value).then(J,st);nt((U=U.apply(z,G)).next())});function m(){return p(this,null,function*(){return yield(0,E.request)(`/${a()}/er-data`)})}function l(){return p(this,null,function*(){return yield(0,E.request)(`/${a()}/tr-data`)})}var b=v(96486);function y(z,G){const U=new i.DiagramEngine;U.registerNodeFactory(new i.DefaultNodeFactory),U.registerLinkFactory(new i.DefaultLinkFactory),U.registerPortFactory(new i.DefaultPortFactory),U.registerLabelFactory(new i.DefaultLabelFactory);const et=new i.DiagramModel,Q=[],J={},st=[];for(const nt in z){const V=z[nt],ut=V.modelType==="component"?"rgb(255, 200, 0)":V.kind==="collectionType"?"rgb(0,126,255)":"rgb(85, 171, 0)",lt=new i.DefaultNodeModel(V.key,ut),ot={},Z=Object.keys(V.attributes);ot.id=lt.addInPort("id");for(const H of Z){const vt=V.attributes[H],dt=vt.type==="relation",gt=vt.type==="component",at=vt.type==="dynamiczone";dt||gt||at?ot[H]=lt.addOutPort(H):ot[H]=lt.addInPort(H)}lt.setPosition(0,0),Q.push(lt),J[V.key]={node:lt,ports:ot}}for(const nt in z){const V=z[nt],{node:ut,ports:lt}=J[V.key],ot=Object.keys(V.attributes);for(const Z of ot){const H=V.attributes[Z],vt=H.type==="relation",dt=H.type==="component"&&(H==null?void 0:H.component),gt=H.type==="dynamiczone"&&(H==null?void 0:H.components),at=H==null?void 0:H.target;if(vt&&G.relations&&at&&J[at]){const mt=lt[Z].link(J[at].ports.id);mt.setColor("#999"),st.push(mt)}else if(dt&&J[dt]&&G.components){const mt=lt[Z].link(J[dt].ports.id);mt.setColor("#ffc800"),st.push(mt)}else if(gt&&Array.isArray(gt)&&G.dynamiczones){for(const xt of gt)if(J[xt]){const it=lt[Z].link(J[xt].ports.id);it.setColor("#ff6400"),st.push(it)}}}J[V.key]={node:ut,ports:lt}}return et.addAll(...Q,...st),U.setDiagramModel(et),{engine:U,model:et}}var M=v(25108);function P(z,G){var U,et;const Q=new i.DiagramEngine;Q.registerNodeFactory(new i.DefaultNodeFactory),Q.registerLinkFactory(new i.DefaultLinkFactory),Q.registerPortFactory(new i.DefaultPortFactory),Q.registerLabelFactory(new i.DefaultLabelFactory);const J=new i.DiagramModel,st=[],nt={},V=[],ut=ot=>{var Z;return(Z=z==null?void 0:z.find(H=>H.key===ot))==null?void 0:Z.name},lt=ot=>{var Z;return(Z=z==null?void 0:z.find(H=>H.name===ot))==null?void 0:Z.key};for(const ot in z){const Z=z[ot],H=Z.name.endsWith("_components")?"#ff6400":Z.name.startsWith("components_")?"#ffc800":"rgb(0,126,255)",vt=new i.DefaultNodeModel(Z.name,H),dt={},gt=Object.keys(Z.attributes);for(const at of gt)Z.attributes[at].type==="relation"?dt[at]=vt.addOutPort(`*${at}`):dt[at]=vt.addInPort(at);vt.setPosition(0,0),st.push(vt),nt[Z.name]={node:vt,ports:dt}}for(const ot in z){const Z=z[ot],{ports:H}=nt[Z.name],vt=(U=Z.foreignKeys)!=null?U:[],dt=Object.keys(Z.attributes);for(const gt of dt){const at=Z.attributes[gt],xt=at.type==="relation",mt=at.joinTable;if(xt&&!mt){const it=ut(at.target),yt=nt[it];if(!yt)continue;const At=H[gt],wt=yt.ports.id,St=At.link(wt);St.setColor("#00FF00"),V.push(St)}else if(xt&&mt){const{joinColumn:it,inverseJoinColumn:yt,name:At,on:wt,orderBy:St}=mt;if(!it)continue;if(!yt){M.log("inverseJoinColumn missing22",mt);continue}const Nt=nt[At];if(!Nt||!wt)continue;M.log({mn:Z.name,attr:gt,name:At,fieldData:at,on:wt,joinColumn:it,inverseJoinColumn:yt,reference:Nt});const It=H[gt],kt=Nt.ports.id,Dt=It.link(kt);Dt.setColor("#FF00FF"),V.push(Dt);const Ct=Nt.ports[yt.name],Ft=(et=nt[ut(at.target)])==null?void 0:et.ports.id;Ct.in=!1,Ft.in=!0,M.log({outPort:It,out2Port:Ct,inPort:kt,in2Port:Ft});const Rt=Ct.link(Ft);Rt.setColor("#00FFFF"),V.push(Rt)}}}return J.addAll(...st,...V),Q.setDiagramModel(J),{engine:Q,model:J}}var L=v(93379),O=v.n(L),w=v(7795),N=v.n(w),C=v(90569),F=v.n(C),R=v(3565),k=v.n(R),W=v(19216),Y=v.n(W),$=v(44589),q=v.n($),ct=v(45473),tt={};tt.styleTagTransform=q(),tt.setAttributes=k(),tt.insert=F().bind(null,"head"),tt.domAPI=N(),tt.insertStyleElement=Y();var Et=O()(ct.Z,tt);const Lt=ct.Z&&ct.Z.locals?ct.Z.locals:void 0;var D=v(44840),T={};T.styleTagTransform=q(),T.setAttributes=k(),T.insert=F().bind(null,"head"),T.domAPI=N(),T.insertStyleElement=Y();var j=O()(D.Z,T);const B=D.Z&&D.Z.locals?D.Z.locals:void 0;var X=Object.defineProperty,K=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,Mt=(z,G,U)=>G in z?X(z,G,{enumerable:!0,configurable:!0,writable:!0,value:U}):z[G]=U,ht=(z,G)=>{for(var U in G||(G={}))rt.call(G,U)&&Mt(z,U,G[U]);if(K)for(var U of K(G))pt.call(G,U)&&Mt(z,U,G[U]);return z},ft=(z,G,U)=>new Promise((et,Q)=>{var J=V=>{try{nt(U.next(V))}catch(ut){Q(ut)}},st=V=>{try{nt(U.throw(V))}catch(ut){Q(ut)}},nt=V=>V.done?et(V.value):Promise.resolve(V.value).then(J,st);nt((U=U.apply(z,G)).next())});const Pt=c.default.span`
  width: 12px;
  height: 3px;
  vertical-align: middle;
  display: inline-block;
  margin: 0 8px 0 4px;
  border-radius: 1px;

  background-color: ${z=>z.color?z.color:"#999"};
`,bt=c.default.span`
  svg {
    width: 1em;
    height: 1em;
    vertical-align: middle;

    > g,
    path {
      fill: none
    }
  }
`;function Ot(z){return u.createElement(bt,null,u.createElement("svg",ht({width:"1em",height:"1em",viewBox:"0 0 24 24"},z),u.createElement("g",{fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),u.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),u.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}))))}function Tt(z){return u.createElement(bt,null,u.createElement("svg",ht({width:"1em",height:"1em",viewBox:"0 0 24 24"},z),u.createElement("g",{fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),u.createElement("path",{d:"M3.27 6.96L12 12.01l8.73-5.05"}),u.createElement("path",{d:"M12 22.08V12"}))))}function jt(z,G){const U=new URL(window.location);G?U.searchParams.set(z,G):U.searchParams.delete(z),window.history.pushState({},"",U)}const Wt=()=>{const z=new URL(window.location),[G,U]=(0,u.useState)(z.searchParams.get("type")),[et,Q]=(0,u.useState)(),[J,st]=(0,u.useState)(),[nt,V]=(0,u.useState)(),[ut,lt]=(0,u.useState)(),[ot,Z]=(0,u.useState)(!0),[H,vt]=(0,u.useState)(!0),[dt,gt]=(0,u.useState)(!0),{formatMessage:at}=(0,d.useIntl)(),xt=at({id:n("name"),defaultMessage:"Entity Relationship Chart"}),mt=at({id:n("description"),defaultMessage:"Displays Entity Relationship Diagram of all Strapi models, fields and relations."});return(0,u.useEffect)(()=>{function it(){return ft(this,null,function*(){try{G===void 0&&!J?st(yield m()):G==="database"&&!nt&&V(yield l())}catch(yt){lt(yt)}})}it()},[G,st,V,lt]),(0,u.useEffect)(()=>{Q(null),setTimeout(()=>{if(G===void 0&&J){const{engine:it,model:yt}=y(J,{relations:ot,components:H,dynamiczones:dt});Q(it),g(yt),it.repaintCanvas()}else if(G==="database"&&nt){const{engine:it,model:yt}=P(nt,{relations:ot,components:H,dynamiczones:dt});Q(it),g(yt),it.repaintCanvas()}},0)},[G,J,nt,ot,H,dt]),(0,u.useEffect)(()=>{jt("type",G)},[G]),u.createElement("main",null,u.createElement(s.T,{title:xt,subtitle:mt,primaryAction:G===void 0?u.createElement(t.z,{startIcon:u.createElement(Ot,null),onClick:()=>U("database")},"Switch to Database view"):u.createElement(t.z,{startIcon:u.createElement(Tt,null),onClick:()=>U()},"Switch to API view")}),u.createElement(o.D,null,ut&&u.createElement(r.x,{padding:7,background:"neutral0",hasRadius:!0},u.createElement("h2",null,ut.toString()),u.createElement("pre",null,u.createElement("code",null,ut.stack))),!ut&&u.createElement(u.Fragment,null,u.createElement(r.x,{padding:1},u.createElement("label",null,u.createElement("input",{type:"checkbox",checked:ot,onChange:it=>Z(it.target.checked)})," relations",u.createElement(Pt,null)),u.createElement("label",null,u.createElement("input",{type:"checkbox",checked:H,onChange:it=>vt(it.target.checked)})," components",u.createElement(Pt,{color:"#ffc800"})),u.createElement("label",null,u.createElement("input",{type:"checkbox",checked:dt,onChange:it=>gt(it.target.checked)})," dynamiczones",u.createElement(Pt,{color:"#ff6400"}))),u.createElement(r.x,{background:"neutral0",hasRadius:!0,style:{height:"80vh",width:"100%"}},et&&u.createElement(i.DiagramWidget,{diagramEngine:et})))))},Bt=(0,u.memo)(Wt),Ut=()=>u.createElement("div",null,u.createElement(A.Switch,null,u.createElement(A.Route,{path:`/plugins/${a()}`,component:Bt,exact:!0}),u.createElement(A.Route,{component:E.NotFound})))},54597:(S,I,v)=>{(function(A,E){S.exports=E(v(96486),v(67294))})(window,function(u,A){return function(E){var x={};function a(c){if(x[c])return x[c].exports;var d=x[c]={i:c,l:!1,exports:{}};return E[c].call(d.exports,d,d.exports,a),d.l=!0,d.exports}return a.m=E,a.c=x,a.d=function(c,d,s){a.o(c,d)||Object.defineProperty(c,d,{configurable:!1,enumerable:!0,get:s})},a.r=function(c){Object.defineProperty(c,"__esModule",{value:!0})},a.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(d,"a",d),d},a.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},a.p="",a(a.s=45)}([function(E,x){E.exports=u},function(E,x){E.exports=A},function(E,x){var a={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};E.exports=a},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),d=this&&this.__assign||Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=function(r){c(t,r);function t(e,n){var i=r.call(this,n)||this;return i.className=e,i}return t.prototype.bem=function(e){return(this.props.baseClass||this.className)+e+" "},t.prototype.getClassName=function(){return(this.props.baseClass||this.className)+" "+(this.props.className?this.props.className+" ":"")},t.prototype.getProps=function(){return d({},this.props.extraProps||{},{className:this.getClassName()})},t}(s.Component);x.BaseWidget=o},function(E,x){function a(e){for(var n=[[e.x,e.y]];e.parent;)e=e.parent,n.push([e.x,e.y]);return n.reverse()}x.backtrace=a;function c(e,n){var i=a(e),f=a(n);return i.concat(f.reverse())}x.biBacktrace=c;function d(e){var n,i=0,f,h,g,p;for(n=1;n<e.length;++n)f=e[n-1],h=e[n],g=f[0]-h[0],p=f[1]-h[1],i+=Math.sqrt(g*g+p*p);return i}x.pathLength=d;function s(e,n,i,f){var h=Math.abs,g=[],p,m,l,b,y,M;for(l=h(i-e),b=h(f-n),p=e<i?1:-1,m=n<f?1:-1,y=l-b;g.push([e,n]),!(e===i&&n===f);)M=2*y,M>-b&&(y=y-b,e=e+p),M<l&&(y=y+l,n=n+m);return g}x.interpolate=s;function o(e){var n=[],i=e.length,f,h,g,p,m,l;if(i<2)return n;for(m=0;m<i-1;++m)for(f=e[m],h=e[m+1],g=s(f[0],f[1],h[0],h[1]),p=g.length,l=0;l<p-1;++l)n.push(g[l]);return n.push(e[i-1]),n}x.expandPath=o;function r(e,n){var i=n.length,f=n[0][0],h=n[0][1],g=n[i-1][0],p=n[i-1][1],m,l,b,y,M,P,L,O,w,N,C;for(m=f,l=h,M=[[m,l]],P=2;P<i;++P){for(O=n[P],b=O[0],y=O[1],w=s(m,l,b,y),C=!1,L=1;L<w.length;++L)if(N=w[L],!e.isWalkableAt(N[0],N[1])){C=!0;break}C&&(lastValidCoord=n[P-1],M.push(lastValidCoord),m=lastValidCoord[0],l=lastValidCoord[1])}return M.push([g,p]),M}x.smoothenPath=r;function t(e){if(e.length<3)return e;var n=[],i=e[0][0],f=e[0][1],h=e[1][0],g=e[1][1],p=h-i,m=g-f,l,b,y,M,P,L;for(P=Math.sqrt(p*p+m*m),p/=P,m/=P,n.push([i,f]),L=2;L<e.length;L++)l=h,b=g,y=p,M=m,h=e[L][0],g=e[L][1],p=h-l,m=g-b,P=Math.sqrt(p*p+m*m),p/=P,m/=P,(p!==y||m!==M)&&n.push([l,b]);return n.push([h,g]),n}x.compressPath=t},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(6),s=function(o){c(r,o);function r(t,e){var n=o.call(this)||this;return n.x=e.x,n.y=e.y,n.parent=t,n}return r.prototype.getSelectedEntities=function(){return o.prototype.isSelected.call(this)&&!this.isConnectedToPort()?[this]:[]},r.prototype.isConnectedToPort=function(){return this.parent.getPortForPoint(this)!==null},r.prototype.getLink=function(){return this.getParent()},r.prototype.deSerialize=function(t,e){o.prototype.deSerialize.call(this,t,e),this.x=t.x,this.y=t.y},r.prototype.serialize=function(){return _.merge(o.prototype.serialize.call(this),{x:this.x,y:this.y})},r.prototype.remove=function(){this.parent&&this.parent.removePoint(this),o.prototype.remove.call(this)},r.prototype.updateLocation=function(t){this.x=t.x,this.y=t.y},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.isLocked=function(){return o.prototype.isLocked.call(this)||this.getParent().isLocked()},r}(d.BaseModel);x.PointModel=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var s=a(13),o=v(96486),r=function(t){c(e,t);function e(n,i){var f=t.call(this,i)||this;return f.type=n,f.selected=!1,f}return e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(n){this.parent=n},e.prototype.getSelectedEntities=function(){return this.isSelected()?[this]:[]},e.prototype.deSerialize=function(n,i){t.prototype.deSerialize.call(this,n,i),this.type=n.type,this.selected=n.selected},e.prototype.serialize=function(){return o.merge(t.prototype.serialize.call(this),{type:this.type,selected:this.selected})},e.prototype.getType=function(){return this.type},e.prototype.getID=function(){return this.id},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(n){n===void 0&&(n=!0),this.selected=n,this.iterateListeners(function(i,f){i.selectionChanged&&i.selectionChanged(d({},f,{isSelected:n}))})},e.prototype.remove=function(){this.iterateListeners(function(n,i){n.entityRemoved&&n.entityRemoved(i)})},e}(s.BaseEntity);x.BaseModel=r},function(E,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var c=a(70),d=a(16),s=a(51),o=function(){function r(){}return r.UID=function(){return r.TESTING?(r.TESTING_UID++,""+r.TESTING_UID):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},r.closest=function(t,e){return document.body.closest?t.closest(e):c(t,e)},r.generateLinePath=function(t,e){return"M"+t.x+","+t.y+" L "+e.x+","+e.y},r.generateCurvePath=function(t,e,n){n===void 0&&(n=0);var i=Math.abs(t.x-e.x)>Math.abs(t.y-e.y),f=i?n:0,h=i?0:n;return"M"+t.x+","+t.y+" C "+(t.x+f)+","+(t.y+h)+`
    `+(e.x-f)+","+(e.y-h)+" "+e.x+","+e.y},r.generateDynamicPath=function(t){var e=s();return e=e.moveto(t[0][0]*d.ROUTING_SCALING_FACTOR,t[0][1]*d.ROUTING_SCALING_FACTOR),t.slice(1).forEach(function(n){e=e.lineto(n[0]*d.ROUTING_SCALING_FACTOR,n[1]*d.ROUTING_SCALING_FACTOR)}),e.print()},r.TESTING=!1,r.TESTING_UID=0,r}();x.Toolkit=o},function(E,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var c=function(){function d(s){this.type=s}return d.prototype.getType=function(){return this.type},d}();x.AbstractFactory=c},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(6),s=v(96486),o=function(r){c(t,r);function t(e,n){e===void 0&&(e="default");var i=r.call(this,e,n)||this;return i.x=0,i.y=0,i.extras={},i.ports={},i}return t.prototype.setPosition=function(e,n){var i=this.x,f=this.y;s.forEach(this.ports,function(h){s.forEach(h.getLinks(),function(g){var p=g.getPointForPort(h);p.x=p.x+e-i,p.y=p.y+n-f})}),this.x=e,this.y=n},t.prototype.getSelectedEntities=function(){var e=r.prototype.getSelectedEntities.call(this);return this.isSelected()&&s.forEach(this.ports,function(n){e=e.concat(s.map(n.getLinks(),function(i){return i.getPointForPort(n)}))}),e},t.prototype.deSerialize=function(e,n){var i=this;r.prototype.deSerialize.call(this,e,n),this.x=e.x,this.y=e.y,this.extras=e.extras,s.forEach(e.ports,function(f){var h=n.getPortFactory(f.type).getNewInstance();h.deSerialize(f,n),i.addPort(h)})},t.prototype.serialize=function(){return s.merge(r.prototype.serialize.call(this),{x:this.x,y:this.y,extras:this.extras,ports:s.map(this.ports,function(e){return e.serialize()})})},t.prototype.doClone=function(e,n){e===void 0&&(e={}),n.ports={},s.forEach(this.ports,function(i){n.addPort(i.clone(e))})},t.prototype.remove=function(){r.prototype.remove.call(this),s.forEach(this.ports,function(e){s.forEach(e.getLinks(),function(n){n.remove()})})},t.prototype.getPortFromID=function(e){for(var n in this.ports)if(this.ports[n].id===e)return this.ports[n];return null},t.prototype.getPort=function(e){return this.ports[e]},t.prototype.getPorts=function(){return this.ports},t.prototype.removePort=function(e){this.ports[e.name]&&(this.ports[e.name].setParent(null),delete this.ports[e.name])},t.prototype.addPort=function(e){return e.setParent(this),this.ports[e.name]=e,e},t.prototype.updateDimensions=function(e){var n=e.width,i=e.height;this.width=n,this.height=i},t}(d.BaseModel);x.NodeModel=o},function(E,x){E.exports={manhattan:function(a,c){return a+c},euclidean:function(a,c){return Math.sqrt(a*a+c*c)},octile:function(a,c){var d=Math.SQRT2-1;return a<c?d*a+c:d*c+a},chebyshev:function(a,c){return Math.max(a,c)}}},function(E,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var c=function(){function d(s,o){this.mouseX=s,this.mouseY=o,this.ms=new Date().getTime()}return d}();x.BaseAction=c},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(6),s=v(96486),o=function(r){c(t,r);function t(e,n,i,f){var h=r.call(this,n,i)||this;return h.name=e,h.links={},h.maximumLinks=f,h}return t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.name=e.name,this.maximumLinks=e.maximumLinks},t.prototype.serialize=function(){return s.merge(r.prototype.serialize.call(this),{name:this.name,parentNode:this.parent.id,links:s.map(this.links,function(e){return e.id}),maximumLinks:this.maximumLinks})},t.prototype.doClone=function(e,n){e===void 0&&(e={}),n.links={},n.parentNode=this.getParent().clone(e)},t.prototype.getNode=function(){return this.getParent()},t.prototype.getName=function(){return this.name},t.prototype.getMaximumLinks=function(){return this.maximumLinks},t.prototype.setMaximumLinks=function(e){this.maximumLinks=e},t.prototype.removeLink=function(e){delete this.links[e.getID()]},t.prototype.addLink=function(e){this.links[e.getID()]=e},t.prototype.getLinks=function(){return this.links},t.prototype.createLinkModel=function(){if(s.isFinite(this.maximumLinks)){var e=s.size(this.links);if(this.maximumLinks===1&&e>=1)return s.values(this.links)[0];if(e>=this.maximumLinks)return null}return null},t.prototype.updateCoords=function(e){var n=e.x,i=e.y,f=e.width,h=e.height;this.x=n,this.y=i,this.width=f,this.height=h},t.prototype.canLinkToPort=function(e){return!0},t.prototype.isLocked=function(){return r.prototype.isLocked.call(this)||this.getParent().isLocked()},t}(d.BaseModel);x.PortModel=o},function(E,x,a){"use strict";var c=this&&this.__assign||Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r};Object.defineProperty(x,"__esModule",{value:!0});var d=a(7),s=v(96486),o=function(){function r(t){this.listeners={},this.id=t||d.Toolkit.UID(),this.locked=!1}return r.prototype.getID=function(){return this.id},r.prototype.doClone=function(t,e){t===void 0&&(t={})},r.prototype.clone=function(t){if(t===void 0&&(t={}),t[this.id])return t[this.id];var e=s.clone(this);return e.id=d.Toolkit.UID(),e.clearListeners(),t[this.id]=e,this.doClone(t,e),e},r.prototype.clearListeners=function(){this.listeners={}},r.prototype.deSerialize=function(t,e){this.id=t.id},r.prototype.serialize=function(){return{id:this.id}},r.prototype.iterateListeners=function(t){var e={id:d.Toolkit.UID(),firing:!0,entity:this,stopPropagation:function(){e.firing=!1}};for(var n in this.listeners)if(this.listeners.hasOwnProperty(n)){if(!e.firing)return;t(this.listeners[n],e)}},r.prototype.removeListener=function(t){return this.listeners[t]?(delete this.listeners[t],!0):!1},r.prototype.addListener=function(t){var e=d.Toolkit.UID();return this.listeners[e]=t,e},r.prototype.isLocked=function(){return this.locked},r.prototype.setLocked=function(t){t===void 0&&(t=!0),this.locked=t,this.iterateListeners(function(e,n){e.lockChanged&&e.lockChanged(c({},n,{locked:t}))})},r}();x.BaseEntity=o},function(E,x,a){var c=a(15),d=a(4),s=a(10),o=a(2);function r(t){t=t||{},this.heuristic=t.heuristic||s.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}r.prototype.findPath=function(t,e,n,i,f){var h=this.openList=new c(function(l,b){return l.f-b.f}),g=this.startNode=f.getNodeAt(t,e),p=this.endNode=f.getNodeAt(n,i),m;for(this.grid=f,g.g=0,g.f=0,h.push(g),g.opened=!0;!h.empty();){if(m=h.pop(),m.closed=!0,m===p)return d.expandPath(d.backtrace(p));this._identifySuccessors(m)}return[]},r.prototype._identifySuccessors=function(t){var e=this.grid,n=this.heuristic,i=this.openList,f=this.endNode.x,h=this.endNode.y,g,p,m,l,b,y=t.x,M=t.y,P,L,O,w,N,C,F,R=Math.abs,k=Math.max;for(g=this._findNeighbors(t),l=0,b=g.length;l<b;++l)if(p=g[l],m=this._jump(p[0],p[1],y,M),m){if(P=m[0],L=m[1],F=e.getNodeAt(P,L),F.closed)continue;N=s.octile(R(P-y),R(L-M)),C=t.g+N,(!F.opened||C<F.g)&&(F.g=C,F.h=F.h||n(R(P-f),R(L-h)),F.f=F.g+F.h,F.parent=t,F.opened?i.updateItem(F):(i.push(F),F.opened=!0))}},E.exports=r},function(E,x,a){E.exports=a(66)},function(E,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var c=a(68);x.ROUTING_SCALING_FACTOR=5;var d=new c.JumpPointFinder({heuristic:c.Heuristic.manhattan,diagonalMovement:c.DiagonalMovement.Never}),s=function(){function o(r){this.instance=d,this.diagramEngine=r}return o.prototype.calculateDirectPath=function(r,t){var e=this.diagramEngine.getCanvasMatrix(),n=new c.Grid(e);return d.findPath(this.diagramEngine.translateRoutingX(Math.floor(r.x/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(r.y/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingX(Math.floor(t.x/x.ROUTING_SCALING_FACTOR)),this.diagramEngine.translateRoutingY(Math.floor(t.y/x.ROUTING_SCALING_FACTOR)),n)},o.prototype.calculateLinkStartEndCoords=function(r,t){var e=t.findIndex(function(h){return r[h[1]][h[0]]===0}),n=t.length-1-t.slice().reverse().findIndex(function(h){return r[h[1]][h[0]]===0});if(!(e===-1||n===-1)){var i=t.slice(0,e),f=t.slice(n);return{start:{x:t[e][0],y:t[e][1]},end:{x:t[n][0],y:t[n][1]},pathToStart:i,pathToEnd:f}}},o.prototype.calculateDynamicPath=function(r,t,e,n,i){var f=this,h=new c.Grid(r),g=d.findPath(t.x,t.y,e.x,e.y,h),p=n.concat(g,i).map(function(m){return[f.diagramEngine.translateRoutingX(m[0],!0),f.diagramEngine.translateRoutingY(m[1],!0)]});return c.Util.compressPath(p)},o}();x.default=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(6),s=v(96486),o=function(r){c(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.offsetX=0,i.offsetY=0,i}return t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.offsetX=e.offsetX,this.offsetY=e.offsetY},t.prototype.serialize=function(){return s.merge(r.prototype.serialize.call(this),{offsetX:this.offsetX,offsetY:this.offsetY})},t}(d.BaseModel);x.LabelModel=o},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(17),s=v(96486),o=function(r){c(t,r);function t(){var e=r.call(this,"default")||this;return e.offsetY=-23,e}return t.prototype.setLabel=function(e){this.label=e},t.prototype.deSerialize=function(e,n){r.prototype.deSerialize.call(this,e,n),this.label=e.label},t.prototype.serialize=function(){return s.merge(r.prototype.serialize.call(this),{label:this.label})},t}(d.LabelModel);x.DefaultLabelModel=o},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var h in f)f.hasOwnProperty(h)&&(i[h]=f[h])};return function(i,f){n(i,f);function h(){this.constructor=i}i.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),d=this&&this.__assign||Object.assign||function(n){for(var i,f=1,h=arguments.length;f<h;f++){i=arguments[f];for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(n[g]=i[g])}return n};Object.defineProperty(x,"__esModule",{value:!0});var s=a(21),o=v(96486),r=a(18),t=a(17),e=function(n){c(i,n);function i(f){f===void 0&&(f="default");var h=n.call(this,f)||this;return h.color="rgba(255,255,255,0.5)",h.width=3,h.curvyness=50,h}return i.prototype.serialize=function(){return o.merge(n.prototype.serialize.call(this),{width:this.width,color:this.color,curvyness:this.curvyness})},i.prototype.deSerialize=function(f,h){n.prototype.deSerialize.call(this,f,h),this.color=f.color,this.width=f.width,this.curvyness=f.curvyness},i.prototype.addLabel=function(f){if(f instanceof t.LabelModel)return n.prototype.addLabel.call(this,f);var h=new r.DefaultLabelModel;return h.setLabel(f),n.prototype.addLabel.call(this,h)},i.prototype.setWidth=function(f){this.width=f,this.iterateListeners(function(h,g){h.widthChanged&&h.widthChanged(d({},g,{width:f}))})},i.prototype.setColor=function(f){this.color=f,this.iterateListeners(function(h,g){h.colorChanged&&h.colorChanged(d({},g,{color:f}))})},i}(s.LinkModel);x.DefaultLinkModel=e},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=v(96486),s=a(12),o=a(19),r=function(t){c(e,t);function e(n,i,f,h){f===void 0&&(f=null);var g=t.call(this,i,"default",h)||this;return g.in=n,g.label=f||i,g}return e.prototype.deSerialize=function(n,i){t.prototype.deSerialize.call(this,n,i),this.in=n.in,this.label=n.label},e.prototype.serialize=function(){return d.merge(t.prototype.serialize.call(this),{in:this.in,label:this.label})},e.prototype.link=function(n){var i=this.createLinkModel();return i.setSourcePort(this),i.setTargetPort(n),i},e.prototype.canLinkToPort=function(n){return n instanceof e?this.in!==n.in:!0},e.prototype.createLinkModel=function(){var n=t.prototype.createLinkModel.call(this);return n||new o.DefaultLinkModel},e}(s.PortModel);x.DefaultPortModel=r},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),d=this&&this.__assign||Object.assign||function(e){for(var n,i=1,f=arguments.length;i<f;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(e[h]=n[h])}return e};Object.defineProperty(x,"__esModule",{value:!0});var s=a(6),o=a(5),r=v(96486),t=function(e){c(n,e);function n(i,f){i===void 0&&(i="default");var h=e.call(this,i,f)||this;return h.points=[new o.PointModel(h,{x:0,y:0}),new o.PointModel(h,{x:0,y:0})],h.extras={},h.sourcePort=null,h.targetPort=null,h.labels=[],h}return n.prototype.deSerialize=function(i,f){var h=this;e.prototype.deSerialize.call(this,i,f),this.extras=i.extras,this.points=r.map(i.points||[],function(g){var p=new o.PointModel(h,{x:g.x,y:g.y});return p.deSerialize(g,f),p}),r.forEach(i.labels||[],function(g){var p=f.getLabelFactory(g.type).getNewInstance();p.deSerialize(g,f),h.addLabel(p)}),i.target&&this.setTargetPort(this.getParent().getNode(i.target).getPortFromID(i.targetPort)),i.source&&this.setSourcePort(this.getParent().getNode(i.source).getPortFromID(i.sourcePort))},n.prototype.serialize=function(){return r.merge(e.prototype.serialize.call(this),{source:this.sourcePort?this.sourcePort.getParent().id:null,sourcePort:this.sourcePort?this.sourcePort.id:null,target:this.targetPort?this.targetPort.getParent().id:null,targetPort:this.targetPort?this.targetPort.id:null,points:r.map(this.points,function(i){return i.serialize()}),extras:this.extras,labels:r.map(this.labels,function(i){return i.serialize()})})},n.prototype.doClone=function(i,f){i===void 0&&(i={}),f.setPoints(r.map(this.getPoints(),function(h){return h.clone(i)})),this.sourcePort&&f.setSourcePort(this.sourcePort.clone(i)),this.targetPort&&f.setTargetPort(this.targetPort.clone(i))},n.prototype.remove=function(){this.sourcePort&&this.sourcePort.removeLink(this),this.targetPort&&this.targetPort.removeLink(this),e.prototype.remove.call(this)},n.prototype.isLastPoint=function(i){var f=this.getPointIndex(i);return f===this.points.length-1},n.prototype.getPointIndex=function(i){return this.points.indexOf(i)},n.prototype.getPointModel=function(i){for(var f=0;f<this.points.length;f++)if(this.points[f].id===i)return this.points[f];return null},n.prototype.getPortForPoint=function(i){return this.sourcePort!==null&&this.getFirstPoint().getID()===i.getID()?this.sourcePort:this.targetPort!==null&&this.getLastPoint().getID()===i.getID()?this.targetPort:null},n.prototype.getPointForPort=function(i){return this.sourcePort!==null&&this.sourcePort.getID()===i.getID()?this.getFirstPoint():this.targetPort!==null&&this.targetPort.getID()===i.getID()?this.getLastPoint():null},n.prototype.getFirstPoint=function(){return this.points[0]},n.prototype.getLastPoint=function(){return this.points[this.points.length-1]},n.prototype.setSourcePort=function(i){i!==null&&i.addLink(this),this.sourcePort!==null&&this.sourcePort.removeLink(this),this.sourcePort=i,this.iterateListeners(function(f,h){f.sourcePortChanged&&f.sourcePortChanged(d({},h,{port:i}))})},n.prototype.getSourcePort=function(){return this.sourcePort},n.prototype.getTargetPort=function(){return this.targetPort},n.prototype.setTargetPort=function(i){i!==null&&i.addLink(this),this.targetPort!==null&&this.targetPort.removeLink(this),this.targetPort=i,this.iterateListeners(function(f,h){f.targetPortChanged&&f.targetPortChanged(d({},h,{port:i}))})},n.prototype.point=function(i,f){return this.addPoint(this.generatePoint(i,f))},n.prototype.addLabel=function(i){i.setParent(this),this.labels.push(i)},n.prototype.getPoints=function(){return this.points},n.prototype.setPoints=function(i){var f=this;r.forEach(i,function(h){h.setParent(f)}),this.points=i},n.prototype.removePoint=function(i){this.points.splice(this.getPointIndex(i),1)},n.prototype.removePointsBefore=function(i){this.points.splice(0,this.getPointIndex(i))},n.prototype.removePointsAfter=function(i){this.points.splice(this.getPointIndex(i)+1)},n.prototype.removeMiddlePoints=function(){this.points.length>2&&this.points.splice(0,this.points.length-2)},n.prototype.addPoint=function(i,f){return f===void 0&&(f=1),i.setParent(this),this.points.splice(f,0,i),i},n.prototype.generatePoint=function(i,f){return i===void 0&&(i=0),f===void 0&&(f=0),new o.PointModel(this,{x:i,y:f})},n}(s.BaseModel);x.LinkModel=t},function(E,x,a){var c=a(15),d=a(4),s=a(10),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||s.manhattan:this.heuristic=t.heuristic||s.octile}r.prototype.findPath=function(t,e,n,i,f){var h=function(q,ct){return q.f-ct.f},g=new c(h),p=new c(h),m=f.getNodeAt(t,e),l=f.getNodeAt(n,i),b=this.heuristic,y=this.diagonalMovement,M=this.weight,P=Math.abs,L=Math.SQRT2,O,w,N,C,F,R,k,W,Y=1,$=2;for(m.g=0,m.f=0,g.push(m),m.opened=Y,l.g=0,l.f=0,p.push(l),l.opened=$;!g.empty()&&!p.empty();){for(O=g.pop(),O.closed=!0,w=f.getNeighbors(O,y),C=0,F=w.length;C<F;++C)if(N=w[C],!N.closed){if(N.opened===$)return d.biBacktrace(O,N);R=N.x,k=N.y,W=O.g+(R-O.x===0||k-O.y===0?1:L),(!N.opened||W<N.g)&&(N.g=W,N.h=N.h||M*b(P(R-n),P(k-i)),N.f=N.g+N.h,N.parent=O,N.opened?g.updateItem(N):(g.push(N),N.opened=Y))}for(O=p.pop(),O.closed=!0,w=f.getNeighbors(O,y),C=0,F=w.length;C<F;++C)if(N=w[C],!N.closed){if(N.opened===Y)return d.biBacktrace(N,O);R=N.x,k=N.y,W=O.g+(R-O.x===0||k-O.y===0?1:L),(!N.opened||W<N.g)&&(N.g=W,N.h=N.h||M*b(P(R-t),P(k-e)),N.f=N.g+N.h,N.parent=O,N.opened?p.updateItem(N):(p.push(N),N.opened=$))}}return[]},E.exports=r},function(E,x,a){var c=a(15),d=a(4),s=a(10),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||s.manhattan:this.heuristic=t.heuristic||s.octile}r.prototype.findPath=function(t,e,n,i,f){var h=new c(function(k,W){return k.f-W.f}),g=f.getNodeAt(t,e),p=f.getNodeAt(n,i),m=this.heuristic,l=this.diagonalMovement,b=this.weight,y=Math.abs,M=Math.SQRT2,P,L,O,w,N,C,F,R;for(g.g=0,g.f=0,h.push(g),g.opened=!0;!h.empty();){if(P=h.pop(),P.closed=!0,P===p)return d.backtrace(p);for(L=f.getNeighbors(P,l),w=0,N=L.length;w<N;++w)O=L[w],!O.closed&&(C=O.x,F=O.y,R=P.g+(C-P.x===0||F-P.y===0?1:M),(!O.opened||R<O.g)&&(O.g=R,O.h=O.h||b*m(y(C-n),y(F-i)),O.f=O.g+O.h,O.parent=P,O.opened?h.updateItem(O):(h.push(O),O.opened=!0)))}return[]},E.exports=r},function(E,x){function a(c,d,s){this.x=c,this.y=d,this.walkable=s===void 0?!0:s}E.exports=a},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=a(3),r=function(t){c(e,t);function e(n){var i=t.call(this,"srd-node",n)||this;return i.state={},i}return e.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.node)},e.prototype.getClassName=function(){return"node "+t.prototype.getClassName.call(this)+(this.props.node.isSelected()?this.bem("--selected"):"")},e.prototype.render=function(){return s.createElement("div",d({},this.getProps(),{"data-nodeid":this.props.node.id,style:{top:this.props.node.y,left:this.props.node.x}}),this.props.children)},e}(o.BaseWidget);x.NodeWidget=r},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var h in f)f.hasOwnProperty(h)&&(i[h]=f[h])};return function(i,f){n(i,f);function h(){this.constructor=i}i.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),d=this&&this.__assign||Object.assign||function(n){for(var i,f=1,h=arguments.length;f<h;f++){i=arguments[f];for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(n[g]=i[g])}return n};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=v(96486),r=a(25),t=a(3),e=function(n){c(i,n);function i(f){var h=n.call(this,"srd-node-layer",f)||this;return h.updateNodeDimensions=function(){if(!h.props.diagramEngine.nodesRendered){var g=h.props.diagramEngine.getDiagramModel();o.map(g.getNodes(),function(p){p.updateDimensions(h.props.diagramEngine.getNodeDimensions(p))})}},h.state={},h}return i.prototype.componentDidUpdate=function(){this.updateNodeDimensions(),this.props.diagramEngine.nodesRendered=!0},i.prototype.render=function(){var f=this,h=this.props.diagramEngine.getDiagramModel();return s.createElement("div",d({},this.getProps(),{style:{transform:"translate("+h.getOffsetX()+"px,"+h.getOffsetY()+"px) scale("+h.getZoomLevel()/100+")"}}),o.map(h.getNodes(),function(g){return s.createElement(r.NodeWidget,{diagramEngine:f.props.diagramEngine,key:g.id,node:g},f.props.diagramEngine.generateWidgetForNode(g))}))},i}(t.BaseWidget);x.NodeLayerWidget=e},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(3),s=function(o){c(r,o);function r(t){var e=o.call(this,"srd-link",t)||this;return e.state={},e}return r.prototype.shouldComponentUpdate=function(){return this.props.diagramEngine.canEntityRepaint(this.props.link)},r.prototype.render=function(){return this.props.children},r}(d.BaseWidget);x.LinkWidget=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var h in f)f.hasOwnProperty(h)&&(i[h]=f[h])};return function(i,f){n(i,f);function h(){this.constructor=i}i.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),d=this&&this.__assign||Object.assign||function(n){for(var i,f=1,h=arguments.length;f<h;f++){i=arguments[f];for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(n[g]=i[g])}return n};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=a(27),r=v(96486),t=a(3),e=function(n){c(i,n);function i(f){var h=n.call(this,"srd-link-layer",f)||this;return h.state={},h}return i.prototype.render=function(){var f=this,h=this.props.diagramEngine.getDiagramModel();return s.createElement("svg",d({},this.getProps(),{style:{transform:"translate("+h.getOffsetX()+"px,"+h.getOffsetY()+"px) scale("+h.getZoomLevel()/100+")"}}),this.props.diagramEngine.canvas&&r.map(h.getLinks(),function(g){if(f.props.diagramEngine.nodesRendered&&!f.props.diagramEngine.linksThatHaveInitiallyRendered[g.id]){if(g.sourcePort!==null)try{var p=f.props.diagramEngine.getPortCenter(g.sourcePort);g.points[0].updateLocation(p);var m=f.props.diagramEngine.getPortCoords(g.sourcePort);g.sourcePort.updateCoords(m),f.props.diagramEngine.linksThatHaveInitiallyRendered[g.id]=!0}catch(b){}if(g.targetPort!==null)try{var p=f.props.diagramEngine.getPortCenter(g.targetPort);r.last(g.points).updateLocation(p);var m=f.props.diagramEngine.getPortCoords(g.targetPort);g.targetPort.updateCoords(m),f.props.diagramEngine.linksThatHaveInitiallyRendered[g.id]=!0}catch(b){}}var l=f.props.diagramEngine.generateWidgetForLink(g);if(!l)throw new Error("no link generated for type: "+g.getType());return s.createElement(o.LinkWidget,{key:g.getID(),link:g,diagramEngine:f.props.diagramEngine},s.cloneElement(l,{pointAdded:f.props.pointAdded}))}))},i}(t.BaseWidget);x.LinkLayerWidget=e},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(11),s=function(o){c(r,o);function r(t,e){var n=o.call(this,t,e)||this;return n.mouseX2=t,n.mouseY2=e,n}return r.prototype.getBoxDimensions=function(){return{left:this.mouseX2>this.mouseX?this.mouseX:this.mouseX2,top:this.mouseY2>this.mouseY?this.mouseY:this.mouseY2,width:Math.abs(this.mouseX2-this.mouseX),height:Math.abs(this.mouseY2-this.mouseY),right:this.mouseX2<this.mouseX?this.mouseX:this.mouseX2,bottom:this.mouseY2<this.mouseY?this.mouseY:this.mouseY2}},r.prototype.containsElement=function(t,e,n){var i=n.getZoomLevel()/100,f=this.getBoxDimensions();return t*i+n.getOffsetX()>f.left&&t*i+n.getOffsetX()<f.right&&e*i+n.getOffsetY()>f.top&&e*i+n.getOffsetY()<f.bottom},r}(d.BaseAction);x.SelectingAction=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(11),s=function(o){c(r,o);function r(t,e,n){var i=o.call(this,t,e)||this;i.moved=!1,n.enableRepaintEntities(n.getDiagramModel().getSelectedItems());var f=n.getDiagramModel().getSelectedItems();return f=f.filter(function(h){return!n.isModelLocked(h)}),i.selectionModels=f.map(function(h){return{model:h,initialX:h.x,initialY:h.y}}),i}return r}(d.BaseAction);x.MoveItemsAction=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(11),s=function(o){c(r,o);function r(t,e,n){var i=o.call(this,t,e)||this;return i.initialOffsetX=n.getOffsetX(),i.initialOffsetY=n.getOffsetY(),i}return r}(d.BaseAction);x.MoveCanvasAction=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(8),s=function(o){c(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(d.AbstractFactory);x.AbstractNodeFactory=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=a(3),r=function(t){c(e,t);function e(n){var i=t.call(this,"srd-port",n)||this;return i.state={selected:!1},i}return e.prototype.getClassName=function(){return"port "+t.prototype.getClassName.call(this)+(this.state.selected?this.bem("--selected"):"")},e.prototype.render=function(){var n=this;return s.createElement("div",d({},this.getProps(),{onMouseEnter:function(){n.setState({selected:!0})},onMouseLeave:function(){n.setState({selected:!1})},"data-name":this.props.name,"data-nodeid":this.props.node.getID()}))},e}(o.BaseWidget);x.PortWidget=r},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),d=this&&this.__assign||Object.assign||function(e){for(var n,i=1,f=arguments.length;i<f;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(e[h]=n[h])}return e};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=a(33),r=a(3),t=function(e){c(n,e);function n(i){return e.call(this,"srd-default-port",i)||this}return n.prototype.getClassName=function(){return e.prototype.getClassName.call(this)+(this.props.model.in?this.bem("--in"):this.bem("--out"))},n.prototype.render=function(){var i=s.createElement(o.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),f=s.createElement("div",{className:"name"},this.props.model.label);return s.createElement("div",d({},this.getProps()),this.props.model.in?i:f,this.props.model.in?f:i)},n}(r.BaseWidget);x.DefaultPortLabel=t},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,f){i.__proto__=f}||function(i,f){for(var h in f)f.hasOwnProperty(h)&&(i[h]=f[h])};return function(i,f){n(i,f);function h(){this.constructor=i}i.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),d=this&&this.__assign||Object.assign||function(n){for(var i,f=1,h=arguments.length;f<h;f++){i=arguments[f];for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(n[g]=i[g])}return n};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=v(96486),r=a(34),t=a(3),e=function(n){c(i,n);function i(f){var h=n.call(this,"srd-default-node",f)||this;return h.state={},h}return i.prototype.generatePort=function(f){return s.createElement(r.DefaultPortLabel,{model:f,key:f.id})},i.prototype.render=function(){return s.createElement("div",d({},this.getProps(),{style:{background:this.props.node.color}}),s.createElement("div",{className:this.bem("__title")},s.createElement("div",{className:this.bem("__name")},this.props.node.name)),s.createElement("div",{className:this.bem("__ports")},s.createElement("div",{className:this.bem("__in")},o.map(this.props.node.getInPorts(),this.generatePort.bind(this))),s.createElement("div",{className:this.bem("__out")},o.map(this.props.node.getOutPorts(),this.generatePort.bind(this)))))},i}(t.BaseWidget);x.DefaultNodeWidget=e},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(8),s=function(o){c(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(d.AbstractFactory);x.AbstractLinkFactory=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var p in g)g.hasOwnProperty(p)&&(h[p]=g[p])};return function(h,g){f(h,g);function p(){this.constructor=h}h.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),d=this&&this.__assign||Object.assign||function(f){for(var h,g=1,p=arguments.length;g<p;g++){h=arguments[g];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(f[m]=h[m])}return f};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=a(5),r=a(7),t=a(16),e=v(96486),n=a(3),i=function(f){c(h,f);function h(g){var p=f.call(this,"srd-default-link",g)||this;return p.addPointToLink=function(m,l){if(!m.shiftKey&&!p.props.diagramEngine.isModelLocked(p.props.link)&&p.props.link.points.length-1<=p.props.diagramEngine.getMaxNumberPointsPerLink()){var b=new o.PointModel(p.props.link,p.props.diagramEngine.getRelativeMousePoint(m));b.setSelected(!0),p.forceUpdate(),p.props.link.addPoint(b,l),p.props.pointAdded(b,m)}},p.findPathAndRelativePositionToRenderLabel=function(m){for(var l=p.refPaths.map(function(M){return M.getTotalLength()}),b=l.reduce(function(M,P){return M+P},0)*(m/(p.props.link.labels.length+1)),y=0;y<p.refPaths.length;){if(b-l[y]<0)return{path:p.refPaths[y],position:b};b-=l[y],y++}},p.calculateLabelPosition=function(m,l){if(!!p.refLabels[m.id]){var b=p.findPathAndRelativePositionToRenderLabel(l),y=b.path,M=b.position,P={width:p.refLabels[m.id].offsetWidth,height:p.refLabels[m.id].offsetHeight},L=y.getPointAtLength(M),O={x:L.x-P.width/2+m.offsetX,y:L.y-P.height/2+m.offsetY};p.refLabels[m.id].setAttribute("style","transform: translate("+O.x+"px, "+O.y+"px);")}},p.refLabels={},p.refPaths=[],p.state={selected:!1},g.diagramEngine.isSmartRoutingEnabled()&&(p.pathFinding=new t.default(p.props.diagramEngine)),p}return h.prototype.calculateAllLabelPosition=function(){var g=this;e.forEach(this.props.link.labels,function(p,m){g.calculateLabelPosition(p,m+1)})},h.prototype.componentDidUpdate=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},h.prototype.componentDidMount=function(){this.props.link.labels.length>0&&window.requestAnimationFrame(this.calculateAllLabelPosition.bind(this))},h.prototype.generatePoint=function(g){var p=this,m=this.props.link.points[g].x,l=this.props.link.points[g].y;return s.createElement("g",{key:"point-"+this.props.link.points[g].id},s.createElement("circle",{cx:m,cy:l,r:5,className:"point "+this.bem("__point")+(this.props.link.points[g].isSelected()?this.bem("--point-selected"):"")}),s.createElement("circle",{onMouseLeave:function(){p.setState({selected:!1})},onMouseEnter:function(){p.setState({selected:!0})},"data-id":this.props.link.points[g].id,"data-linkid":this.props.link.id,cx:m,cy:l,r:15,opacity:0,className:"point "+this.bem("__point")}))},h.prototype.generateLabel=function(g){var p=this,m=this.props.diagramEngine.canvas;return s.createElement("foreignObject",{key:g.id,className:this.bem("__label"),width:m.offsetWidth,height:m.offsetHeight},s.createElement("div",{ref:function(l){return p.refLabels[g.id]=l}},this.props.diagramEngine.getFactoryForLabel(g).generateReactWidget(this.props.diagramEngine,g)))},h.prototype.generateLink=function(g,p,m){var l=this,b=this.props,y=s.cloneElement(b.diagramEngine.getFactoryForLink(this.props.link).generateLinkSegment(this.props.link,this,this.state.selected||this.props.link.isSelected(),g),{ref:function(P){return P&&l.refPaths.push(P)}}),M=s.cloneElement(y,d({},p,{strokeLinecap:"round",onMouseLeave:function(){l.setState({selected:!1})},onMouseEnter:function(){l.setState({selected:!0})},ref:null,"data-linkid":this.props.link.getID(),strokeOpacity:this.state.selected?.1:0,strokeWidth:20,onContextMenu:function(){l.props.diagramEngine.isModelLocked(l.props.link)||(event.preventDefault(),l.props.link.remove())}}));return s.createElement("g",{key:"link-"+m},y,M)},h.prototype.isSmartRoutingApplicable=function(){var g=this.props,p=g.diagramEngine,m=g.link;return!(!p.isSmartRoutingEnabled()||m.points.length!==2||m.sourcePort===null||m.targetPort===null)},h.prototype.render=function(){var g=this,p=this.props.diagramEngine;if(!p.nodesRendered)return null;var m=this.props.link.points,l=[];if(this.isSmartRoutingApplicable()){var b=this.pathFinding.calculateDirectPath(e.first(m),e.last(m)),y=p.getRoutingMatrix(),M=this.pathFinding.calculateLinkStartEndCoords(y,b);if(M){var P=M.start,L=M.end,O=M.pathToStart,w=M.pathToEnd,N=this.pathFinding.calculateDynamicPath(y,P,L,O,w);l.push(this.generateLink(r.Toolkit.generateDynamicPath(N),{onMouseDown:function(tt){g.addPointToLink(tt,1)}},"0"))}}if(l.length===0)if(m.length===2){var C=Math.abs(m[0].x-m[1].x)>Math.abs(m[0].y-m[1].y),F=C?"x":"y",R=50;Math.abs(m[0][F]-m[1][F])<50&&(R=5);var k=m[0],W=m[1];k[F]>W[F]&&(k=m[1],W=m[0]),l.push(this.generateLink(r.Toolkit.generateCurvePath(k,W,this.props.link.curvyness),{onMouseDown:function(tt){g.addPointToLink(tt,1)}},"0")),this.props.link.targetPort===null&&l.push(this.generatePoint(1))}else{for(var Y=function(tt){l.push($.generateLink(r.Toolkit.generateLinePath(m[tt],m[tt+1]),{"data-linkid":$.props.link.id,"data-point":tt,onMouseDown:function(Et){g.addPointToLink(Et,tt+1)}},tt))},$=this,q=0;q<m.length-1;q++)Y(q);for(var ct=1;ct<m.length-1;ct++)l.push(this.generatePoint(ct));this.props.link.targetPort===null&&l.push(this.generatePoint(m.length-1))}return this.refPaths=[],s.createElement("g",d({},this.getProps()),l,e.map(this.props.link.labels,function(tt){return g.generateLabel(tt)}))},h.defaultProps={color:"black",width:3,link:null,engine:null,smooth:!1,diagramEngine:null},h}(n.BaseWidget);x.DefaultLinkWidget=i},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(20),s=v(96486),o=a(9),r=a(7),t=function(e){c(n,e);function n(i,f){i===void 0&&(i="Untitled"),f===void 0&&(f="rgb(0,192,255)");var h=e.call(this,"default")||this;return h.name=i,h.color=f,h}return n.prototype.addInPort=function(i){return this.addPort(new d.DefaultPortModel(!0,r.Toolkit.UID(),i))},n.prototype.addOutPort=function(i){return this.addPort(new d.DefaultPortModel(!1,r.Toolkit.UID(),i))},n.prototype.deSerialize=function(i,f){e.prototype.deSerialize.call(this,i,f),this.name=i.name,this.color=i.color},n.prototype.serialize=function(){return s.merge(e.prototype.serialize.call(this),{name:this.name,color:this.color})},n.prototype.getInPorts=function(){return s.filter(this.ports,function(i){return i.in})},n.prototype.getOutPorts=function(){return s.filter(this.ports,function(i){return!i.in})},n}(o.NodeModel);x.DefaultNodeModel=t},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f])}return t};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=a(3),r=function(t){c(e,t);function e(n){return t.call(this,"srd-default-label",n)||this}return e.prototype.render=function(){return s.createElement("div",d({},this.getProps()),this.props.model.label)},e}(o.BaseWidget);x.DefaultLabelWidget=r},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(8),s=function(o){c(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(d.AbstractFactory);x.AbstractLabelFactory=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(1),s=a(40),o=a(18),r=a(39),t=function(e){c(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,f){return d.createElement(r.DefaultLabelWidget,{model:f})},n.prototype.getNewInstance=function(i){return new o.DefaultLabelModel},n}(s.AbstractLabelFactory);x.DefaultLabelFactory=t},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(8),s=function(o){c(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(d.AbstractFactory);x.AbstractPortFactory=s},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(20),s=a(42),o=function(r){c(t,r);function t(){return r.call(this,"default")||this}return t.prototype.getNewInstance=function(e){return new d.DefaultPortModel(!0,"unknown")},t}(s.AbstractPortFactory);x.DefaultPortFactory=o},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var p in g)g.hasOwnProperty(p)&&(h[p]=g[p])};return function(h,g){f(h,g);function p(){this.constructor=h}h.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),d=this&&this.__assign||Object.assign||function(f){for(var h,g=1,p=arguments.length;g<p;g++){h=arguments[g];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(f[m]=h[m])}return f};Object.defineProperty(x,"__esModule",{value:!0});var s=a(13),o=v(96486),r=a(21),t=a(9),e=a(12),n=a(5),i=function(f){c(h,f);function h(){var g=f.call(this)||this;return g.links={},g.nodes={},g.offsetX=0,g.offsetY=0,g.zoom=100,g.rendered=!1,g.gridSize=0,g}return h.prototype.setGridSize=function(g){g===void 0&&(g=0),this.gridSize=g,this.iterateListeners(function(p,m){p.gridUpdated&&p.gridUpdated(d({},m,{size:g}))})},h.prototype.getGridPosition=function(g){return this.gridSize===0?g:this.gridSize*Math.floor((g+this.gridSize/2)/this.gridSize)},h.prototype.deSerializeDiagram=function(g,p){var m=this;this.deSerialize(g,p),this.offsetX=g.offsetX,this.offsetY=g.offsetY,this.zoom=g.zoom,this.gridSize=g.gridSize,o.forEach(g.nodes,function(l){var b=p.getNodeFactory(l.type).getNewInstance(l);b.setParent(m),b.deSerialize(l,p),m.addNode(b)}),o.forEach(g.links,function(l){var b=p.getLinkFactory(l.type).getNewInstance();b.setParent(m),b.deSerialize(l,p),m.addLink(b)})},h.prototype.serializeDiagram=function(){return o.merge(this.serialize(),{offsetX:this.offsetX,offsetY:this.offsetY,zoom:this.zoom,gridSize:this.gridSize,links:o.map(this.links,function(g){return g.serialize()}),nodes:o.map(this.nodes,function(g){return g.serialize()})})},h.prototype.clearSelection=function(g){g===void 0&&(g=null),o.forEach(this.getSelectedItems(),function(p){g&&g.getID()===p.getID()||p.setSelected(!1)})},h.prototype.getSelectedItems=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];Array.isArray(g)||(g=[g]);var m=[];return m=m.concat(o.flatMap(this.nodes,function(l){return l.getSelectedEntities()})),m=m.concat(o.flatMap(this.links,function(l){return l.getSelectedEntities()})),m=m.concat(o.flatMap(this.links,function(l){return o.flatMap(l.points,function(b){return b.getSelectedEntities()})})),m=o.uniq(m),g.length>0&&(m=o.filter(o.uniq(m),function(l){return!!(o.includes(g,"node")&&l instanceof t.NodeModel||o.includes(g,"link")&&l instanceof r.LinkModel||o.includes(g,"port")&&l instanceof e.PortModel||o.includes(g,"point")&&l instanceof n.PointModel)})),m},h.prototype.setZoomLevel=function(g){this.zoom=g,this.iterateListeners(function(p,m){p.zoomUpdated&&p.zoomUpdated(d({},m,{zoom:g}))})},h.prototype.setOffset=function(g,p){this.offsetX=g,this.offsetY=p,this.iterateListeners(function(m,l){m.offsetUpdated&&m.offsetUpdated(d({},l,{offsetX:g,offsetY:p}))})},h.prototype.setOffsetX=function(g){var p=this;this.offsetX=g,this.iterateListeners(function(m,l){m.offsetUpdated&&m.offsetUpdated(d({},l,{offsetX:g,offsetY:p.offsetY}))})},h.prototype.setOffsetY=function(g){var p=this;this.offsetY=g,this.iterateListeners(function(m,l){m.offsetUpdated&&m.offsetUpdated(d({},l,{offsetX:p.offsetX,offsetY:p.offsetY}))})},h.prototype.getOffsetY=function(){return this.offsetY},h.prototype.getOffsetX=function(){return this.offsetX},h.prototype.getZoomLevel=function(){return this.zoom},h.prototype.getNode=function(g){return g instanceof t.NodeModel?g:this.nodes[g]?this.nodes[g]:null},h.prototype.getLink=function(g){return g instanceof r.LinkModel?g:this.links[g]?this.links[g]:null},h.prototype.addAll=function(){for(var g=this,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return o.forEach(p,function(l){l instanceof r.LinkModel?g.addLink(l):l instanceof t.NodeModel&&g.addNode(l)}),p},h.prototype.addLink=function(g){var p=this;return g.addListener({entityRemoved:function(){p.removeLink(g)}}),this.links[g.getID()]=g,this.iterateListeners(function(m,l){m.linksUpdated&&m.linksUpdated(d({},l,{link:g,isCreated:!0}))}),g},h.prototype.addNode=function(g){var p=this;return g.addListener({entityRemoved:function(){p.removeNode(g)}}),this.nodes[g.getID()]=g,this.iterateListeners(function(m,l){m.nodesUpdated&&m.nodesUpdated(d({},l,{node:g,isCreated:!0}))}),g},h.prototype.removeLink=function(g){g=this.getLink(g),delete this.links[g.getID()],this.iterateListeners(function(p,m){p.linksUpdated&&p.linksUpdated(d({},m,{link:g,isCreated:!1}))})},h.prototype.removeNode=function(g){g=this.getNode(g),delete this.nodes[g.getID()],this.iterateListeners(function(p,m){p.nodesUpdated&&p.nodesUpdated(d({},m,{node:g,isCreated:!1}))})},h.prototype.getLinks=function(){return this.links},h.prototype.getNodes=function(){return this.nodes},h}(s.BaseEntity);x.DiagramModel=i},function(E,x,a){"use strict";function c(d){for(var s in d)x.hasOwnProperty(s)||(x[s]=d[s])}Object.defineProperty(x,"__esModule",{value:!0}),c(a(7)),c(a(13)),c(a(49)),c(a(38)),c(a(20)),c(a(19)),c(a(18)),c(a(48)),c(a(47)),c(a(43)),c(a(41)),c(a(37)),c(a(39)),c(a(35)),c(a(34)),c(a(8)),c(a(40)),c(a(36)),c(a(32)),c(a(42)),c(a(16)),c(a(11)),c(a(31)),c(a(30)),c(a(29)),c(a(6)),c(a(44)),c(a(21)),c(a(9)),c(a(5)),c(a(12)),c(a(17)),c(a(46)),c(a(27)),c(a(25)),c(a(33)),c(a(3)),c(a(28)),c(a(26))},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,M){y.__proto__=M}||function(y,M){for(var P in M)M.hasOwnProperty(P)&&(y[P]=M[P])};return function(y,M){b(y,M);function P(){this.constructor=y}y.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)}}(),d=this&&this.__assign||Object.assign||function(b){for(var y,M=1,P=arguments.length;M<P;M++){y=arguments[M];for(var L in y)Object.prototype.hasOwnProperty.call(y,L)&&(b[L]=y[L])}return b};Object.defineProperty(x,"__esModule",{value:!0});var s=a(1),o=v(96486),r=a(28),t=a(26),e=a(7),n=a(31),i=a(30),f=a(29),h=a(9),g=a(5),p=a(12),m=a(3),l=function(b){c(y,b);function y(M){var P=b.call(this,"srd-diagram",M)||this;return P.onKeyUpPointer=null,P.onMouseMove=P.onMouseMove.bind(P),P.onMouseUp=P.onMouseUp.bind(P),P.state={action:null,wasMoved:!1,renderedNodes:!1,windowListener:null,diagramEngineListener:null,document:null},P}return y.prototype.componentWillUnmount=function(){this.props.diagramEngine.removeListener(this.state.diagramEngineListener),this.props.diagramEngine.setCanvas(null),window.removeEventListener("keyup",this.onKeyUpPointer),window.removeEventListener("mouseUp",this.onMouseUp),window.removeEventListener("mouseMove",this.onMouseMove)},y.prototype.componentWillReceiveProps=function(M){var P=this;if(this.props.diagramEngine!==M.diagramEngine){this.props.diagramEngine.removeListener(this.state.diagramEngineListener);var L=M.diagramEngine.addListener({repaintCanvas:function(){return P.forceUpdate()}});this.setState({diagramEngineListener:L})}},y.prototype.componentWillUpdate=function(M){this.props.diagramEngine.diagramModel.id!==M.diagramEngine.diagramModel.id&&(this.setState({renderedNodes:!1}),M.diagramEngine.diagramModel.rendered=!0),M.diagramEngine.diagramModel.rendered||(this.setState({renderedNodes:!1}),M.diagramEngine.diagramModel.rendered=!0)},y.prototype.componentDidUpdate=function(){this.state.renderedNodes||this.setState({renderedNodes:!0})},y.prototype.componentDidMount=function(){var M=this;this.onKeyUpPointer=this.onKeyUp.bind(this),this.setState({document,renderedNodes:!0,diagramEngineListener:this.props.diagramEngine.addListener({repaintCanvas:function(){M.forceUpdate()}})}),window.addEventListener("keyup",this.onKeyUpPointer,!1),window.focus()},y.prototype.getMouseElement=function(M){var P=M.target,L=this.props.diagramEngine.diagramModel,O=e.Toolkit.closest(P,".port[data-name]");if(O){var w=e.Toolkit.closest(P,".node[data-nodeid]");return{model:L.getNode(w.getAttribute("data-nodeid")).getPort(O.getAttribute("data-name")),element:O}}return O=e.Toolkit.closest(P,".point[data-id]"),O?{model:L.getLink(O.getAttribute("data-linkid")).getPointModel(O.getAttribute("data-id")),element:O}:(O=e.Toolkit.closest(P,"[data-linkid]"),O?{model:L.getLink(O.getAttribute("data-linkid")),element:O}:(O=e.Toolkit.closest(P,".node[data-nodeid]"),O?{model:L.getNode(O.getAttribute("data-nodeid")),element:O}:null))},y.prototype.fireAction=function(){this.state.action&&this.props.actionStillFiring&&this.props.actionStillFiring(this.state.action)},y.prototype.stopFiringAction=function(M){this.props.actionStoppedFiring&&!M&&this.props.actionStoppedFiring(this.state.action),this.setState({action:null})},y.prototype.startFiringAction=function(M){var P=!0;this.props.actionStartedFiring&&(P=this.props.actionStartedFiring(M)),P&&this.setState({action:M})},y.prototype.onMouseMove=function(M){var P=this,L=this.props.diagramEngine,O=L.getDiagramModel();if(this.state.action instanceof f.SelectingAction){var w=L.getRelativePoint(M.clientX,M.clientY);o.forEach(O.getNodes(),function(R){P.state.action.containsElement(R.x,R.y,O)&&R.setSelected(!0)}),o.forEach(O.getLinks(),function(R){var k=!0;o.forEach(R.points,function(W){P.state.action.containsElement(W.x,W.y,O)?W.setSelected(!0):k=!1}),k&&R.setSelected(!0)}),this.state.action.mouseX2=w.x,this.state.action.mouseY2=w.y,this.fireAction(),this.setState({action:this.state.action});return}else if(this.state.action instanceof i.MoveItemsAction){var N=M.clientX-this.state.action.mouseX,C=M.clientY-this.state.action.mouseY,F=O.getZoomLevel()/100;o.forEach(this.state.action.selectionModels,function(R){R.model instanceof h.NodeModel||R.model instanceof g.PointModel&&!R.model.isConnectedToPort()?(R.model.x=O.getGridPosition(R.initialX+N/F),R.model.y=O.getGridPosition(R.initialY+C/F),R.model instanceof h.NodeModel&&o.forEach(R.model.getPorts(),function(k){var W=P.props.diagramEngine.getPortCoords(k);k.updateCoords(W)}),L.isSmartRoutingEnabled()&&L.calculateRoutingMatrix()):R.model instanceof g.PointModel&&(R.model.x=R.initialX+O.getGridPosition(N/F),R.model.y=R.initialY+O.getGridPosition(C/F))}),L.isSmartRoutingEnabled()&&L.calculateCanvasMatrix(),this.fireAction(),this.state.wasMoved?this.forceUpdate():this.setState({wasMoved:!0})}else this.state.action instanceof n.MoveCanvasAction&&this.props.allowCanvasTranslation&&(O.setOffset(this.state.action.initialOffsetX+(M.clientX-this.state.action.mouseX),this.state.action.initialOffsetY+(M.clientY-this.state.action.mouseY)),this.fireAction(),this.forceUpdate())},y.prototype.onKeyUp=function(M){var P=this;this.props.deleteKeys.indexOf(M.keyCode)!==-1&&(o.forEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(),function(L){P.props.diagramEngine.isModelLocked(L)||L.remove()}),this.forceUpdate())},y.prototype.onMouseUp=function(M){var P=this,L=this.props.diagramEngine;if(this.state.action instanceof i.MoveItemsAction){var O=this.getMouseElement(M);o.forEach(this.state.action.selectionModels,function(w){if(w.model instanceof g.PointModel&&O&&O.model instanceof p.PortModel&&!L.isModelLocked(O.model)){var N=w.model.getLink();if(N.getTargetPort()!==null)if(N.getTargetPort()!==O.model&&N.getSourcePort()!==O.model){var C=N.getTargetPort(),F=N.clone({});F.setSourcePort(O.model),F.setTargetPort(C),N.setTargetPort(O.model),C.removeLink(N),F.removePointsBefore(F.getPoints()[N.getPointIndex(w.model)]),N.removePointsAfter(w.model),L.getDiagramModel().addLink(F)}else N.getTargetPort()===O.model?N.removePointsAfter(w.model):N.getSourcePort()===O.model&&N.removePointsBefore(w.model);else N.setTargetPort(O.model);delete P.props.diagramEngine.linksThatHaveInitiallyRendered[N.getID()]}}),!this.props.allowLooseLinks&&this.state.wasMoved&&o.forEach(this.state.action.selectionModels,function(w){if(w.model instanceof g.PointModel){var N=w.model,C=N.getLink();(C.getSourcePort()===null||C.getTargetPort()===null)&&C.remove()}}),o.forEach(this.state.action.selectionModels,function(w){if(w.model instanceof g.PointModel){var N=w.model.getLink(),C=N.getSourcePort(),F=N.getTargetPort();C!==null&&F!==null&&(C.canLinkToPort(F)?o.some(o.values(F.getLinks()),function(R){return R!==N&&(R.getSourcePort()===C||R.getTargetPort()===C)})&&N.remove():N.remove())}}),L.clearRepaintEntities(),this.stopFiringAction(!this.state.wasMoved)}else L.clearRepaintEntities(),this.stopFiringAction();this.state.document.removeEventListener("mousemove",this.onMouseMove),this.state.document.removeEventListener("mouseup",this.onMouseUp)},y.prototype.drawSelectionBox=function(){var M=this.state.action.getBoxDimensions();return s.createElement("div",{className:this.bem("__selector"),style:{top:M.top,left:M.left,width:M.width,height:M.height}})},y.prototype.render=function(){var M=this,P=this.props.diagramEngine;P.setMaxNumberPointsPerLink(this.props.maxNumberPointsPerLink),P.setSmartRoutingStatus(this.props.smartRouting);var L=P.getDiagramModel();return s.createElement("div",d({},this.getProps(),{ref:function(O){O&&M.props.diagramEngine.setCanvas(O)},onWheel:function(O){if(M.props.allowCanvasZoom){O.preventDefault(),O.stopPropagation();var w=L.getZoomLevel()/100,N=M.props.inverseZoom?-O.deltaY:O.deltaY;O.ctrlKey&&N%1!==0?N/=3:N/=60,L.getZoomLevel()+N>10&&L.setZoomLevel(L.getZoomLevel()+N);var C=L.getZoomLevel()/100,F=O.currentTarget.getBoundingClientRect(),R=F.width,k=F.height,W=R*C-R*w,Y=k*C-k*w,$=O.clientX-F.left,q=O.clientY-F.top,ct=($-L.getOffsetX())/w/R,tt=(q-L.getOffsetY())/w/k;L.setOffset(L.getOffsetX()-W*ct,L.getOffsetY()-Y*tt),P.enableRepaintEntities([]),M.forceUpdate()}},onMouseDown:function(O){M.setState(d({},M.state,{wasMoved:!1})),P.clearRepaintEntities();var w=M.getMouseElement(O);if(w===null)if(O.shiftKey){var N=P.getRelativePoint(O.clientX,O.clientY);M.startFiringAction(new f.SelectingAction(N.x,N.y))}else L.clearSelection(),M.startFiringAction(new n.MoveCanvasAction(O.clientX,O.clientY,L));else if(w.model instanceof p.PortModel)if(M.props.diagramEngine.isModelLocked(w.model))L.clearSelection();else{var N=P.getRelativeMousePoint(O),C=w.model,F=C.createLinkModel();F.setSourcePort(C),F&&(F.removeMiddlePoints(),F.getSourcePort()!==C&&F.setSourcePort(C),F.setTargetPort(null),F.getFirstPoint().updateLocation(N),F.getLastPoint().updateLocation(N),L.clearSelection(),F.getLastPoint().setSelected(!0),L.addLink(F),M.startFiringAction(new i.MoveItemsAction(O.clientX,O.clientY,P)))}else!O.shiftKey&&!w.model.isSelected()&&L.clearSelection(),w.model.setSelected(!0),M.startFiringAction(new i.MoveItemsAction(O.clientX,O.clientY,P));M.state.document.addEventListener("mousemove",M.onMouseMove),M.state.document.addEventListener("mouseup",M.onMouseUp)}}),this.state.renderedNodes&&s.createElement(r.LinkLayerWidget,{diagramEngine:P,pointAdded:function(O,w){M.state.document.addEventListener("mousemove",M.onMouseMove),M.state.document.addEventListener("mouseup",M.onMouseUp),w.stopPropagation(),L.clearSelection(O),M.setState({action:new i.MoveItemsAction(w.clientX,w.clientY,P)})}}),s.createElement(t.NodeLayerWidget,{diagramEngine:P}),this.state.action instanceof f.SelectingAction&&this.drawSelectionBox())},y.defaultProps={diagramEngine:null,allowLooseLinks:!0,allowCanvasTranslation:!0,allowCanvasZoom:!0,inverseZoom:!1,maxNumberPointsPerLink:1/0,smartRouting:!1,deleteKeys:[46,8]},y}(m.BaseWidget);x.DiagramWidget=l},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(38),s=a(1),o=a(35),r=a(32),t=function(e){c(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,f){return s.createElement(o.DefaultNodeWidget,{node:f,diagramEngine:i})},n.prototype.getNewInstance=function(i){return new d.DefaultNodeModel},n}(r.AbstractNodeFactory);x.DefaultNodeFactory=t},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])};return function(n,i){e(n,i);function f(){this.constructor=n}n.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(1),s=a(37),o=a(36),r=a(19),t=function(e){c(n,e);function n(){return e.call(this,"default")||this}return n.prototype.generateReactWidget=function(i,f){return d.createElement(s.DefaultLinkWidget,{link:f,diagramEngine:i})},n.prototype.getNewInstance=function(i){return new r.DefaultLinkModel},n.prototype.generateLinkSegment=function(i,f,h,g){return d.createElement("path",{className:h?f.bem("--path-selected"):"",strokeWidth:i.width,stroke:i.color,d:g})},n}(o.AbstractLinkFactory);x.DefaultLinkFactory=t},function(E,x,a){"use strict";var c=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,l){m.__proto__=l}||function(m,l){for(var b in l)l.hasOwnProperty(b)&&(m[b]=l[b])};return function(m,l){p(m,l);function b(){this.constructor=m}m.prototype=l===null?Object.create(l):(b.prototype=l.prototype,new b)}}();Object.defineProperty(x,"__esModule",{value:!0});var d=a(13),s=a(44),o=v(96486),r=a(9),t=a(5),e=a(45),n=a(16),i=a(43),f=a(41),h=a(7),g=function(p){c(m,p);function m(){var l=p.call(this)||this;return l.canvasMatrix=[],l.routingMatrix=[],l.hAdjustmentFactor=0,l.vAdjustmentFactor=0,l.calculateMatrixDimensions=function(){var b=o.values(l.diagramModel.nodes).map(function(k){return{x:k.x,width:k.width,y:k.y,height:k.height}}),y=o.values(l.diagramModel.links),M=o.flatMap(y.map(function(k){return[k.sourcePort,k.targetPort]})).filter(function(k){return k!==null}).map(function(k){return{x:k.x,width:k.width,y:k.y,height:k.height}}),P=o.flatMap(y.map(function(k){return k.points})).map(function(k){return{x:k.x,width:0,y:k.y,height:0}}),L=l.canvas,O=Math.floor(Math.min(o.minBy(o.concat(b,M,P),function(k){return k.x}).x,0)/n.ROUTING_SCALING_FACTOR)*n.ROUTING_SCALING_FACTOR,w=o.maxBy(o.concat(b,M,P),function(k){return k.x+k.width}),N=Math.max(w.x+w.width,L.offsetWidth),C=Math.floor(Math.min(o.minBy(o.concat(b,M,P),function(k){return k.y}).y,0)/n.ROUTING_SCALING_FACTOR)*n.ROUTING_SCALING_FACTOR,F=o.maxBy(o.concat(b,M,P),function(k){return k.y+k.height}),R=Math.max(F.y+F.height,L.offsetHeight);return{width:Math.ceil(Math.abs(O)+N),hAdjustmentFactor:Math.abs(O)/n.ROUTING_SCALING_FACTOR+1,height:Math.ceil(Math.abs(C)+R),vAdjustmentFactor:Math.abs(C)/n.ROUTING_SCALING_FACTOR+1}},l.markNodes=function(b){o.values(l.diagramModel.nodes).forEach(function(y){for(var M=Math.floor(y.x/n.ROUTING_SCALING_FACTOR),P=Math.ceil((y.x+y.width)/n.ROUTING_SCALING_FACTOR),L=Math.floor(y.y/n.ROUTING_SCALING_FACTOR),O=Math.ceil((y.y+y.height)/n.ROUTING_SCALING_FACTOR),w=M-1;w<=P+1;w++)for(var N=L-1;N<O+1;N++)l.markMatrixPoint(b,l.translateRoutingX(w),l.translateRoutingY(N))})},l.markPorts=function(b){var y=o.flatMap(o.values(l.diagramModel.links).map(function(M){return[].concat(M.sourcePort,M.targetPort)}));y.filter(function(M){return M!==null}).forEach(function(M){for(var P=Math.floor(M.x/n.ROUTING_SCALING_FACTOR),L=Math.ceil((M.x+M.width)/n.ROUTING_SCALING_FACTOR),O=Math.floor(M.y/n.ROUTING_SCALING_FACTOR),w=Math.ceil((M.y+M.height)/n.ROUTING_SCALING_FACTOR),N=P-1;N<=L+1;N++)for(var C=O-1;C<w+1;C++)l.markMatrixPoint(b,l.translateRoutingX(N),l.translateRoutingY(C))})},l.markMatrixPoint=function(b,y,M){b[M]!==void 0&&b[M][y]!==void 0&&(b[M][y]=1)},l.diagramModel=new s.DiagramModel,l.nodeFactories={},l.linkFactories={},l.portFactories={},l.labelFactories={},l.canvas=null,l.paintableWidgets=null,l.linksThatHaveInitiallyRendered={},h.Toolkit.TESTING&&(h.Toolkit.TESTING_UID=0,window&&(window.diagram_instance=l)),l}m.prototype.installDefaultFactories=function(){this.registerNodeFactory(new e.DefaultNodeFactory),this.registerLinkFactory(new e.DefaultLinkFactory),this.registerPortFactory(new i.DefaultPortFactory),this.registerLabelFactory(new f.DefaultLabelFactory)},m.prototype.repaintCanvas=function(){this.iterateListeners(function(l){l.repaintCanvas&&l.repaintCanvas()})},m.prototype.clearRepaintEntities=function(){this.paintableWidgets=null},m.prototype.enableRepaintEntities=function(l){var b=this;this.paintableWidgets={},l.forEach(function(y){y instanceof r.NodeModel&&o.forEach(y.getPorts(),function(M){o.forEach(M.getLinks(),function(P){b.paintableWidgets[P.getID()]=!0})}),y instanceof t.PointModel&&(b.paintableWidgets[y.getLink().getID()]=!0),b.paintableWidgets[y.getID()]=!0})},m.prototype.isModelLocked=function(l){return this.diagramModel.isLocked()?!0:l.isLocked()},m.prototype.recalculatePortsVisually=function(){this.nodesRendered=!1,this.linksThatHaveInitiallyRendered={}},m.prototype.canEntityRepaint=function(l){return this.paintableWidgets===null?!0:this.paintableWidgets[l.getID()]!==void 0},m.prototype.setCanvas=function(l){this.canvas=l},m.prototype.setDiagramModel=function(l){this.diagramModel=l,this.recalculatePortsVisually()},m.prototype.getDiagramModel=function(){return this.diagramModel};//!-------------- FACTORIES ------------
return m.prototype.getNodeFactories=function(){return this.nodeFactories},m.prototype.getLinkFactories=function(){return this.linkFactories},m.prototype.getLabelFactories=function(){return this.labelFactories},m.prototype.registerLabelFactory=function(l){this.labelFactories[l.getType()]=l,this.iterateListeners(function(b){b.labelFactoriesUpdated&&b.labelFactoriesUpdated()})},m.prototype.registerPortFactory=function(l){this.portFactories[l.getType()]=l,this.iterateListeners(function(b){b.portFactoriesUpdated&&b.portFactoriesUpdated()})},m.prototype.registerNodeFactory=function(l){this.nodeFactories[l.getType()]=l,this.iterateListeners(function(b){b.nodeFactoriesUpdated&&b.nodeFactoriesUpdated()})},m.prototype.registerLinkFactory=function(l){this.linkFactories[l.getType()]=l,this.iterateListeners(function(b){b.linkFactoriesUpdated&&b.linkFactoriesUpdated()})},m.prototype.getPortFactory=function(l){if(this.portFactories[l])return this.portFactories[l];throw new Error("cannot find factory for port of type: ["+l+"]")},m.prototype.getNodeFactory=function(l){if(this.nodeFactories[l])return this.nodeFactories[l];throw new Error("cannot find factory for node of type: ["+l+"]")},m.prototype.getLinkFactory=function(l){if(this.linkFactories[l])return this.linkFactories[l];throw new Error("cannot find factory for link of type: ["+l+"]")},m.prototype.getLabelFactory=function(l){if(this.labelFactories[l])return this.labelFactories[l];throw new Error("cannot find factory for label of type: ["+l+"]")},m.prototype.getFactoryForNode=function(l){return this.getNodeFactory(l.getType())},m.prototype.getFactoryForLink=function(l){return this.getLinkFactory(l.getType())},m.prototype.getFactoryForLabel=function(l){return this.getLabelFactory(l.getType())},m.prototype.generateWidgetForLink=function(l){var b=this.getFactoryForLink(l);if(!b)throw new Error("Cannot find link factory for link: "+l.getType());return b.generateReactWidget(this,l)},m.prototype.generateWidgetForNode=function(l){var b=this.getFactoryForNode(l);if(!b)throw new Error("Cannot find widget factory for node: "+l.getType());return b.generateReactWidget(this,l)},m.prototype.getRelativeMousePoint=function(l){var b=this.getRelativePoint(l.clientX,l.clientY);return{x:(b.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:(b.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},m.prototype.getRelativePoint=function(l,b){var y=this.canvas.getBoundingClientRect();return{x:l-y.left,y:b-y.top}},m.prototype.getNodeElement=function(l){var b=this.canvas.querySelector('.node[data-nodeid="'+l.getID()+'"]');if(b===null)throw new Error("Cannot find Node element with nodeID: ["+l.getID()+"]");return b},m.prototype.getNodePortElement=function(l){var b=this.canvas.querySelector('.port[data-name="'+l.getName()+'"][data-nodeid="'+l.getParent().getID()+'"]');if(b===null)throw new Error("Cannot find Node Port element with nodeID: ["+l.getParent().getID()+"] and name: ["+l.getName()+"]");return b},m.prototype.getPortCenter=function(l){var b=this.getNodePortElement(l),y=b.getBoundingClientRect(),M=this.getRelativePoint(y.left,y.top);return{x:b.offsetWidth/2+(M.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:b.offsetHeight/2+(M.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},m.prototype.getPortCoords=function(l){var b=this.getNodePortElement(l),y=b.getBoundingClientRect(),M=this.canvas.getBoundingClientRect();return{x:(y.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100)-M.left,y:(y.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)-M.top,width:y.width,height:y.height}},m.prototype.getNodeDimensions=function(l){if(!this.canvas)return{width:0,height:0};var b=this.getNodeElement(l),y=b.getBoundingClientRect();return{width:y.width,height:y.height}},m.prototype.getMaxNumberPointsPerLink=function(){return this.maxNumberPointsPerLink},m.prototype.setMaxNumberPointsPerLink=function(l){this.maxNumberPointsPerLink=l},m.prototype.isSmartRoutingEnabled=function(){return!!this.smartRouting},m.prototype.setSmartRoutingStatus=function(l){this.smartRouting=l},m.prototype.getCanvasMatrix=function(){return this.canvasMatrix.length===0&&this.calculateCanvasMatrix(),this.canvasMatrix},m.prototype.calculateCanvasMatrix=function(){var l=this.calculateMatrixDimensions(),b=l.width,y=l.hAdjustmentFactor,M=l.height,P=l.vAdjustmentFactor;this.hAdjustmentFactor=y,this.vAdjustmentFactor=P;var L=Math.ceil(b/n.ROUTING_SCALING_FACTOR),O=Math.ceil(M/n.ROUTING_SCALING_FACTOR);this.canvasMatrix=o.range(0,O).map(function(){return new Array(L).fill(0)})},m.prototype.getRoutingMatrix=function(){return this.routingMatrix.length===0&&this.calculateRoutingMatrix(),this.routingMatrix},m.prototype.calculateRoutingMatrix=function(){var l=o.cloneDeep(this.getCanvasMatrix());this.markNodes(l),this.markPorts(l),this.routingMatrix=l},m.prototype.translateRoutingX=function(l,b){return b===void 0&&(b=!1),l+this.hAdjustmentFactor*(b?-1:1)},m.prototype.translateRoutingY=function(l,b){return b===void 0&&(b=!1),l+this.vAdjustmentFactor*(b?-1:1)},m.prototype.zoomToFit=function(){var l=this.canvas.clientWidth/this.canvas.scrollWidth,b=this.canvas.clientHeight/this.canvas.scrollHeight,y=l<b?l:b;this.diagramModel.setZoomLevel(this.diagramModel.getZoomLevel()*y),this.diagramModel.setOffset(0,0),this.repaintCanvas()},m}(d.BaseEntity);x.DiagramEngine=g},function(E,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var c=function(){function f(h,g){var p=[],m=!0,l=!1,b=void 0;try{for(var y=h[Symbol.iterator](),M;!(m=(M=y.next()).done)&&(p.push(M.value),!(g&&p.length===g));m=!0);}catch(P){l=!0,b=P}finally{try{!m&&y.return&&y.return()}finally{if(l)throw b}}return p}return function(h,g){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return f(h,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(h){return h*h},s=function(h,g){var p=c(h,2),m=p[0],l=p[1],b=c(g,2),y=b[0],M=b[1];return Math.sqrt(d(m-y)+d(l-M))},o=function(h,g){var p=s(h,g);return p==0?1/0:d(p)/(2*Math.abs(h[1]-g[1]))},r=function(h,g,p){var m=(h[0]-p[0])*(g[1]-p[1])-(g[0]-p[0])*(h[1]-p[1]);if(m==0)return[1/0,1/0];var l=(((h[0]-p[0])*(h[0]+p[0])+(h[1]-p[1])*(h[1]+p[1]))/2*(g[1]-p[1])-((g[0]-p[0])*(g[0]+p[0])+(g[1]-p[1])*(g[1]+p[1]))/2*(h[1]-p[1]))/m,b=(((g[0]-p[0])*(g[0]+p[0])+(g[1]-p[1])*(g[1]+p[1]))/2*(h[0]-p[0])-((h[0]-p[0])*(h[0]+p[0])+(h[1]-p[1])*(h[1]+p[1]))/2*(g[0]-p[0]))/m;return[l,b]},t=function(h,g,p){if(h[1]===g[1])return[(h[0]+g[0])/2,(h[0]+g[0])/2];var m=(h[1]*g[0]-h[0]*g[1]+h[0]*p-g[0]*p+Math.sqrt((h[0]*h[0]+h[1]*h[1]-2*h[0]*g[0]+g[0]*g[0]-2*h[1]*g[1]+g[1]*g[1])*(h[1]*g[1]-h[1]*p-g[1]*p+p*p)))/(h[1]-g[1]),l=(h[1]*g[0]-h[0]*g[1]+h[0]*p-g[0]*p-Math.sqrt((h[0]*h[0]+h[1]*h[1]-2*h[0]*g[0]+g[0]*g[0]-2*h[1]*g[1]+g[1]*g[1])*(h[1]*g[1]-h[1]*p-g[1]*p+p*p)))/(h[1]-g[1]);return m<l?[m,l]:[l,m]},e=function(h,g){var p=arguments.length<=2||arguments[2]===void 0?1e-10:arguments[2],m=g.ps[0]-h.ps[0],l=g.ps[1]-h.ps[1];if(h.m==1/0)return h.hp*(g.m*m-l)<=p&&g.vec[0]*m<=p;if(g.m==1/0)return g.hp*(h.m*m-l)>=-p&&h.vec[0]*m>=-p;var b=g.vec[0]*h.vec[1]-g.vec[1]*h.vec[0];if(b===0)return!1;var y=(l*g.vec[0]-m*g.vec[1])/b,M=(l*h.vec[0]-m*h.vec[1])/b;return y>=-p&&M>=p||y>=p&&M>=-p},n=function(h,g){return h.map(function(p){return{x:p.x*g[0]+p.y*g[2]+g[4],y:p.x*g[1]+p.y*g[3]+g[5]}})},i=function(h,g,p,m){var l=Math.PI/180,b=1e-10,y=Math.cos(p*l),M=Math.sin(p*l),P=[h*(m[0]*y+m[2]*M),h*(m[1]*y+m[3]*M),g*(-m[0]*M+m[2]*y),g*(-m[1]*M+m[3]*y)],L=P[0]*P[0]+P[2]*P[2],O=P[1]*P[1]+P[3]*P[3],w=((P[0]-P[3])*(P[0]-P[3])+(P[2]+P[1])*(P[2]+P[1]))*((P[0]+P[3])*(P[0]+P[3])+(P[2]-P[1])*(P[2]-P[1])),N=(L+O)/2;if(w<b*N)return{rx:Math.sqrt(N),ry:Math.sqrt(N),ax:0,isDegenerate:!1};var C=P[0]*P[1]+P[2]*P[3];w=Math.sqrt(w);var F=N+w/2,R=N-w/2,k=void 0,W=void 0,Y=void 0;return k=Math.abs(C)<b&&Math.abs(F-O)<b?90:Math.atan(Math.abs(C)>Math.abs(F-O)?(F-L)/C:C/(F-O))*180/Math.PI,k>=0?(W=Math.sqrt(F),Y=Math.sqrt(R)):(k+=90,W=Math.sqrt(R),Y=Math.sqrt(F)),{rx:W,ry:Y,ax:k,isDegenerate:W<b*Y||Y<b*W}};x.default={distPointToPoint:s,distPointToParabol:o,circumCenter:r,parabolsCrossX:t,doHalflinesCross:e,matrixTransform:n,transformEllipse:i},E.exports=x.default},function(E,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var c=function(){function o(r,t){var e=[],n=!0,i=!1,f=void 0;try{for(var h=r[Symbol.iterator](),g;!(n=(g=h.next()).done)&&(e.push(g.value),!(t&&e.length===t));n=!0);}catch(p){i=!0,f=p}finally{try{!n&&h.return&&h.return()}finally{if(i)throw f}}return e}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return o(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=a(50),s=function o(r){var t=r||[],e=function(y,M){var P=y.slice(0,y.length);return P.push(M),P},n=function(y,M){var P=c(y,2),L=P[0],O=P[1],w=c(M,2),N=w[0],C=w[1];return L===N&&O===C},i=function(y,M){for(var P=y.length;y.charAt(P-1)==="0";)P=P-1;return y.charAt(P-1)==="."&&(P=P-1),y.substr(0,P)},f=function(y,M){var P=y.toFixed(M);return i(P)},h=function(y){var M=y.command,P=y.params,L=P.map(function(O){return f(O,6)});return M+" "+L.join(" ")},g=function(y,M){var P=y.command,L=y.params;switch(P){case"M":return[L[0],L[1]];case"L":return[L[0],L[1]];case"H":return[L[0],M[1]];case"V":return[M[0],L[0]];case"Z":return null;case"C":return[L[4],L[5]];case"S":return[L[2],L[3]];case"Q":return[L[2],L[3]];case"T":return[L[0],L[1]];case"A":return[L[5],L[6]]}},p=function(y,M,P){var L=y.params,O={V:function(N,C,F){var R=[{x:F[0],y:L[1]}],k=(0,d.matrixTransform)(R,C);return k[0].x===(0,d.matrixTransform)([{x:F[0],y:F[1]}])[0].x?{command:"V",params:[k[0].y]}:{command:"L",params:[k[0].x,k[0].y]}},H:function(N,C,F){var R=[{x:L[0],y:F[1]}],k=(0,d.matrixTransform)(R,C);return k[0].y===(0,d.matrixTransform)([{x:F[0],y:F[1]}])[0].y?{command:"H",params:[k[0].x]}:{command:"L",params:[k[0].x,k[0].y]}},A:function(N,C,F){var R=(0,d.transformEllipse)(L[0],L[1],L[2],C),k=L[4];C[0]*C[3]-C[1]*C[2]<0&&(k=k?"0":"1");var W=[{x:L[5],y:L[6]}],Y=(0,d.matrixTransform)(W,C);return R.isDegenerate?{command:"L",params:[Y[0].x,Y[0].y]}:{command:"A",params:[R.rx,R.ry,R.ax,L[3],k,Y[0].x,Y[0].y]}},C:function(N,C,F){var R=[{x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]}],k=(0,d.matrixTransform)(R,C);return{command:"C",params:[k[0].x,k[0].y,k[1].x,k[1].y,k[2].x,k[2].y]}},Z:function(N,C,F){return{command:"Z",params:[]}},default:function(N,C,F){var R=[{x:L[0],y:L[1]}],k=(0,d.matrixTransform)(R,C),W=N.params.slice(0,N.params.length);return W.splice(0,2,k[0].x,k[0].y),{command:N.command,params:W}}};return O[y.command]?O[y.command](y,M,P):O.default(y,M,P)},m=function(y,M){return function(P){var L=typeof P=="object"?y.map(function(O){return P[O]}):arguments;return M.apply(null,L)}},l=function(y){return o(e(t,y))};return{moveto:m(["x","y"],function(b,y){return l({command:"M",params:[b,y]})}),lineto:m(["x","y"],function(b,y){return l({command:"L",params:[b,y]})}),hlineto:m(["x"],function(b){return l({command:"H",params:[b]})}),vlineto:m(["y"],function(b){return l({command:"V",params:[b]})}),closepath:function(){return l({command:"Z",params:[]})},curveto:m(["x1","y1","x2","y2","x","y"],function(b,y,M,P,L,O){return l({command:"C",params:[b,y,M,P,L,O]})}),smoothcurveto:m(["x2","y2","x","y"],function(b,y,M,P){return l({command:"S",params:[b,y,M,P]})}),qcurveto:m(["x1","y1","x","y"],function(b,y,M,P){return l({command:"Q",params:[b,y,M,P]})}),smoothqcurveto:m(["x","y"],function(b,y){return l({command:"T",params:[b,y]})}),arc:m(["rx","ry","xrot","largeArcFlag","sweepFlag","x","y"],function(b,y,M,P,L,O,w){return l({command:"A",params:[b,y,M,P,L,O,w]})}),translate:m(["dx","dy"],function(){var b=arguments.length<=0||arguments[0]===void 0?0:arguments[0],y=arguments.length<=1||arguments[1]===void 0?0:arguments[1];if(b!==0||b!==0){var M=function(){var P=[0,0],L=[1,0,0,1,b,y],O=t.map(function(w){var N=p(w,L,P);return P=g(w,P),N});return{v:o(O)}}();if(typeof M=="object")return M.v}else return o(t)}),rotate:m(["angle","rx","ry"],function(b){var y=arguments.length<=1||arguments[1]===void 0?0:arguments[1],M=arguments.length<=2||arguments[2]===void 0?0:arguments[2];if(b!==0){var P=function(){var L=void 0,O=void 0,w=t;y!==0&&M!==0&&(L=[0,0],O=[1,0,0,1,-y,-M],w=w.map(function(R){var k=p(R,O,L);return L=g(R,L),k}));var N=b*Math.PI/180,C=Math.cos(N),F=Math.sin(N);return L=[0,0],O=[C,F,-F,C,0,0],w=w.map(function(R){var k=p(R,O,L);return L=g(R,L),k}),y!==0&&M!==0&&(L=[0,0],O=[1,0,0,1,y,M],w=w.map(function(R){var k=p(R,O,L);return L=g(R,L),k})),{v:o(w)}}();if(typeof P=="object")return P.v}else return o(t)}),scale:m(["sx","sy"],function(){var b=arguments.length<=0||arguments[0]===void 0?1:arguments[0],y=arguments.length<=1||arguments[1]===void 0?b:arguments[1];return function(){if(b!==1||y!==1){var M=function(){var P=[0,0],L=[b,0,0,y,0,0],O=t.map(function(w){var N=p(w,L,P);return P=g(w,P),N});return{v:o(O)}}();if(typeof M=="object")return M.v}else return o(t)}()}),shearX:m(["angle"],function(){var b=arguments.length<=0||arguments[0]===void 0?0:arguments[0];if(b!==0){var y=function(){var M=[0,0],P=[1,0,Math.tan(b*Math.PI/180),1,0,0],L=t.map(function(O){var w=p(O,P,M);return M=g(O,M),w});return{v:o(L)}}();if(typeof y=="object")return y.v}else return o(t)}),shearY:m(["angle"],function(){var b=arguments.length<=0||arguments[0]===void 0?0:arguments[0];if(b!==0){var y=function(){var M=[0,0],P=[1,Math.tan(b*Math.PI/180),0,1,0,0],L=t.map(function(O){var w=p(O,P,M);return M=g(O,M),w});return{v:o(L)}}();if(typeof y=="object")return y.v}else return o(t)}),print:function(){return t.map(h).join(" ")},toString:function(){return(void 0).print()},points:function(){var y=[],M=[0,0],P=!0,L=!1,O=void 0;try{for(var w=t[Symbol.iterator](),N;!(P=(N=w.next()).done);P=!0){var C=N.value,F=g(C,M);M=F,F&&y.push(F)}}catch(R){L=!0,O=R}finally{try{!P&&w.return&&w.return()}finally{if(L)throw O}}return y},instructions:function(){return t.slice(0,t.length)},connect:function(y){var M=this.points(),P=M[M.length-1],L=y.points()[0],O=void 0;return t[t.length-1].command!=="Z"?(O=y.instructions().slice(1),n(P,L)||O.unshift({command:"L",params:L})):O=y.instructions(),o(this.instructions().concat(O))}}};x.default=function(){return s()},E.exports=x.default},function(E,x,a){var c=a(14),d=a(2);function s(o){c.call(this,o)}s.prototype=new c,s.prototype.constructor=s,s.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&f!==0){if(n.isWalkableAt(o-i,r+f)&&!n.isWalkableAt(o-i,r)||n.isWalkableAt(o+i,r-f)&&!n.isWalkableAt(o,r-f))return[o,r];if(this._jump(o+i,r,o,r)||this._jump(o,r+f,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o+i,r+1)&&!n.isWalkableAt(o,r+1)||n.isWalkableAt(o+i,r-1)&&!n.isWalkableAt(o,r-1))return[o,r]}else if(n.isWalkableAt(o+1,r+f)&&!n.isWalkableAt(o+1,r)||n.isWalkableAt(o-1,r+f)&&!n.isWalkableAt(o-1,r))return[o,r];return n.isWalkableAt(o+i,r)||n.isWalkableAt(o,r+f)?this._jump(o+i,r+f,o,r):null},s.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,h,g,p,m,l=[],b,y,M,P;if(r)i=r.x,f=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),m=(e-f)/Math.max(Math.abs(e-f),1),p!==0&&m!==0?(n.isWalkableAt(t,e+m)&&l.push([t,e+m]),n.isWalkableAt(t+p,e)&&l.push([t+p,e]),(n.isWalkableAt(t,e+m)||n.isWalkableAt(t+p,e))&&l.push([t+p,e+m]),!n.isWalkableAt(t-p,e)&&n.isWalkableAt(t,e+m)&&l.push([t-p,e+m]),!n.isWalkableAt(t,e-m)&&n.isWalkableAt(t+p,e)&&l.push([t+p,e-m])):p===0?n.isWalkableAt(t,e+m)&&(l.push([t,e+m]),n.isWalkableAt(t+1,e)||l.push([t+1,e+m]),n.isWalkableAt(t-1,e)||l.push([t-1,e+m])):n.isWalkableAt(t+p,e)&&(l.push([t+p,e]),n.isWalkableAt(t,e+1)||l.push([t+p,e+1]),n.isWalkableAt(t,e-1)||l.push([t+p,e-1]));else for(b=n.getNeighbors(o,d.IfAtMostOneObstacle),M=0,P=b.length;M<P;++M)y=b[M],l.push([y.x,y.y]);return l},E.exports=s},function(E,x,a){var c=a(14),d=a(2);function s(o){c.call(this,o)}s.prototype=new c,s.prototype.constructor=s,s.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&f!==0){if(this._jump(o+i,r,o,r)||this._jump(o,r+f,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o,r-1)&&!n.isWalkableAt(o-i,r-1)||n.isWalkableAt(o,r+1)&&!n.isWalkableAt(o-i,r+1))return[o,r]}else if(f!==0&&(n.isWalkableAt(o-1,r)&&!n.isWalkableAt(o-1,r-f)||n.isWalkableAt(o+1,r)&&!n.isWalkableAt(o+1,r-f)))return[o,r];return n.isWalkableAt(o+i,r)&&n.isWalkableAt(o,r+f)?this._jump(o+i,r+f,o,r):null},s.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,h,g,p,m,l=[],b,y,M,P;if(r)if(i=r.x,f=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),m=(e-f)/Math.max(Math.abs(e-f),1),p!==0&&m!==0)n.isWalkableAt(t,e+m)&&l.push([t,e+m]),n.isWalkableAt(t+p,e)&&l.push([t+p,e]),n.isWalkableAt(t,e+m)&&n.isWalkableAt(t+p,e)&&l.push([t+p,e+m]);else{var L;if(p!==0){L=n.isWalkableAt(t+p,e);var O=n.isWalkableAt(t,e+1),w=n.isWalkableAt(t,e-1);L&&(l.push([t+p,e]),O&&l.push([t+p,e+1]),w&&l.push([t+p,e-1])),O&&l.push([t,e+1]),w&&l.push([t,e-1])}else if(m!==0){L=n.isWalkableAt(t,e+m);var N=n.isWalkableAt(t+1,e),C=n.isWalkableAt(t-1,e);L&&(l.push([t,e+m]),N&&l.push([t+1,e+m]),C&&l.push([t-1,e+m])),N&&l.push([t+1,e]),C&&l.push([t-1,e])}}else for(b=n.getNeighbors(o,d.OnlyWhenNoObstacles),M=0,P=b.length;M<P;++M)y=b[M],l.push([y.x,y.y]);return l},E.exports=s},function(E,x,a){var c=a(14),d=a(2);function s(o){c.call(this,o)}s.prototype=new c,s.prototype.constructor=s,s.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0&&f!==0){if(n.isWalkableAt(o-i,r+f)&&!n.isWalkableAt(o-i,r)||n.isWalkableAt(o+i,r-f)&&!n.isWalkableAt(o,r-f))return[o,r];if(this._jump(o+i,r,o,r)||this._jump(o,r+f,o,r))return[o,r]}else if(i!==0){if(n.isWalkableAt(o+i,r+1)&&!n.isWalkableAt(o,r+1)||n.isWalkableAt(o+i,r-1)&&!n.isWalkableAt(o,r-1))return[o,r]}else if(n.isWalkableAt(o+1,r+f)&&!n.isWalkableAt(o+1,r)||n.isWalkableAt(o-1,r+f)&&!n.isWalkableAt(o-1,r))return[o,r];return this._jump(o+i,r+f,o,r)},s.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,h,g,p,m,l=[],b,y,M,P;if(r)i=r.x,f=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),m=(e-f)/Math.max(Math.abs(e-f),1),p!==0&&m!==0?(n.isWalkableAt(t,e+m)&&l.push([t,e+m]),n.isWalkableAt(t+p,e)&&l.push([t+p,e]),n.isWalkableAt(t+p,e+m)&&l.push([t+p,e+m]),n.isWalkableAt(t-p,e)||l.push([t-p,e+m]),n.isWalkableAt(t,e-m)||l.push([t+p,e-m])):p===0?(n.isWalkableAt(t,e+m)&&l.push([t,e+m]),n.isWalkableAt(t+1,e)||l.push([t+1,e+m]),n.isWalkableAt(t-1,e)||l.push([t-1,e+m])):(n.isWalkableAt(t+p,e)&&l.push([t+p,e]),n.isWalkableAt(t,e+1)||l.push([t+p,e+1]),n.isWalkableAt(t,e-1)||l.push([t+p,e-1]));else for(b=n.getNeighbors(o,d.Always),M=0,P=b.length;M<P;++M)y=b[M],l.push([y.x,y.y]);return l},E.exports=s},function(E,x,a){var c=a(14),d=a(2);function s(o){c.call(this,o)}s.prototype=new c,s.prototype.constructor=s,s.prototype._jump=function(o,r,t,e){var n=this.grid,i=o-t,f=r-e;if(!n.isWalkableAt(o,r))return null;if(this.trackJumpRecursion===!0&&(n.getNodeAt(o,r).tested=!0),n.getNodeAt(o,r)===this.endNode)return[o,r];if(i!==0){if(n.isWalkableAt(o,r-1)&&!n.isWalkableAt(o-i,r-1)||n.isWalkableAt(o,r+1)&&!n.isWalkableAt(o-i,r+1))return[o,r]}else if(f!==0){if(n.isWalkableAt(o-1,r)&&!n.isWalkableAt(o-1,r-f)||n.isWalkableAt(o+1,r)&&!n.isWalkableAt(o+1,r-f))return[o,r];if(this._jump(o+1,r,o,r)||this._jump(o-1,r,o,r))return[o,r]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(o+i,r+f,o,r)},s.prototype._findNeighbors=function(o){var r=o.parent,t=o.x,e=o.y,n=this.grid,i,f,h,g,p,m,l=[],b,y,M,P;if(r)i=r.x,f=r.y,p=(t-i)/Math.max(Math.abs(t-i),1),m=(e-f)/Math.max(Math.abs(e-f),1),p!==0?(n.isWalkableAt(t,e-1)&&l.push([t,e-1]),n.isWalkableAt(t,e+1)&&l.push([t,e+1]),n.isWalkableAt(t+p,e)&&l.push([t+p,e])):m!==0&&(n.isWalkableAt(t-1,e)&&l.push([t-1,e]),n.isWalkableAt(t+1,e)&&l.push([t+1,e]),n.isWalkableAt(t,e+m)&&l.push([t,e+m]));else for(b=n.getNeighbors(o,d.Never),M=0,P=b.length;M<P;++M)y=b[M],l.push([y.x,y.y]);return l},E.exports=s},function(E,x,a){var c=a(2),d=a(55),s=a(54),o=a(53),r=a(52);function t(e){return e=e||{},e.diagonalMovement===c.Never?new d(e):e.diagonalMovement===c.Always?new s(e):e.diagonalMovement===c.OnlyWhenNoObstacles?new o(e):new r(e)}E.exports=t},function(E,x,a){var c=a(4),d=a(10),s=a(24),o=a(2);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||d.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||d.manhattan:this.heuristic=t.heuristic||d.octile}r.prototype.findPath=function(t,e,n,i,f){var h=0,g=new Date().getTime(),p=function(w,N){return this.heuristic(Math.abs(N.x-w.x),Math.abs(N.y-w.y))}.bind(this),m=function(w,N){return w.x===N.x||w.y===N.y?1:Math.SQRT2},l=function(w,N,C,F,R){if(h++,this.timeLimit>0&&new Date().getTime()-g>this.timeLimit*1e3)return 1/0;var k=N+p(w,y)*this.weight;if(k>C)return k;if(w==y)return F[R]=[w.x,w.y],w;var W,Y,$,q,ct=f.getNeighbors(w,this.diagonalMovement);for($=0,W=1/0;q=ct[$];++$){if(this.trackRecursion&&(q.retainCount=q.retainCount+1||1,q.tested!==!0&&(q.tested=!0)),Y=l(q,N+m(w,q),C,F,R+1),Y instanceof s)return F[R]=[w.x,w.y],Y;this.trackRecursion&&--q.retainCount===0&&(q.tested=!1),Y<W&&(W=Y)}return W}.bind(this),b=f.getNodeAt(t,e),y=f.getNodeAt(n,i),M=p(b,y),P,L,O;for(P=0;;++P){if(L=[],O=l(b,0,M,L,0),O===1/0)return[];if(O instanceof s)return L;M=O}return[]},E.exports=r},function(E,x,a){var c=a(22);function d(s){c.call(this,s),this.heuristic=function(o,r){return 0}}d.prototype=new c,d.prototype.constructor=d,E.exports=d},function(E,x,a){var c=a(4),d=a(2);function s(o){o=o||{},this.allowDiagonal=o.allowDiagonal,this.dontCrossCorners=o.dontCrossCorners,this.diagonalMovement=o.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=d.OnlyWhenNoObstacles:this.diagonalMovement=d.IfAtMostOneObstacle:this.diagonalMovement=d.Never)}s.prototype.findPath=function(o,r,t,e,n){var i=n.getNodeAt(o,r),f=n.getNodeAt(t,e),h=[],g=[],p,m,l,b=this.diagonalMovement,y=0,M=1,P,L;for(h.push(i),i.opened=!0,i.by=y,g.push(f),f.opened=!0,f.by=M;h.length&&g.length;){for(l=h.shift(),l.closed=!0,p=n.getNeighbors(l,b),P=0,L=p.length;P<L;++P)if(m=p[P],!m.closed){if(m.opened){if(m.by===M)return c.biBacktrace(l,m);continue}h.push(m),m.parent=l,m.opened=!0,m.by=y}for(l=g.shift(),l.closed=!0,p=n.getNeighbors(l,b),P=0,L=p.length;P<L;++P)if(m=p[P],!m.closed){if(m.opened){if(m.by===y)return c.biBacktrace(m,l);continue}g.push(m),m.parent=l,m.opened=!0,m.by=M}}return[]},E.exports=s},function(E,x,a){var c=a(22);function d(s){c.call(this,s);var o=this.heuristic;this.heuristic=function(r,t){return o(r,t)*1e6}}d.prototype=new c,d.prototype.constructor=d,E.exports=d},function(E,x,a){var c=a(23);function d(s){c.call(this,s),this.heuristic=function(o,r){return 0}}d.prototype=new c,d.prototype.constructor=d,E.exports=d},function(E,x,a){var c=a(4),d=a(2);function s(o){o=o||{},this.allowDiagonal=o.allowDiagonal,this.dontCrossCorners=o.dontCrossCorners,this.diagonalMovement=o.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=d.OnlyWhenNoObstacles:this.diagonalMovement=d.IfAtMostOneObstacle:this.diagonalMovement=d.Never)}s.prototype.findPath=function(o,r,t,e,n){var i=[],f=this.diagonalMovement,h=n.getNodeAt(o,r),g=n.getNodeAt(t,e),p,m,l,b,y;for(i.push(h),h.opened=!0;i.length;){if(l=i.shift(),l.closed=!0,l===g)return c.backtrace(g);for(p=n.getNeighbors(l,f),b=0,y=p.length;b<y;++b)m=p[b],!(m.closed||m.opened)&&(i.push(m),m.opened=!0,m.parent=l)}return[]},E.exports=s},function(E,x,a){var c=a(23);function d(s){c.call(this,s);var o=this.heuristic;this.heuristic=function(r,t){return o(r,t)*1e6}}d.prototype=new c,d.prototype.constructor=d,E.exports=d},function(E,x,a){var c=a(24),d=a(2);function s(o,r,t){var e;typeof o!="object"?e=o:(r=o.length,e=o[0].length,t=o),this.width=e,this.height=r,this.nodes=this._buildNodes(e,r,t)}s.prototype._buildNodes=function(o,r,t){var e,n,i=new Array(r);for(e=0;e<r;++e)for(i[e]=new Array(o),n=0;n<o;++n)i[e][n]=new c(n,e);if(t===void 0)return i;if(t.length!==r||t[0].length!==o)throw new Error("Matrix size does not fit");for(e=0;e<r;++e)for(n=0;n<o;++n)t[e][n]&&(i[e][n].walkable=!1);return i},s.prototype.getNodeAt=function(o,r){return this.nodes[r][o]},s.prototype.isWalkableAt=function(o,r){return this.isInside(o,r)&&this.nodes[r][o].walkable},s.prototype.isInside=function(o,r){return o>=0&&o<this.width&&r>=0&&r<this.height},s.prototype.setWalkableAt=function(o,r,t){this.nodes[r][o].walkable=t},s.prototype.getNeighbors=function(o,r){var t=o.x,e=o.y,n=[],i=!1,f=!1,h=!1,g=!1,p=!1,m=!1,l=!1,b=!1,y=this.nodes;if(this.isWalkableAt(t,e-1)&&(n.push(y[e-1][t]),i=!0),this.isWalkableAt(t+1,e)&&(n.push(y[e][t+1]),h=!0),this.isWalkableAt(t,e+1)&&(n.push(y[e+1][t]),p=!0),this.isWalkableAt(t-1,e)&&(n.push(y[e][t-1]),l=!0),r===d.Never)return n;if(r===d.OnlyWhenNoObstacles)f=l&&i,g=i&&h,m=h&&p,b=p&&l;else if(r===d.IfAtMostOneObstacle)f=l||i,g=i||h,m=h||p,b=p||l;else if(r===d.Always)f=!0,g=!0,m=!0,b=!0;else throw new Error("Incorrect value of diagonalMovement");return f&&this.isWalkableAt(t-1,e-1)&&n.push(y[e-1][t-1]),g&&this.isWalkableAt(t+1,e-1)&&n.push(y[e-1][t+1]),m&&this.isWalkableAt(t+1,e+1)&&n.push(y[e+1][t+1]),b&&this.isWalkableAt(t-1,e+1)&&n.push(y[e+1][t-1]),n},s.prototype.clone=function(){var o,r,t=this.width,e=this.height,n=this.nodes,i=new s(t,e),f=new Array(e);for(o=0;o<e;++o)for(f[o]=new Array(t),r=0;r<t;++r)f[o][r]=new c(r,o,n[o][r].walkable);return i.nodes=f,i},E.exports=s},function(E,x){E.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(E,x,a){(function(c){(function(){var d,s,o,r,t,e,n,i,f,h,g,p,m,l,b;o=Math.floor,h=Math.min,s=function(y,M){return y<M?-1:y>M?1:0},f=function(y,M,P,L,O){var w;if(P==null&&(P=0),O==null&&(O=s),P<0)throw new Error("lo must be non-negative");for(L==null&&(L=y.length);P<L;)w=o((P+L)/2),O(M,y[w])<0?L=w:P=w+1;return[].splice.apply(y,[P,P-P].concat(M)),M},e=function(y,M,P){return P==null&&(P=s),y.push(M),l(y,0,y.length-1,P)},t=function(y,M){var P,L;return M==null&&(M=s),P=y.pop(),y.length?(L=y[0],y[0]=P,b(y,0,M)):L=P,L},i=function(y,M,P){var L;return P==null&&(P=s),L=y[0],y[0]=M,b(y,0,P),L},n=function(y,M,P){var L;return P==null&&(P=s),y.length&&P(y[0],M)<0&&(L=[y[0],M],M=L[0],y[0]=L[1],b(y,0,P)),M},r=function(y,M){var P,L,O,w,N,C,F,R;for(M==null&&(M=s),C=function(){R=[];for(var k=0,W=o(y.length/2);0<=W?k<W:k>W;0<=W?k++:k--)R.push(k);return R}.apply(this).reverse(),F=[],L=0,w=C.length;L<w;L++)P=C[L],F.push(b(y,P,M));return F},m=function(y,M,P){var L;if(P==null&&(P=s),L=y.indexOf(M),L!==-1)return l(y,0,L,P),b(y,L,P)},g=function(y,M,P){var L,O,w,N,C;if(P==null&&(P=s),O=y.slice(0,M),!O.length)return O;for(r(O,P),C=y.slice(M),w=0,N=C.length;w<N;w++)L=C[w],n(O,L,P);return O.sort(P).reverse()},p=function(y,M,P){var L,O,w,N,C,F,R,k,W,Y;if(P==null&&(P=s),M*10<=y.length){if(N=y.slice(0,M).sort(P),!N.length)return N;for(w=N[N.length-1],k=y.slice(M),C=0,R=k.length;C<R;C++)L=k[C],P(L,w)<0&&(f(N,L,0,null,P),N.pop(),w=N[N.length-1]);return N}for(r(y,P),Y=[],O=F=0,W=h(M,y.length);0<=W?F<W:F>W;O=0<=W?++F:--F)Y.push(t(y,P));return Y},l=function(y,M,P,L){var O,w,N;for(L==null&&(L=s),O=y[P];P>M;){if(N=P-1>>1,w=y[N],L(O,w)<0){y[P]=w,P=N;continue}break}return y[P]=O},b=function(y,M,P){var L,O,w,N,C;for(P==null&&(P=s),O=y.length,C=M,w=y[M],L=2*M+1;L<O;)N=L+1,N<O&&!(P(y[L],y[N])<0)&&(L=N),y[M]=y[L],M=L,L=2*M+1;return y[M]=w,l(y,C,M,P)},d=function(){y.push=e,y.pop=t,y.replace=i,y.pushpop=n,y.heapify=r,y.updateItem=m,y.nlargest=g,y.nsmallest=p;function y(M){this.cmp=M!=null?M:s,this.nodes=[]}return y.prototype.push=function(M){return e(this.nodes,M,this.cmp)},y.prototype.pop=function(){return t(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(M){return this.nodes.indexOf(M)!==-1},y.prototype.replace=function(M){return i(this.nodes,M,this.cmp)},y.prototype.pushpop=function(M){return n(this.nodes,M,this.cmp)},y.prototype.heapify=function(){return r(this.nodes,this.cmp)},y.prototype.updateItem=function(M){return m(this.nodes,M,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var M;return M=new y,M.nodes=this.nodes.slice(0),M},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y}(),typeof c!="undefined"&&c!==null&&c.exports?c.exports=d:window.Heap=d}).call(this)}).call(this,a(65)(E))},function(E,x,a){E.exports={Heap:a(15),Node:a(24),Grid:a(64),Util:a(4),DiagonalMovement:a(2),Heuristic:a(10),AStarFinder:a(23),BestFirstFinder:a(63),BreadthFirstFinder:a(62),DijkstraFinder:a(61),BiAStarFinder:a(22),BiBestFirstFinder:a(60),BiBreadthFirstFinder:a(59),BiDijkstraFinder:a(58),IDAStarFinder:a(57),JumpPointFinder:a(56)}},function(E,x,a){E.exports=a(67)},function(E,x){var a=Element.prototype,c=a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;E.exports=d;function d(s,o){if(c)return c.call(s,o);for(var r=s.parentNode.querySelectorAll(o),t=0;t<r.length;++t)if(r[t]==s)return!0;return!1}},function(E,x,a){var c=a(69);E.exports=function(d,s,o){for(var r=o?d:d.parentNode;r&&r!==document;){if(c(r,s))return r;r=r.parentNode}}}])})},28282:(S,I,v)=>{var u=v(82354);S.exports={Graph:u.Graph,json:v(28974),alg:v(12440),version:u.version}},2842:(S,I,v)=>{var u=v(89126);S.exports=A;function A(E){var x={},a=[],c;function d(s){u.has(x,s)||(x[s]=!0,c.push(s),u.each(E.successors(s),d),u.each(E.predecessors(s),d))}return u.each(E.nodes(),function(s){c=[],d(s),c.length&&a.push(c)}),a}},53984:(S,I,v)=>{var u=v(89126);S.exports=A;function A(x,a,c){u.isArray(a)||(a=[a]);var d=(x.isDirected()?x.successors:x.neighbors).bind(x),s=[],o={};return u.each(a,function(r){if(!x.hasNode(r))throw new Error("Graph does not have node: "+r);E(x,r,c==="post",o,d,s)}),s}function E(x,a,c,d,s,o){u.has(d,a)||(d[a]=!0,c||o.push(a),u.each(s(a),function(r){E(x,r,c,d,s,o)}),c&&o.push(a))}},84847:(S,I,v)=>{var u=v(63763),A=v(89126);S.exports=E;function E(x,a,c){return A.transform(x.nodes(),function(d,s){d[s]=u(x,s,a,c)},{})}},63763:(S,I,v)=>{var u=v(89126),A=v(75639);S.exports=x;var E=u.constant(1);function x(c,d,s,o){return a(c,String(d),s||E,o||function(r){return c.outEdges(r)})}function a(c,d,s,o){var r={},t=new A,e,n,i=function(f){var h=f.v!==e?f.v:f.w,g=r[h],p=s(f),m=n.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+p);m<g.distance&&(g.distance=m,g.predecessor=e,t.decrease(h,m))};for(c.nodes().forEach(function(f){var h=f===d?0:Number.POSITIVE_INFINITY;r[f]={distance:h},t.add(f,h)});t.size()>0&&(e=t.removeMin(),n=r[e],n.distance!==Number.POSITIVE_INFINITY);)o(e).forEach(i);return r}},9096:(S,I,v)=>{var u=v(89126),A=v(5023);S.exports=E;function E(x){return u.filter(A(x),function(a){return a.length>1||a.length===1&&x.hasEdge(a[0],a[0])})}},38924:(S,I,v)=>{var u=v(89126);S.exports=E;var A=u.constant(1);function E(a,c,d){return x(a,c||A,d||function(s){return a.outEdges(s)})}function x(a,c,d){var s={},o=a.nodes();return o.forEach(function(r){s[r]={},s[r][r]={distance:0},o.forEach(function(t){r!==t&&(s[r][t]={distance:Number.POSITIVE_INFINITY})}),d(r).forEach(function(t){var e=t.v===r?t.w:t.v,n=c(t);s[r][e]={distance:n,predecessor:r}})}),o.forEach(function(r){var t=s[r];o.forEach(function(e){var n=s[e];o.forEach(function(i){var f=n[r],h=t[i],g=n[i],p=f.distance+h.distance;p<g.distance&&(g.distance=p,g.predecessor=h.predecessor)})})}),s}},12440:(S,I,v)=>{S.exports={components:v(2842),dijkstra:v(63763),dijkstraAll:v(84847),findCycles:v(9096),floydWarshall:v(38924),isAcyclic:v(62707),postorder:v(58828),preorder:v(92648),prim:v(80514),tarjan:v(5023),topsort:v(2166)}},62707:(S,I,v)=>{var u=v(2166);S.exports=A;function A(E){try{u(E)}catch(x){if(x instanceof u.CycleException)return!1;throw x}return!0}},58828:(S,I,v)=>{var u=v(53984);S.exports=A;function A(E,x){return u(E,x,"post")}},92648:(S,I,v)=>{var u=v(53984);S.exports=A;function A(E,x){return u(E,x,"pre")}},80514:(S,I,v)=>{var u=v(89126),A=v(30771),E=v(75639);S.exports=x;function x(a,c){var d=new A,s={},o=new E,r;function t(n){var i=n.v===r?n.w:n.v,f=o.priority(i);if(f!==void 0){var h=c(n);h<f&&(s[i]=r,o.decrease(i,h))}}if(a.nodeCount()===0)return d;u.each(a.nodes(),function(n){o.add(n,Number.POSITIVE_INFINITY),d.setNode(n)}),o.decrease(a.nodes()[0],0);for(var e=!1;o.size()>0;){if(r=o.removeMin(),u.has(s,r))d.setEdge(r,s[r]);else{if(e)throw new Error("Input graph is not connected: "+a);e=!0}a.nodeEdges(r).forEach(t)}return d}},5023:(S,I,v)=>{var u=v(89126);S.exports=A;function A(E){var x=0,a=[],c={},d=[];function s(o){var r=c[o]={onStack:!0,lowlink:x,index:x++};if(a.push(o),E.successors(o).forEach(function(n){u.has(c,n)?c[n].onStack&&(r.lowlink=Math.min(r.lowlink,c[n].index)):(s(n),r.lowlink=Math.min(r.lowlink,c[n].lowlink))}),r.lowlink===r.index){var t=[],e;do e=a.pop(),c[e].onStack=!1,t.push(e);while(o!==e);d.push(t)}}return E.nodes().forEach(function(o){u.has(c,o)||s(o)}),d}},2166:(S,I,v)=>{var u=v(89126);S.exports=A,A.CycleException=E;function A(x){var a={},c={},d=[];function s(o){if(u.has(c,o))throw new E;u.has(a,o)||(c[o]=!0,a[o]=!0,u.each(x.predecessors(o),s),delete c[o],d.push(o))}if(u.each(x.sinks(),s),u.size(a)!==x.nodeCount())throw new E;return d}function E(){}E.prototype=new Error},75639:(S,I,v)=>{var u=v(89126);S.exports=A;function A(){this._arr=[],this._keyIndices={}}A.prototype.size=function(){return this._arr.length},A.prototype.keys=function(){return this._arr.map(function(E){return E.key})},A.prototype.has=function(E){return u.has(this._keyIndices,E)},A.prototype.priority=function(E){var x=this._keyIndices[E];if(x!==void 0)return this._arr[x].priority},A.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},A.prototype.add=function(E,x){var a=this._keyIndices;if(E=String(E),!u.has(a,E)){var c=this._arr,d=c.length;return a[E]=d,c.push({key:E,priority:x}),this._decrease(d),!0}return!1},A.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var E=this._arr.pop();return delete this._keyIndices[E.key],this._heapify(0),E.key},A.prototype.decrease=function(E,x){var a=this._keyIndices[E];if(x>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+E+" Old: "+this._arr[a].priority+" New: "+x);this._arr[a].priority=x,this._decrease(a)},A.prototype._heapify=function(E){var x=this._arr,a=2*E,c=a+1,d=E;a<x.length&&(d=x[a].priority<x[d].priority?a:d,c<x.length&&(d=x[c].priority<x[d].priority?c:d),d!==E&&(this._swap(E,d),this._heapify(d)))},A.prototype._decrease=function(E){for(var x=this._arr,a=x[E].priority,c;E!==0&&(c=E>>1,!(x[c].priority<a));)this._swap(E,c),E=c},A.prototype._swap=function(E,x){var a=this._arr,c=this._keyIndices,d=a[E],s=a[x];a[E]=s,a[x]=d,c[s.key]=E,c[d.key]=x}},30771:(S,I,v)=>{"use strict";var u=v(89126);S.exports=a;var A="\0",E="\0",x="";function a(t){this._isDirected=u.has(t,"directed")?t.directed:!0,this._isMultigraph=u.has(t,"multigraph")?t.multigraph:!1,this._isCompound=u.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=u.constant(void 0),this._defaultEdgeLabelFn=u.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[E]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(t){return this._label=t,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultNodeLabelFn=t,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return u.keys(this._nodes)},a.prototype.sources=function(){var t=this;return u.filter(this.nodes(),function(e){return u.isEmpty(t._in[e])})},a.prototype.sinks=function(){var t=this;return u.filter(this.nodes(),function(e){return u.isEmpty(t._out[e])})},a.prototype.setNodes=function(t,e){var n=arguments,i=this;return u.each(t,function(f){n.length>1?i.setNode(f,e):i.setNode(f)}),this},a.prototype.setNode=function(t,e){return u.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=E,this._children[t]={},this._children[E][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},a.prototype.node=function(t){return this._nodes[t]},a.prototype.hasNode=function(t){return u.has(this._nodes,t)},a.prototype.removeNode=function(t){var e=this;if(u.has(this._nodes,t)){var n=function(i){e.removeEdge(e._edgeObjs[i])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],u.each(this.children(t),function(i){e.setParent(i)}),delete this._children[t]),u.each(u.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],u.each(u.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},a.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.isUndefined(e))e=E;else{e+="";for(var n=e;!u.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},a.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},a.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==E)return e}},a.prototype.children=function(t){if(u.isUndefined(t)&&(t=E),this._isCompound){var e=this._children[t];if(e)return u.keys(e)}else{if(t===E)return this.nodes();if(this.hasNode(t))return[]}},a.prototype.predecessors=function(t){var e=this._preds[t];if(e)return u.keys(e)},a.prototype.successors=function(t){var e=this._sucs[t];if(e)return u.keys(e)},a.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return u.union(e,this.successors(t))},a.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0},a.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;u.each(this._nodes,function(h,g){t(g)&&e.setNode(g,h)}),u.each(this._edgeObjs,function(h){e.hasNode(h.v)&&e.hasNode(h.w)&&e.setEdge(h,n.edge(h))});var i={};function f(h){var g=n.parent(h);return g===void 0||e.hasNode(g)?(i[h]=g,g):g in i?i[g]:f(g)}return this._isCompound&&u.each(e.nodes(),function(h){e.setParent(h,f(h))}),e},a.prototype.setDefaultEdgeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultEdgeLabelFn=t,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return u.values(this._edgeObjs)},a.prototype.setPath=function(t,e){var n=this,i=arguments;return u.reduce(t,function(f,h){return i.length>1?n.setEdge(f,h,e):n.setEdge(f,h),h}),this},a.prototype.setEdge=function(){var t,e,n,i,f=!1,h=arguments[0];typeof h=="object"&&h!==null&&"v"in h?(t=h.v,e=h.w,n=h.name,arguments.length===2&&(i=arguments[1],f=!0)):(t=h,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],f=!0)),t=""+t,e=""+e,u.isUndefined(n)||(n=""+n);var g=s(this._isDirected,t,e,n);if(u.has(this._edgeLabels,g))return f&&(this._edgeLabels[g]=i),this;if(!u.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[g]=f?i:this._defaultEdgeLabelFn(t,e,n);var p=o(this._isDirected,t,e,n);return t=p.v,e=p.w,Object.freeze(p),this._edgeObjs[g]=p,c(this._preds[e],t),c(this._sucs[t],e),this._in[e][g]=p,this._out[t][g]=p,this._edgeCount++,this},a.prototype.edge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return this._edgeLabels[i]},a.prototype.hasEdge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return u.has(this._edgeLabels,i)},a.prototype.removeEdge=function(t,e,n){var i=arguments.length===1?r(this._isDirected,arguments[0]):s(this._isDirected,t,e,n),f=this._edgeObjs[i];return f&&(t=f.v,e=f.w,delete this._edgeLabels[i],delete this._edgeObjs[i],d(this._preds[e],t),d(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this},a.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=u.values(n);return e?u.filter(i,function(f){return f.v===e}):i}},a.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=u.values(n);return e?u.filter(i,function(f){return f.w===e}):i}},a.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};function c(t,e){t[e]?t[e]++:t[e]=1}function d(t,e){--t[e]||delete t[e]}function s(t,e,n,i){var f=""+e,h=""+n;if(!t&&f>h){var g=f;f=h,h=g}return f+x+h+x+(u.isUndefined(i)?A:i)}function o(t,e,n,i){var f=""+e,h=""+n;if(!t&&f>h){var g=f;f=h,h=g}var p={v:f,w:h};return i&&(p.name=i),p}function r(t,e){return s(t,e.v,e.w,e.name)}},82354:(S,I,v)=>{S.exports={Graph:v(30771),version:v(49631)}},28974:(S,I,v)=>{var u=v(89126),A=v(30771);S.exports={write:E,read:c};function E(d){var s={options:{directed:d.isDirected(),multigraph:d.isMultigraph(),compound:d.isCompound()},nodes:x(d),edges:a(d)};return u.isUndefined(d.graph())||(s.value=u.clone(d.graph())),s}function x(d){return u.map(d.nodes(),function(s){var o=d.node(s),r=d.parent(s),t={v:s};return u.isUndefined(o)||(t.value=o),u.isUndefined(r)||(t.parent=r),t})}function a(d){return u.map(d.edges(),function(s){var o=d.edge(s),r={v:s.v,w:s.w};return u.isUndefined(s.name)||(r.name=s.name),u.isUndefined(o)||(r.value=o),r})}function c(d){var s=new A(d.options).setGraph(d.value);return u.each(d.nodes,function(o){s.setNode(o.v,o.value),o.parent&&s.setParent(o.v,o.parent)}),u.each(d.edges,function(o){s.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),s}},89126:(S,I,v)=>{var u;try{u={clone:v(66678),constant:v(75703),each:v(66073),filter:v(63105),has:v(18721),isArray:v(1469),isEmpty:v(41609),isFunction:v(23560),isUndefined:v(52353),keys:v(3674),map:v(35161),reduce:v(54061),size:v(84238),transform:v(68718),union:v(93386),values:v(52628)}}catch(A){}u||(u=window._),S.exports=u},49631:S=>{S.exports="2.1.8"},47443:(S,I,v)=>{var u=v(42118);function A(E,x){var a=E==null?0:E.length;return!!a&&u(E,x,0)>-1}S.exports=A},1196:S=>{function I(v,u,A){for(var E=-1,x=v==null?0:v.length;++E<x;)if(A(u,v[E]))return!0;return!1}S.exports=I},48983:(S,I,v)=>{var u=v(40371),A=u("length");S.exports=A},89881:(S,I,v)=>{var u=v(47816),A=v(99291),E=A(u);S.exports=E},56029:(S,I,v)=>{var u=v(33448);function A(E,x,a){for(var c=-1,d=E.length;++c<d;){var s=E[c],o=x(s);if(o!=null&&(r===void 0?o===o&&!u(o):a(o,r)))var r=o,t=s}return t}S.exports=A},80760:(S,I,v)=>{var u=v(89881);function A(E,x){var a=[];return u(E,function(c,d,s){x(c,d,s)&&a.push(c)}),a}S.exports=A},41848:S=>{function I(v,u,A,E){for(var x=v.length,a=A+(E?1:-1);E?a--:++a<x;)if(u(v[a],a,v))return a;return-1}S.exports=I},53325:S=>{function I(v,u){return v>u}S.exports=I},42118:(S,I,v)=>{var u=v(41848),A=v(62722),E=v(42351);function x(a,c,d){return c===c?E(a,c,d):u(a,A,d)}S.exports=x},62722:S=>{function I(v){return v!==v}S.exports=I},70433:S=>{function I(v,u){return v<u}S.exports=I},69199:(S,I,v)=>{var u=v(89881),A=v(98612);function E(x,a){var c=-1,d=A(x)?Array(x.length):[];return u(x,function(s,o,r){d[++c]=a(s,o,r)}),d}S.exports=E},82689:(S,I,v)=>{var u=v(29932),A=v(97786),E=v(67206),x=v(69199),a=v(71131),c=v(7518),d=v(85022),s=v(6557),o=v(1469);function r(t,e,n){e.length?e=u(e,function(h){return o(h)?function(g){return A(g,h.length===1?h[0]:h)}:h}):e=[s];var i=-1;e=u(e,c(E));var f=x(t,function(h,g,p){var m=u(e,function(l){return l(h)});return{criteria:m,index:++i,value:h}});return a(f,function(h,g){return d(h,g,n)})}S.exports=r},25970:(S,I,v)=>{var u=v(63012),A=v(79095);function E(x,a){return u(x,a,function(c,d){return A(x,d)})}S.exports=E},63012:(S,I,v)=>{var u=v(97786),A=v(10611),E=v(71811);function x(a,c,d){for(var s=-1,o=c.length,r={};++s<o;){var t=c[s],e=u(a,t);d(e,t)&&A(r,E(t,a),e)}return r}S.exports=x},40098:S=>{var I=Math.ceil,v=Math.max;function u(A,E,x,a){for(var c=-1,d=v(I((E-A)/(x||1)),0),s=Array(d);d--;)s[a?d:++c]=A,A+=x;return s}S.exports=u},10107:S=>{function I(v,u,A,E,x){return x(v,function(a,c,d){A=E?(E=!1,a):u(A,a,c,d)}),A}S.exports=I},71131:S=>{function I(v,u){var A=v.length;for(v.sort(u);A--;)v[A]=v[A].value;return v}S.exports=I},45652:(S,I,v)=>{var u=v(88668),A=v(47443),E=v(1196),x=v(74757),a=v(23593),c=v(21814),d=200;function s(o,r,t){var e=-1,n=A,i=o.length,f=!0,h=[],g=h;if(t)f=!1,n=E;else if(i>=d){var p=r?null:a(o);if(p)return c(p);f=!1,n=x,g=new u}else g=r?[]:h;t:for(;++e<i;){var m=o[e],l=r?r(m):m;if(m=t||m!==0?m:0,f&&l===l){for(var b=g.length;b--;)if(g[b]===l)continue t;r&&g.push(l),h.push(m)}else n(g,l,t)||(g!==h&&g.push(l),h.push(m))}return h}S.exports=s},47415:(S,I,v)=>{var u=v(29932);function A(E,x){return u(x,function(a){return E[a]})}S.exports=A},1757:S=>{function I(v,u,A){for(var E=-1,x=v.length,a=u.length,c={};++E<x;){var d=E<a?u[E]:void 0;A(c,v[E],d)}return c}S.exports=I},54290:(S,I,v)=>{var u=v(6557);function A(E){return typeof E=="function"?E:u}S.exports=A},26393:(S,I,v)=>{var u=v(33448);function A(E,x){if(E!==x){var a=E!==void 0,c=E===null,d=E===E,s=u(E),o=x!==void 0,r=x===null,t=x===x,e=u(x);if(!r&&!e&&!s&&E>x||s&&o&&t&&!r&&!e||c&&o&&t||!a&&t||!d)return 1;if(!c&&!s&&!e&&E<x||e&&a&&d&&!c&&!s||r&&a&&d||!o&&d||!t)return-1}return 0}S.exports=A},85022:(S,I,v)=>{var u=v(26393);function A(E,x,a){for(var c=-1,d=E.criteria,s=x.criteria,o=d.length,r=a.length;++c<o;){var t=u(d[c],s[c]);if(t){if(c>=r)return t;var e=a[c];return t*(e=="desc"?-1:1)}}return E.index-x.index}S.exports=A},99291:(S,I,v)=>{var u=v(98612);function A(E,x){return function(a,c){if(a==null)return a;if(!u(a))return E(a,c);for(var d=a.length,s=x?d:-1,o=Object(a);(x?s--:++s<d)&&c(o[s],s,o)!==!1;);return a}}S.exports=A},67740:(S,I,v)=>{var u=v(67206),A=v(98612),E=v(3674);function x(a){return function(c,d,s){var o=Object(c);if(!A(c)){var r=u(d,3);c=E(c),d=function(e){return r(o[e],e,o)}}var t=a(c,d,s);return t>-1?o[r?c[t]:t]:void 0}}S.exports=x},47445:(S,I,v)=>{var u=v(40098),A=v(16612),E=v(18601);function x(a){return function(c,d,s){return s&&typeof s!="number"&&A(c,d,s)&&(d=s=void 0),c=E(c),d===void 0?(d=c,c=0):d=E(d),s=s===void 0?c<d?1:-1:E(s),u(c,d,s,a)}}S.exports=x},23593:(S,I,v)=>{var u=v(58525),A=v(50308),E=v(21814),x=1/0,a=u&&1/E(new u([,-0]))[1]==x?function(c){return new u(c)}:A;S.exports=a},42351:S=>{function I(v,u,A){for(var E=A-1,x=v.length;++E<x;)if(v[E]===u)return E;return-1}S.exports=I},88016:(S,I,v)=>{var u=v(48983),A=v(62689),E=v(21903);function x(a){return A(a)?E(a):u(a)}S.exports=x},21903:S=>{var I="\\ud800-\\udfff",v="\\u0300-\\u036f",u="\\ufe20-\\ufe2f",A="\\u20d0-\\u20ff",E=v+u+A,x="\\ufe0e\\ufe0f",a="["+I+"]",c="["+E+"]",d="\\ud83c[\\udffb-\\udfff]",s="(?:"+c+"|"+d+")",o="[^"+I+"]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",t="[\\ud800-\\udbff][\\udc00-\\udfff]",e="\\u200d",n=s+"?",i="["+x+"]?",f="(?:"+e+"(?:"+[o,r,t].join("|")+")"+i+n+")*",h=i+n+f,g="(?:"+[o+c+"?",c,r,t,a].join("|")+")",p=RegExp(d+"(?="+d+")|"+g+h,"g");function m(l){for(var b=p.lastIndex=0;p.test(l);)++b;return b}S.exports=m},91747:(S,I,v)=>{var u=v(5976),A=v(77813),E=v(16612),x=v(81704),a=Object.prototype,c=a.hasOwnProperty,d=u(function(s,o){s=Object(s);var r=-1,t=o.length,e=t>2?o[2]:void 0;for(e&&E(o[0],o[1],e)&&(t=1);++r<t;)for(var n=o[r],i=x(n),f=-1,h=i.length;++f<h;){var g=i[f],p=s[g];(p===void 0||A(p,a[g])&&!c.call(s,g))&&(s[g]=n[g])}return s});S.exports=d},66073:(S,I,v)=>{S.exports=v(84486)},63105:(S,I,v)=>{var u=v(34963),A=v(80760),E=v(67206),x=v(1469);function a(c,d){var s=x(c)?u:A;return s(c,E(d,3))}S.exports=a},13311:(S,I,v)=>{var u=v(67740),A=v(30998),E=u(A);S.exports=E},30998:(S,I,v)=>{var u=v(41848),A=v(67206),E=v(40554),x=Math.max;function a(c,d,s){var o=c==null?0:c.length;if(!o)return-1;var r=s==null?0:E(s);return r<0&&(r=x(o+r,0)),u(c,A(d,3),r)}S.exports=a},84486:(S,I,v)=>{var u=v(77412),A=v(89881),E=v(54290),x=v(1469);function a(c,d){var s=x(c)?u:A;return s(c,E(d))}S.exports=a},62620:(S,I,v)=>{var u=v(28483),A=v(54290),E=v(81704);function x(a,c){return a==null?a:u(a,A(c),E)}S.exports=x},47037:(S,I,v)=>{var u=v(44239),A=v(1469),E=v(37005),x="[object String]";function a(c){return typeof c=="string"||!A(c)&&E(c)&&u(c)==x}S.exports=a},52353:S=>{function I(v){return v===void 0}S.exports=I},35161:(S,I,v)=>{var u=v(29932),A=v(67206),E=v(69199),x=v(1469);function a(c,d){var s=x(c)?u:E;return s(c,A(d,3))}S.exports=a},6162:(S,I,v)=>{var u=v(56029),A=v(53325),E=v(6557);function x(a){return a&&a.length?u(a,E,A):void 0}S.exports=x},53632:(S,I,v)=>{var u=v(56029),A=v(70433),E=v(6557);function x(a){return a&&a.length?u(a,E,A):void 0}S.exports=x},22762:(S,I,v)=>{var u=v(56029),A=v(67206),E=v(70433);function x(a,c){return a&&a.length?u(a,A(c,2),E):void 0}S.exports=x},50308:S=>{function I(){}S.exports=I},7771:(S,I,v)=>{var u=v(55639),A=function(){return u.Date.now()};S.exports=A},78718:(S,I,v)=>{var u=v(25970),A=v(99021),E=A(function(x,a){return x==null?{}:u(x,a)});S.exports=E},96026:(S,I,v)=>{var u=v(47445),A=u();S.exports=A},54061:(S,I,v)=>{var u=v(62663),A=v(89881),E=v(67206),x=v(10107),a=v(1469);function c(d,s,o){var r=a(d)?u:x,t=arguments.length<3;return r(d,E(s,4),o,t,A)}S.exports=c},84238:(S,I,v)=>{var u=v(280),A=v(64160),E=v(98612),x=v(47037),a=v(88016),c="[object Map]",d="[object Set]";function s(o){if(o==null)return 0;if(E(o))return x(o)?a(o):o.length;var r=A(o);return r==c||r==d?o.size:u(o).length}S.exports=s},89734:(S,I,v)=>{var u=v(21078),A=v(82689),E=v(5976),x=v(16612),a=E(function(c,d){if(c==null)return[];var s=d.length;return s>1&&x(c,d[0],d[1])?d=[]:s>2&&x(d[0],d[1],d[2])&&(d=[d[0]]),A(c,u(d,1),[])});S.exports=a},93386:(S,I,v)=>{var u=v(21078),A=v(5976),E=v(45652),x=v(29246),a=A(function(c){return E(u(c,1,x,!0))});S.exports=a},73955:(S,I,v)=>{var u=v(79833),A=0;function E(x){var a=++A;return u(x)+a}S.exports=E},52628:(S,I,v)=>{var u=v(47415),A=v(3674);function E(x){return x==null?[]:u(x,A(x))}S.exports=E},7287:(S,I,v)=>{var u=v(34865),A=v(1757);function E(x,a){return A(x||[],a||[],u)}S.exports=E},49066:(S,I,v)=>{"use strict";v.d(I,{D:()=>x});var u=v(67294),A=v(45697),E=v(35961);const x=({children:a})=>u.createElement(E.x,{paddingLeft:10,paddingRight:10},a);x.propTypes={children:A.node.isRequired}},67838:(S,I,v)=>{"use strict";v.d(I,{T:()=>b});var u=v(67294),A=v(71893),E=v(45697),x=v(72735),a=v(35961),c=v(46273);const d=P=>{const L=(0,u.useRef)(null),[O,w]=(0,u.useState)(!0),N=([C])=>{w(C.isIntersecting)};return(0,u.useEffect)(()=>{const C=L.current,F=new IntersectionObserver(N,P);return C&&F.observe(L.current),()=>{C&&F.disconnect()}},[L,P]),[L,O]};var s=v(98402);const o=(P,L)=>{const O=(0,s.useCallbackRef)(L);(0,u.useLayoutEffect)(()=>{const w=new ResizeObserver(O);return Array.isArray(P)?P.forEach(N=>{N.current&&w.observe(N.current)}):P.current&&w.observe(P.current),()=>{w.disconnect()}},[P,O])};var r=Object.defineProperty,t=Object.defineProperties,e=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=(P,L,O)=>L in P?r(P,L,{enumerable:!0,configurable:!0,writable:!0,value:O}):P[L]=O,g=(P,L)=>{for(var O in L||(L={}))i.call(L,O)&&h(P,O,L[O]);if(n)for(var O of n(L))f.call(L,O)&&h(P,O,L[O]);return P},p=(P,L)=>t(P,e(L)),m=(P,L)=>{var O={};for(var w in P)i.call(P,w)&&L.indexOf(w)<0&&(O[w]=P[w]);if(P!=null&&n)for(var w of n(P))L.indexOf(w)<0&&f.call(P,w)&&(O[w]=P[w]);return O};const l=()=>{const P=(0,u.useRef)(null),[L,O]=(0,u.useState)(null),[w,N]=d({root:null,rootMargin:"0px",threshold:0});return o(w,()=>{w.current&&O(w.current.getBoundingClientRect())}),(0,u.useEffect)(()=>{P.current&&O(P.current.getBoundingClientRect())},[P]),{containerRef:w,isVisible:N,baseHeaderLayoutRef:P,headerSize:L}},b=P=>{const{containerRef:L,isVisible:O,baseHeaderLayoutRef:w,headerSize:N}=l();return u.createElement(u.Fragment,null,u.createElement("div",{style:{height:N==null?void 0:N.height},ref:L},O&&u.createElement(M,g({ref:w},P))),!O&&u.createElement(M,p(g({},P),{sticky:!0,width:N==null?void 0:N.width})))};b.displayName="HeaderLayout";const y=(0,A.default)(a.x)`
  position: fixed;
  top: 0;
  right: 0;
  width: ${P=>P.width}px;
  z-index: 4;
  box-shadow: ${({theme:P})=>P.shadows.tableShadow};
`,M=u.forwardRef((P,L)=>{var O=P,{navigationAction:w,primaryAction:N,secondaryAction:C,subtitle:F,title:R,sticky:k,width:W}=O,Y=m(O,["navigationAction","primaryAction","secondaryAction","subtitle","title","sticky","width"]);const $=typeof F=="string";return k?u.createElement(y,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,background:"neutral0",width:W,"data-strapi-header-sticky":!0},u.createElement(c.k,{justifyContent:"space-between"},u.createElement(c.k,null,w&&u.createElement(a.x,{paddingRight:3},w),u.createElement(a.x,null,u.createElement(x.Z,g({variant:"beta",as:"h1"},Y),R),$?u.createElement(x.Z,{variant:"pi",textColor:"neutral600"},F):F),C?u.createElement(a.x,{paddingLeft:4},C):null),u.createElement(c.k,null,N?u.createElement(a.x,{paddingLeft:2},N):void 0))):u.createElement(a.x,{ref:L,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:w?6:8,background:"neutral100","data-strapi-header":!0},w?u.createElement(a.x,{paddingBottom:2},w):null,u.createElement(c.k,{justifyContent:"space-between"},u.createElement(c.k,null,u.createElement(x.Z,g({as:"h1",variant:"alpha"},Y),R),C?u.createElement(a.x,{paddingLeft:4},C):null),N),$?u.createElement(x.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},F):F)});M.displayName="BaseHeaderLayout",M.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},M.propTypes={navigationAction:E.node,primaryAction:E.node,secondaryAction:E.node,sticky:E.bool,subtitle:E.oneOfType([E.string,E.node]),title:E.string.isRequired,width:E.number},b.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},b.propTypes={navigationAction:E.node,primaryAction:E.node,secondaryAction:E.node,subtitle:E.oneOfType([E.string,E.node]),title:E.string.isRequired}}}]);
