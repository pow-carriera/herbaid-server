(self.webpackChunkherbaid_server=self.webpackChunkherbaid_server||[]).push([[8880],{66848:(ee,Q,s)=>{"use strict";s.d(Q,{Z:()=>Kt});var a=s(67294),y=s(71893),j=s(45697),h=s.n(j),v=s(35961),H=s(85038),B=Object.defineProperty,O=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,E=(S,T,C)=>T in S?B(S,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):S[T]=C,X=(S,T)=>{for(var C in T||(T={}))Y.call(T,C)&&E(S,C,T[C]);if(O)for(var C of O(T))r.call(T,C)&&E(S,C,T[C]);return S};function ae(S){return a.createElement("svg",X({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),a.createElement("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082zM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782z",fill:"#fff"}))}var V=s(34668),G=s(14484),J=s(65531),me=s(73145),le=s(82574),Be=s(60133),q=Object.defineProperty,d=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,U=(S,T,C)=>T in S?q(S,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):S[T]=C,it=(S,T)=>{for(var C in T||(T={}))K.call(T,C)&&U(S,C,T[C]);if(d)for(var C of d(T))Me.call(T,C)&&U(S,C,T[C]);return S};function lt(S){return a.createElement("svg",it({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 00-.138-.302A.465.465 0 0018.82 8h-8.357a.465.465 0 00-.326.127.397.397 0 00-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 00.327-.127.397.397 0 00.138-.301zm2.785 2.713v.857a.397.397 0 01-.137.301.465.465 0 01-.327.128H10.464a.465.465 0 01-.326-.128.397.397 0 01-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 01.326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 01.137.302zm-1.857 3.574v.857a.397.397 0 01-.137.302.465.465 0 01-.327.127h-9.286a.465.465 0 01-.326-.127.397.397 0 01-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 01.326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 01.138.301z",fill:"#0C75AF"}))}var Ct=s(74525),Gt=Object.defineProperty,Ft=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,oe=(S,T,C)=>T in S?Gt(S,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):S[T]=C,dt=(S,T)=>{for(var C in T||(T={}))ot.call(T,C)&&oe(S,C,T[C]);if(Ft)for(var C of Ft(T))_.call(T,C)&&oe(S,C,T[C]);return S};function At(S){return a.createElement("svg",dt({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S),a.createElement("path",{d:"M.5 3A2.5 2.5 0 013 .5h26A2.5 2.5 0 0131.5 3v18a2.5 2.5 0 01-2.5 2.5H3A2.5 2.5 0 01.5 21V3z",fill:"#FDF4DC",stroke:"#FAE7B9"}),a.createElement("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 012.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 00.433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 00-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887z",fill:"#D9822F"}))}var Mt=s(48394),Zt=Object.defineProperty,ut=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,de=(S,T,C)=>T in S?Zt(S,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):S[T]=C,A=(S,T)=>{for(var C in T||(T={}))et.call(T,C)&&de(S,C,T[C]);if(ut)for(var C of ut(T))Ie.call(T,C)&&de(S,C,T[C]);return S};function k(S){return a.createElement("svg",A({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),a.createElement("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71zM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781z",fill:"#fff"}))}var re=s(21210),Oe=s(3963),pe=s(31666),Ot=s(68547),je=Object.defineProperty,Pt=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,ct=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,Xe=(S,T,C)=>T in S?je(S,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):S[T]=C,xt=(S,T)=>{for(var C in T||(T={}))ke.call(T,C)&&Xe(S,C,T[C]);if(ct)for(var C of ct(T))mt.call(T,C)&&Xe(S,C,T[C]);return S},pt=(S,T)=>Pt(S,ie(T)),Ze=(S,T)=>{var C={};for(var Ne in S)ke.call(S,Ne)&&T.indexOf(Ne)<0&&(C[Ne]=S[Ne]);if(S!=null&&ct)for(var Ne of ct(S))T.indexOf(Ne)<0&&mt.call(S,Ne)&&(C[Ne]=S[Ne]);return C};const Nt={biginteger:pe.Z,boolean:G.Z,collectionType:ae,component:H.Z,contentType:ae,date:V.Z,datetime:V.Z,decimal:pe.Z,dynamiczone:J.Z,email:me.Z,enum:le.Z,enumeration:le.Z,file:Ct.Z,files:Ct.Z,float:pe.Z,integer:pe.Z,json:Be.Z,JSON:Be.Z,media:Ct.Z,number:pe.Z,password:At,relation:Mt.Z,richtext:lt,singleType:k,string:re.Z,text:re.Z,time:V.Z,timestamp:V.Z,uid:Oe.Z},Lt=(0,y.default)(v.x)`
  width: ${(0,Ot.pxToRem)(32)};
  height: ${(0,Ot.pxToRem)(24)};
  box-sizing: content-box;
`,tt=S=>{var T=S,{type:C,customField:Ne}=T,Ht=Ze(T,["type","customField"]);const Pe=(0,Ot.useCustomFields)();let ft=Nt[C];if(Ne){const{icon:Dt}=Pe.get(Ne);Dt&&(ft=Dt)}return Nt[C]?a.createElement(Lt,pt(xt({as:ft},Ht),{"aria-hidden":!0})):null};tt.defaultProps={customField:null},tt.propTypes={type:h().string.isRequired,customField:h().string};const Kt=tt},7955:(ee,Q,s)=>{"use strict";s.d(Q,{Z:()=>j});var a=s(67294);const j=(0,a.createContext)()},98422:(ee,Q,s)=>{"use strict";s.d(Q,{Z:()=>j});var a=s(67294);const j=(0,a.createContext)()},13588:(ee,Q,s)=>{"use strict";s.d(Q,{Z:()=>h});var a=s(67294),y=s(7955);const h=()=>(0,a.useContext)(y.Z)},26478:(ee,Q,s)=>{"use strict";s.d(Q,{Z:()=>h});var a=s(67294),y=s(98422);const h=()=>(0,a.useContext)(y.Z)},45178:(ee,Q,s)=>{"use strict";s.r(Q),s.d(Q,{default:()=>rd});var a=s(67294),y=s(49656),j=s(15482),h=s(97132),v=s(68547),H=s(17034),B=s(57176),O=s(96124),Y=s(45697),r=s.n(Y),E=s(96486),X=s(37424),ae=s(35281),V=s(7955),G=s(26478),J=s(78648),me=(e,t,n)=>new Promise((o,i)=>{var l=m=>{try{c(n.next(m))}catch(f){i(f)}},u=m=>{try{c(n.throw(m))}catch(f){i(f)}},c=m=>m.done?o(m.value):Promise.resolve(m.value).then(l,u);c((n=n.apply(e,t)).next())});const le=J.Z.create({baseURL:`/${O.Z}`});le.interceptors.request.use(e=>me(void 0,null,function*(){return e.headers={Authorization:`Bearer ${v.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e}),e=>{Promise.reject(e)}),le.interceptors.response.use(e=>e,e=>{var t;throw((t=e.response)==null?void 0:t.status)===401&&(v.auth.clearAppStorage(),window.location.reload()),e});const q=(0,v.wrapAxiosInstance)(le);var d=s(5002),K=s(85169),Me=s(27361),U=s.n(Me),it=s(18721),lt=s.n(it),Ct=s(36968),Gt=s.n(Ct),Ft=s(7334),ot=s.n(Ft),_=s(35961),oe=s(29728),dt=s(70004),At=s(42866),Mt=s(59946),Zt=s(36856),ut=s(82777),et=s(60633),Ie=s(42761),de=s(46273),A=s(7681),k=s(13588),re=s(38953),Oe=s(11700),pe=s.n(Oe);const Ot=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],je=({intlLabel:e,name:t,onChange:n,value:o})=>{const{formatMessage:i}=(0,h.useIntl)(),l=o===null||o.length===0?i({id:"global.none",defaultMessage:"None"}):[...o].sort().map(c=>pe()(c)).join(", "),u=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):t;return a.createElement(re.Q,{id:"select1",label:u,customizeContent:()=>l,onChange:c=>{c.length>0?n({target:{name:t,value:c,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:Ot,value:o||[]})};je.defaultProps={value:null},je.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().object,r().array])};const Pt=je;var ie=s(72735);const ke=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var mt=s(11276),Xe=s(74571),xt=s(17373),pt=s(66848),Ze=s(71893);const Lt=(0,Ze.default)(_.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,tt=({type:e})=>{const{formatMessage:t}=(0,h.useIntl)(),{onClickSelectField:n}=(0,G.Z)(),o=()=>{n({attributeType:e,step:e==="component"?"1":null})};return a.createElement(Lt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:o},a.createElement(de.k,null,a.createElement(pt.Z,{type:e}),a.createElement(_.x,{paddingLeft:4},a.createElement(de.k,null,a.createElement(ie.Z,{fontWeight:"bold"},t({id:(0,d.Z)(`attribute.${e}`),defaultMessage:e}))),a.createElement(de.k,null,a.createElement(ie.Z,{variant:"pi",textColor:"neutral600"},t({id:(0,d.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};tt.defaultProps={type:"text"},tt.propTypes={type:r().string};const Kt=tt,T=e=>{const t=e%2===1;return{paddingLeft:t?2:0,paddingRight:t?0:2}},C=({attributes:e})=>a.createElement(xt.k,{tagName:"button"},a.createElement(A.K,{spacing:8},e.map((t,n)=>a.createElement(mt.r,{key:n,gap:0},t.map((o,i)=>{const{paddingLeft:l,paddingRight:u}=T(i);return a.createElement(Xe.P,{key:o,col:6,style:{height:"100%"}},a.createElement(_.x,{paddingLeft:l,paddingRight:u,paddingBottom:1,style:{height:"100%"}},a.createElement(Kt,{type:o})))})))));C.propTypes={attributes:r().array.isRequired};const Ne=C;var Ht=s(23620),Pe=s(92577),ft=s(78474),Dt=s(21817),On=Object.defineProperty,We=Object.defineProperties,an=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Rt=(e,t,n)=>t in e?On(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gt=(e,t)=>{for(var n in t||(t={}))rn.call(t,n)&&Rt(e,n,t[n]);if(Ve)for(var n of Ve(t))Le.call(t,n)&&Rt(e,n,t[n]);return e},It=(e,t)=>We(e,an(t)),St=(e,t)=>{var n={};for(var o in e)rn.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ve)for(var o of Ve(e))t.indexOf(o)<0&&Le.call(e,o)&&(n[o]=e[o]);return n};const on=(0,Ze.default)(Dt.G)`
  padding: ${({theme:e,size:t})=>`${t==="S"?e.spaces[2]:"10px"} ${e.spaces[4]}`};
  background: ${({theme:e})=>e.colors.buttonPrimary600};
  border: 1px solid ${({theme:e})=>e.colors.buttonPrimary600};
  border-radius: ${({theme:e})=>e.borderRadius};
  ${_.x} {
    display: flex;
    align-items: center;
  }
  ${ie.Z} {
    color: ${({theme:e})=>e.colors.buttonNeutral0};
  }
  &[aria-disabled='true'] {
    ${Pe.sg}
    &:active {
      ${Pe.sg}
    }
  }
  &:hover {
    ${Pe.yP}
  }
  &:active {
    ${Pe.tB}
  }
  ${Pe.PD}
  /**
    Link specific properties
  */
  display: inline-flex;
  text-decoration: none;
  pointer-events: ${({disabled:e})=>e?"none":void 0};
`,jt=a.forwardRef((e,t)=>{var n=e,{variant:o,startIcon:i,endIcon:l,disabled:u,children:c,size:m,href:f,to:g}=n,p=St(n,["variant","startIcon","endIcon","disabled","children","size","href","to"]);const R=f?"_blank":void 0,P=f?"noreferrer noopener":void 0;return a.createElement(on,It(gt({ref:t,"aria-disabled":u,size:m,variant:o,target:R,rel:P,to:u?void 0:g,href:u?"#":f},p),{as:g&&!u?y.NavLink:"a"}),i&&a.createElement(_.x,{"aria-hidden":!0,paddingRight:2},i),m==="S"?a.createElement(ie.Z,{variant:"pi",fontWeight:"bold"},c):a.createElement(ie.Z,{fontWeight:"bold"},c),l&&a.createElement(_.x,{"aria-hidden":!0,paddingLeft:2},l))});jt.displayName="LinkButton",jt.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,size:"S",variant:"default",onClick:void 0,href:void 0,to:void 0},jt.propTypes={children:Y.node.isRequired,disabled:Y.bool,endIcon:Y.element,href(e){if(!e.disabled&&!e.to&&!e.href)return new Error("href must be defined")},onClick:Y.func,size:Y.oneOf(ft.Gt),startIcon:Y.element,to(e){if(!e.disabled&&!e.href&&!e.to)return new Error("to must be defined")},variant:Y.oneOf(ft.ZC)};var sn=s(52624),xe=s(96315),ln=s(86031);const Pn=(0,Ze.default)(_.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,dn=()=>a.createElement(de.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,t)=>a.createElement(Pn,{key:`empty-card-${t}`,height:"138px",width:"375px",hasRadius:!0}))),xn=()=>{const{formatMessage:e}=(0,h.useIntl)();return a.createElement(_.x,{position:"relative"},a.createElement(dn,null),a.createElement(_.x,{position:"absolute",top:6,width:"100%"},a.createElement(de.k,{alignItems:"center",justifyContent:"center",direction:"column"},a.createElement(sn.J,{as:ln.default,color:"",width:"160px",height:"88px"}),a.createElement(_.x,{paddingTop:6,paddingBottom:4},a.createElement(_.x,{textAlign:"center"},a.createElement(ie.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),a.createElement(_.x,{paddingTop:4},a.createElement(ie.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),a.createElement(jt,{to:"/marketplace",variant:"secondary",startIcon:a.createElement(xe.default,null)},e({id:(0,d.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},un=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:o,intlDescription:i}=t,{formatMessage:l}=(0,h.useIntl)(),{onClickSelectCustomField:u}=(0,G.Z)(),c=()=>{u({attributeType:n,customFieldUid:e})};return a.createElement(Lt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},a.createElement(de.k,null,a.createElement(pt.Z,{type:n,customField:e}),a.createElement(_.x,{paddingLeft:4},a.createElement(de.k,null,a.createElement(ie.Z,{fontWeight:"bold"},l(o))),a.createElement(de.k,null,a.createElement(ie.Z,{variant:"pi",textColor:"neutral600"},l(i))))))};un.propTypes={customFieldUid:r().string.isRequired,customField:r().shape({type:r().string.isRequired,icon:r().func,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,intlDescription:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired}).isRequired};const st=un,cn=()=>{const{formatMessage:e}=(0,h.useIntl)(),t=(0,v.useCustomFields)(),n=Object.entries(t.getAll());if(!n.length)return a.createElement(xn,null);const o=n.sort((i,l)=>i[1].name>l[1].name?1:-1);return a.createElement(xt.k,{tagName:"button"},a.createElement(A.K,{spacing:3},a.createElement(mt.r,{gap:0},o.map(([i,l],u)=>{const{paddingLeft:c,paddingRight:m}=T(u);return a.createElement(Xe.P,{key:i,col:6,style:{height:"100%"}},a.createElement(_.x,{paddingLeft:c,paddingRight:m,paddingBottom:1,style:{height:"100%"}},a.createElement(st,{key:i,customFieldUid:i,customField:l})))})),a.createElement(Ht.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,d.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},wt=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:o}=(0,h.useIntl)(),i=(0,d.Z)("modalForm.tabs.default"),l=(0,d.Z)("modalForm.tabs.custom"),u=t.includes("component")?"component":n,c=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${u}`);return a.createElement(Mt.f,{padding:6},a.createElement(ut.v,{label:o({id:(0,d.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},a.createElement(de.k,{justifyContent:"space-between"},a.createElement(ie.Z,{variant:"beta",as:"h2"},o({id:c,defaultMessage:"Select a field"})),a.createElement(et.m,null,a.createElement(et.O,null,o({id:i,defaultMessage:"Default"})),a.createElement(et.O,null,o({id:l,defaultMessage:"Custom"})))),a.createElement(_.x,{paddingBottom:6},a.createElement(dt.i,null)),a.createElement(Ie.n,null,a.createElement(Ie.x,null,a.createElement(Ne,{attributes:e})),a.createElement(Ie.x,null,a.createElement(cn,null)))))};wt.propTypes={attributes:r().array.isRequired,forTarget:r().string.isRequired,kind:r().string.isRequired};const nt=wt;var Rn=s(47149),Sn=s(47824),Fn=s(98426),An=s(20707),Zn=s(51277),se=Object.defineProperty,fe=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,Aa=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Za=(e,t)=>{for(var n in t||(t={}))Fe.call(t,n)&&Aa(e,n,t[n]);if(fe)for(var n of fe(t))yt.call(t,n)&&Aa(e,n,t[n]);return e};const To=(0,Ze.default)(ie.Z)`
  text-align: center;
`,Nn=({description:e,disabled:t,intlLabel:n,isCreating:o,name:i,onChange:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),[m,f]=(0,a.useState)(!1),g=n.id?c({id:n.id,defaultMessage:n.defaultMessage},Za({},n.values)):i,p=e?c({id:e.id,defaultMessage:e.defaultMessage},Za({},e.values)):"",R=()=>f(w=>!w),P=()=>{l({target:{name:i,value:!1}}),R()},D=({target:{checked:w}})=>{if(!w&&!o){R();return}l({target:{name:i,value:w}})};return a.createElement(a.Fragment,null,a.createElement(An.s,{checked:u||!1,disabled:t,hint:p,label:g,name:i,offLabel:c({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:c({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:D}),m&&a.createElement(Rn.V,{onClose:R,title:"Confirmation",isOpen:m},a.createElement(Sn.a,{icon:a.createElement(Zn.default,null)},a.createElement(A.K,{spacing:2},a.createElement(de.k,{justifyContent:"center"},a.createElement(To,{id:"confirm-description"},c({id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the Draft/Publish system, your drafts will be deleted."}))),a.createElement(de.k,{justifyContent:"center"},a.createElement(ie.Z,{id:"confirm-description"},c({id:(0,d.Z)("popUpWarning.draft-publish.second-message"),defaultMessage:"Are you sure you want to disable it?"}))))),a.createElement(Fn.c,{startAction:a.createElement(oe.z,{onClick:R,variant:"tertiary"},c({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:a.createElement(oe.z,{variant:"danger-light",onClick:P},c({id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}))})))};Nn.defaultProps={description:null,disabled:!1,value:!1},Nn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isCreating:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().bool};const Co=Nn;var Ln=s(2407),Na=s(24969);const Dn=({actionType:e,attributeName:t,attributeType:n,categoryName:o,contentTypeKind:i,dynamicZoneTarget:l,forTarget:u,modalType:c,targetUid:m,customFieldUid:f})=>{var g;const{formatMessage:p}=(0,h.useIntl)(),{modifiedData:R}=(0,k.Z)();let P,D=[];const w=((g=R==null?void 0:R[u])==null?void 0:g[m])||(R==null?void 0:R[u])||null;let te=w==null?void 0:w.schema.displayName;if(c==="contentType"&&(P=i),["component","editCategory"].includes(c)&&(P="component"),["component","contentType"].includes(c)){let x=(0,d.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(x=(0,d.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(x=(0,d.Z)("modalForm.header-edit")),a.createElement(Na.x,null,a.createElement(de.k,null,a.createElement(_.x,null,a.createElement(pt.Z,{type:P})),a.createElement(_.x,{paddingLeft:3},a.createElement(ie.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},p({id:x},{name:te})))))}D=[{label:te,info:{category:(w==null?void 0:w.category)||null,name:w==null?void 0:w.schema.displayName}}],c==="chooseAttribute"&&(P=["component","components"].includes(u)?"component":w.schema.kind),c==="addComponentToDynamicZone"&&(P="dynamiczone",D.push({label:l})),(c==="attribute"||c==="customField")&&(P=n,D.push({label:t})),c==="editCategory"&&(D=[{label:p({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:o}]);const z=D.map(({label:x})=>x).join(",");return a.createElement(Na.x,null,a.createElement(A.K,{horizontal:!0,spacing:3},a.createElement(pt.Z,{type:P,customField:f}),a.createElement(Ln.O,{label:z},D.map((x,ye)=>{var ge;const Ae=pe()(x.label);if(!Ae)return null;const W=`${x.label}.${ye}`;if((ge=x.info)!=null&&ge.category){const Te=`${Ae} (${pe()(x.info.category)} - ${pe()(x.info.name)})`;return a.createElement(Ln.$,{key:W},Te)}return a.createElement(Ln.$,{key:W},Ae)}))))};Dn.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},Dn.propTypes={actionType:r().string,attributeName:r().string,attributeType:r().string,categoryName:r().string,contentTypeKind:r().string,dynamicZoneTarget:r().string,forTarget:r().oneOf(["contentType","component","components"]),modalType:r().string.isRequired,targetUid:r().string,customFieldUid:r().string};const Mo=Dn,In=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:o,isAttributeModal:i,isCustomFieldModal:l,isComponentAttribute:u,isComponentToDzModal:c,isContentTypeModal:m,isCreatingComponent:f,isCreatingComponentAttribute:g,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:R,isCreatingContentType:P,isCreatingDz:D,isComponentModal:w,isDzAttribute:te,isEditingAttribute:Z,isEditingCategory:z,isInFirstComponentStep:x,onSubmitAddComponentAttribute:ye,onSubmitAddComponentToDz:ge,onSubmitCreateContentType:Ae,onSubmitCreateComponent:W,onSubmitCreateDz:Te,onSubmitEditAttribute:ue,onSubmitEditCategory:Jt,onSubmitEditComponent:Ee,onSubmitEditContentType:Ut,onSubmitEditCustomFieldAttribute:rt,onSubmitEditDz:Qt,onClickFinish:bt})=>{const{formatMessage:ce}=(0,h.useIntl)();return c?p?a.createElement(oe.z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),ge(N,!0)},startIcon:a.createElement(xe.default,null)},ce({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):a.createElement(oe.z,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),ge(N,!1)}},ce({id:"global.finish",defaultMessage:"Finish"})):i&&te&&!D?a.createElement(oe.z,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),bt(),Qt(N,!1)}},ce({id:"global.finish",defaultMessage:"Finish"})):i&&te&&D?a.createElement(a.Fragment,null,a.createElement(oe.z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),Te(N,!0)},startIcon:a.createElement(xe.default,null)},ce({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&u?x?a.createElement(oe.z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),ye(N,!0)}},ce(g?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):a.createElement(a.Fragment,null,a.createElement(oe.z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),ye(N,!0)},startIcon:a.createElement(xe.default,null)},ce(R?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(oe.z,{variant:"default",type:"button",onClick:N=>{N.preventDefault(),bt(),ye(N,!1)}},ce({id:"global.finish",defaultMessage:"Finish"}))):i&&!u&&!te?a.createElement(a.Fragment,null,a.createElement(oe.z,{type:Z?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),ue(N,!0)},startIcon:a.createElement(xe.default,null)},ce({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(oe.z,{type:Z?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),bt(),ue(N,!1)}},ce({id:"global.finish",defaultMessage:"Finish"}))):m?a.createElement(a.Fragment,null,!P&&a.createElement(a.Fragment,null,a.createElement(oe.z,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),o()}},ce({id:"global.delete",defaultMessage:"Delete"})),a.createElement(oe.z,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),Ut(N,!1)}},ce({id:"global.finish",defaultMessage:"Finish"}))),P&&a.createElement(oe.z,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),Ae(N,!0)}},ce({id:"global.continue",defaultMessage:"Continue"}))):w?a.createElement(a.Fragment,null,!f&&a.createElement(a.Fragment,null,a.createElement(oe.z,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),n()}},ce({id:"global.delete",defaultMessage:"Delete"})),a.createElement(oe.z,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),Ee(N,!1)}},ce({id:"global.finish",defaultMessage:"Finish"}))),f&&a.createElement(oe.z,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),W(N,!0)}},ce({id:"global.continue",defaultMessage:"Continue"}))):z?a.createElement(a.Fragment,null,a.createElement(oe.z,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),t(e)}},ce({id:"global.delete",defaultMessage:"Delete"})),a.createElement(oe.z,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),Jt(N)}},ce({id:"global.finish",defaultMessage:"finish"}))):l?a.createElement(a.Fragment,null,a.createElement(oe.z,{type:Z?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),rt(N,!0)},startIcon:a.createElement(xe.default,null)},ce({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(oe.z,{type:Z?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),bt(),rt(N,!1)}},ce({id:"global.finish",defaultMessage:"Finish"}))):null};In.defaultProps={categoryName:null,onClickFinish(){}},In.propTypes={categoryName:r().string,deleteCategory:r().func.isRequired,deleteComponent:r().func.isRequired,deleteContentType:r().func.isRequired,isAttributeModal:r().bool.isRequired,isCustomFieldModal:r().bool.isRequired,isComponentAttribute:r().bool.isRequired,isComponentModal:r().bool.isRequired,isComponentToDzModal:r().bool.isRequired,isContentTypeModal:r().bool.isRequired,isCreatingComponent:r().bool.isRequired,isCreatingComponentAttribute:r().bool.isRequired,isCreatingComponentInDz:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,isCreatingContentType:r().bool.isRequired,isCreatingDz:r().bool.isRequired,isDzAttribute:r().bool.isRequired,isEditingAttribute:r().bool.isRequired,isEditingCategory:r().bool.isRequired,isInFirstComponentStep:r().bool.isRequired,onSubmitAddComponentAttribute:r().func.isRequired,onSubmitAddComponentToDz:r().func.isRequired,onSubmitCreateContentType:r().func.isRequired,onSubmitCreateComponent:r().func.isRequired,onSubmitCreateDz:r().func.isRequired,onSubmitEditAttribute:r().func.isRequired,onSubmitEditCategory:r().func.isRequired,onSubmitEditComponent:r().func.isRequired,onSubmitEditContentType:r().func.isRequired,onSubmitEditCustomFieldAttribute:r().func.isRequired,onSubmitEditDz:r().func.isRequired,onClickFinish:r().func};const Oo=In,Po=({modalType:e,forTarget:t,kind:n,actionType:o,step:i})=>{switch(e){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${o}${i!=="null"&&i!==null&&o!=="edit"?".step":""}`);case"customField":return(0,d.Z)(`modalForm.sub-header.attribute.${o}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},jn=({actionType:e,modalType:t,forTarget:n,kind:o,step:i,attributeType:l,attributeName:u,customField:c})=>{const{formatMessage:m}=(0,h.useIntl)(),f=t==="customField"?c.intlLabel:{id:(0,d.Z)(`attribute.${l}`)};return a.createElement(A.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},a.createElement(ie.Z,{as:"h2",variant:"beta"},m({id:Po({actionType:e,forTarget:n,kind:o,step:i,modalType:t}),defaultMessage:"Add new field"},{type:pe()(m(f)),name:pe()(u),step:i})),a.createElement(ie.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,d.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};jn.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},jn.propTypes={actionType:r().string,modalType:r().string,forTarget:r().string,kind:r().string,step:r().string,attributeType:r().string,attributeName:r().string,customField:r().object};const xo=jn;var mn=s(91216),pn=s(82562),Ro=Object.defineProperty,La=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Fo=Object.prototype.propertyIsEnumerable,Da=(e,t,n)=>t in e?Ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ao=(e,t)=>{for(var n in t||(t={}))So.call(t,n)&&Da(e,n,t[n]);if(La)for(var n of La(t))Fo.call(t,n)&&Da(e,n,t[n]);return e};const wn=({intlLabel:e,name:t,options:n,onChange:o,value:i})=>{const{formatMessage:l}=(0,h.useIntl)(),u=e.id?l({id:e.id,defaultMessage:e.defaultMessage},Ao({},e.values)):t,c=m=>{let f="";m==="true"&&(f=!0),m==="false"&&(f=!1),o({target:{name:t,value:f,type:"select-default-boolean"}})};return a.createElement(mn.P,{label:u,id:t,name:t,onChange:c,value:(i===null?"":i).toString()},n.map(({metadatas:{intlLabel:m,disabled:f,hidden:g},key:p,value:R})=>a.createElement(pn.W,{key:p,value:R,disabled:f,hidden:g},m.defaultMessage)))};wn.defaultProps={value:null},wn.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().any};const Zo=wn;var No=s(15585);const Lo=(0,Ze.default)(A.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,No.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${ie.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,$n=({intlLabel:e,name:t,onChange:n,radios:o,value:i})=>{const{formatMessage:l}=(0,h.useIntl)();return a.createElement(A.K,{spacing:2},a.createElement(ie.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label"},l(e)),a.createElement(Lo,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},o.map(u=>a.createElement("label",{htmlFor:u.value.toString(),key:u.value,className:"container"},a.createElement("input",{id:u.value.toString(),name:t,className:"option-input",checked:u.value===i,value:u.value,key:u.value,onChange:n,type:"radio"}),a.createElement(_.x,{className:"option",padding:4},a.createElement(de.k,null,a.createElement(_.x,{paddingRight:4},a.createElement("span",{className:"checkmark"})),a.createElement(A.K,{spacing:2},a.createElement(ie.Z,{fontWeight:"bold"},l(u.title)),a.createElement(ie.Z,{variant:"pi",textColor:"neutral600"},l(u.description)))))))))};$n.defaultProps={radios:[]},$n.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,radios:r().arrayOf(r().shape({title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),value:r().any.isRequired})),value:r().oneOfType([r().string,r().bool]).isRequired};const Bn=$n;var Do=Object.defineProperty,Io=Object.defineProperties,jo=Object.getOwnPropertyDescriptors,fn=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,ja=Object.prototype.propertyIsEnumerable,wa=(e,t,n)=>t in e?Do(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wo=(e,t)=>{for(var n in t||(t={}))Ia.call(t,n)&&wa(e,n,t[n]);if(fn)for(var n of fn(t))ja.call(t,n)&&wa(e,n,t[n]);return e},$o=(e,t)=>Io(e,jo(t)),Bo=(e,t)=>{var n={};for(var o in e)Ia.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&fn)for(var o of fn(e))t.indexOf(o)<0&&ja.call(e,o)&&(n[o]=e[o]);return n};const $a=e=>{var t=e,{onChange:n,name:o}=t,i=Bo(t,["onChange","name"]);const l=u=>{const c=u.target.value!=="false";n({target:{name:o,value:c,type:"boolean-radio-group"}})};return a.createElement(Bn,$o(wo({},i),{name:o,onChange:l}))};$a.propTypes={name:r().string.isRequired,onChange:r().func.isRequired};const zo=$a;var qo=s(36213),Uo=s(25666),zn=s(16364),ko=Object.defineProperty,Ba=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Vo=Object.prototype.propertyIsEnumerable,za=(e,t,n)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Go=(e,t)=>{for(var n in t||(t={}))Wo.call(t,n)&&za(e,n,t[n]);if(Ba)for(var n of Ba(t))Vo.call(t,n)&&za(e,n,t[n]);return e};const qn=({error:e,intlLabel:t,modifiedData:n,name:o,onChange:i,value:l})=>{const{formatMessage:u}=(0,h.useIntl)(),[c,m]=(0,a.useState)(!!l||l===0),f=t.id?u({id:t.id,defaultMessage:t.defaultMessage},Go({},t.values)):o,g=n.type==="biginteger"?"text":"number",p=!n.type,R=e?u({id:e,defaultMessage:e}):"";return a.createElement(A.K,{spacing:2},a.createElement(qo.X,{id:o,name:o,onValueChange:P=>{i({target:{name:o,value:P?g==="text"?"0":0:null}}),m(te=>!te)},value:c},f),c&&a.createElement(_.x,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?a.createElement(zn.o,{"aria-label":f,disabled:p,error:R,id:o,name:o,onChange:i,value:l===null?"":l}):a.createElement(Uo.Y,{"aria-label":f,disabled:p,error:R,id:o,name:o,onValueChange:P=>{i({target:{name:o,value:P,type:g}})},value:l||0})))};qn.defaultProps={error:null,value:null},qn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().string,r().object,r().bool,r().number])};const Ko=qn;var Ho=Object.defineProperty,Xo=Object.defineProperties,Yo=Object.getOwnPropertyDescriptors,gn=Object.getOwnPropertySymbols,qa=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable,ka=(e,t,n)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jo=(e,t)=>{for(var n in t||(t={}))qa.call(t,n)&&ka(e,n,t[n]);if(gn)for(var n of gn(t))Ua.call(t,n)&&ka(e,n,t[n]);return e},Qo=(e,t)=>Xo(e,Yo(t)),_o=(e,t)=>{var n={};for(var o in e)qa.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&gn)for(var o of gn(e))t.indexOf(o)<0&&Ua.call(e,o)&&(n[o]=e[o]);return n};const Wa=e=>{var t=e,{onChange:n}=t,o=_o(t,["onChange"]);const i=(0,v.useNotification)(),l=u=>{i({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),n(u)};return a.createElement(Bn,Qo(Jo({},o),{onChange:l}))};Wa.propTypes={onChange:r().func.isRequired};const es=Wa;var Un=s(1734),Va=s(17205),Re=s(59015);const kn=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:o}=(0,k.Z)(),i=(0,X.useDispatch)(),l=o.filter(ke),u=U()(n,[t,"plugin"],null),c=U()(n,[t,"schema","displayName"],"error");return a.createElement(Va.O,{id:"label",label:`${c}
    ${u?`(from: ${u})`:""}`},l.map(({uid:m,title:f,restrictRelationsTo:g,plugin:p})=>{const R=()=>{const P=p?`${p}_${f}`:f;i({type:Re.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:P,targetContentTypeAllowedRelations:g}})};return a.createElement(Va.s,{key:m,onClick:R},f,"\xA0",p&&a.createElement(a.Fragment,null,"(from: ",p,")"))}))};kn.defaultProps={target:null},kn.propTypes={oneThatIsCreatingARelationWithAnother:r().string.isRequired,target:r().string};const ts=kn,Wn=({disabled:e,error:t,header:n,isMain:o,name:i,onChange:l,oneThatIsCreatingARelationWithAnother:u,target:c,value:m})=>a.createElement(_.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},a.createElement(de.k,{paddingTop:o?4:1,paddingBottom:o?3:1,justifyContent:"center"},o?a.createElement(ie.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},n):a.createElement(ts,{target:c,oneThatIsCreatingARelationWithAnother:u})),a.createElement(dt.i,{background:"neutral200"}),a.createElement(_.x,{padding:4},a.createElement(v.GenericInput,{disabled:e,error:(t==null?void 0:t.id)||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:l,type:"text",value:m})));Wn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Wn.propTypes={disabled:r().bool,error:r().object,header:r().string,isMain:r().bool,name:r().string.isRequired,onChange:r().func,oneThatIsCreatingARelationWithAnother:r().string,target:r().string,value:r().string};const Ga=Wn;var ns=s(39138),Ka=s.n(ns),as=s(23450),Vn=s.n(as),rs=Object.defineProperty,Ha=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable,Xa=(e,t,n)=>t in e?rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,is=(e,t)=>{for(var n in t||(t={}))os.call(t,n)&&Xa(e,n,t[n]);if(Ha)for(var n of Ha(t))ss.call(t,n)&&Xa(e,n,t[n]);return e};function ls(e){return a.createElement("svg",is({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44z",fill:"#212134"}))}var ds=Object.defineProperty,Ya=Object.getOwnPropertySymbols,us=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable,Ja=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ms=(e,t)=>{for(var n in t||(t={}))us.call(t,n)&&Ja(e,n,t[n]);if(Ya)for(var n of Ya(t))cs.call(t,n)&&Ja(e,n,t[n]);return e};function ps(e){return a.createElement("svg",ms({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 110-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128zM6 11.6a2.4 2.4 0 11-4.8 0 2.4 2.4 0 014.8 0z",fill:"#212134"}))}var fs=Object.defineProperty,Qa=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,ys=Object.prototype.propertyIsEnumerable,_a=(e,t,n)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vs=(e,t)=>{for(var n in t||(t={}))gs.call(t,n)&&_a(e,n,t[n]);if(Qa)for(var n of Qa(t))ys.call(t,n)&&_a(e,n,t[n]);return e};function bs(e){return a.createElement("svg",vs({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M5.872 10.43l8.347-6.176.86 1.163-8.347 6.176-.86-1.162zM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167zM18.72 8.613l5.28 3.12-5.28 3.12v-6.24z",fill:"#212134"}),a.createElement("path",{d:"M12.72 2.633L18.82 2 16.43 7.649 12.72 2.633zM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016z",fill:"#212134"}))}var hs=s(132),Es=Object.defineProperty,er=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,Cs=Object.prototype.propertyIsEnumerable,tr=(e,t,n)=>t in e?Es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ms=(e,t)=>{for(var n in t||(t={}))Ts.call(t,n)&&tr(e,n,t[n]);if(er)for(var n of er(t))Cs.call(t,n)&&tr(e,n,t[n]);return e};function Os(e){return a.createElement("svg",Ms({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M18.129 10.699L9.782 4.523l-.86 1.162 8.347 6.177.86-1.163zM18.101 13.354L9.755 19.53l-.864-1.167 8.347-6.176.863 1.167z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}))}var Ps=Object.defineProperty,nr=Object.getOwnPropertySymbols,xs=Object.prototype.hasOwnProperty,Rs=Object.prototype.propertyIsEnumerable,ar=(e,t,n)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ss=(e,t)=>{for(var n in t||(t={}))xs.call(t,n)&&ar(e,n,t[n]);if(nr)for(var n of nr(t))Rs.call(t,n)&&ar(e,n,t[n]);return e};function Fs(e){return a.createElement("svg",Ss({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM3.6 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}),a.createElement("path",{d:"M18.328 13.863L6.49 19.765l-.652-1.307 11.838-5.902.652 1.307zM18.358 10.078L6.398 4.115l-.646 1.294 11.961 5.963.645-1.294z",fill:"#212134"}),a.createElement("path",{d:"M18.323 18.83L6.252 12.813l-.643 1.29 12.071 6.019.643-1.29zM18.136 5.228L6.207 11.176l-.653-1.311 11.928-5.948.654 1.311z",fill:"#212134"}))}const As=(0,Ze.default)(_.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Zs=(0,Ze.default)(_.x)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ns=(0,Ze.default)(de.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Ls={oneWay:ps,oneToOne:ls,oneToMany:hs.Z,manyToOne:Os,manyToMany:Fs,manyWay:bs},Gn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:o})=>{const i=(0,X.useDispatch)(),{formatMessage:l}=(0,h.useIntl)(),{contentTypes:u,modifiedData:c}=(0,k.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],f=["oneWay","manyWay"],p=(e==="contentType"?U()(c,[e,"schema","kind"],""):e)==="collectionType"?m:f,R=n==="manyToOne",P=U()(u,[o,"schema","displayName"],"unknown"),D=R?P:t,w=R?t:P,te=Vn()(D,n==="manyToMany"?2:1),Z=U()(u,[o,"schema","restrictRelationsTo"],null),z=Vn()(w,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?a.createElement(de.k,{style:{flex:1}},a.createElement(As,null,a.createElement(de.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},a.createElement(xt.k,{tagName:"button"},a.createElement(A.K,{spacing:3,horizontal:!0},p.map(x=>{const ye=Ls[x],ge=Z===null||Z.includes(x);return a.createElement(Zs,{as:"button",isSelected:n===x,disabled:!ge,key:x,onClick:()=>{ge&&i({type:Re.QQ,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:o,value:x}})},padding:2,type:"button"},a.createElement(ye,{key:x}))}))))),a.createElement(Ns,{justifyContent:"center"},a.createElement(ie.Z,null,Ka()(te,{length:24}),"\xA0"),a.createElement(ie.Z,{textColor:"primary600"},l({id:(0,d.Z)(`relation.${n}`)}),"\xA0"),a.createElement(ie.Z,null,Ka()(z,{length:24})))):null};Gn.defaultProps={relationType:null,target:null},Gn.propTypes={naturePickerType:r().string.isRequired,oneThatIsCreatingARelationWithAnother:r().string.isRequired,relationType:r().string,target:r().string};const Ds=Gn,rr=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:o,onChange:i})=>{const l=(0,Un.Z)(n.relation,n.targetAttribute);return a.createElement(de.k,{style:{position:"relative"}},a.createElement(Ga,{isMain:!0,header:t,error:(e==null?void 0:e.name)||null,name:"name",onChange:i,value:(n==null?void 0:n.name)||""}),a.createElement(Ds,{naturePickerType:o,oneThatIsCreatingARelationWithAnother:t,relationType:l,target:n.target}),a.createElement(Ga,{disabled:["oneWay","manyWay"].includes(l),error:(e==null?void 0:e.targetAttribute)||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:(n==null?void 0:n.targetAttribute)||""}))};rr.propTypes={formErrors:r().object.isRequired,mainBoxHeader:r().string.isRequired,modifiedData:r().object.isRequired,naturePickerType:r().string.isRequired,onChange:r().func.isRequired};const Is=rr;var or=s(97406),js=Object.defineProperty,sr=Object.getOwnPropertySymbols,ws=Object.prototype.hasOwnProperty,$s=Object.prototype.propertyIsEnumerable,ir=(e,t,n)=>t in e?js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bs=(e,t)=>{for(var n in t||(t={}))ws.call(t,n)&&ir(e,n,t[n]);if(sr)for(var n of sr(t))$s.call(t,n)&&ir(e,n,t[n]);return e};const Kn=({description:e,error:t,intlLabel:n,modifiedData:o,name:i,onChange:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=(0,a.useRef)(l),f=(o==null?void 0:o.displayName)||"";(0,a.useEffect)(()=>{if(f){const P=(0,or.Z)(f);try{const D=Vn()(P,2);m.current({target:{name:i,value:D}})}catch(D){m.current({target:{name:i,value:P}})}}else m.current({target:{name:i,value:""}})},[f,i]);const g=t?c({id:t,defaultMessage:t}):"",p=e?c({id:e.id,defaultMessage:e.defaultMessage},Bs({},e.values)):"",R=c(n);return a.createElement(zn.o,{error:g,label:R,id:i,hint:p,name:i,onChange:l,value:u||""})};Kn.defaultProps={description:null,error:null,value:null},Kn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const zs=Kn;var qs=s(31950),Us=s(90608);const Hn=({error:e,intlLabel:t,name:n,onChange:o,value:i})=>{const{formatMessage:l}=(0,h.useIntl)(),{allComponentsCategories:u}=(0,k.Z)(),[c,m]=(0,a.useState)(u),f=e?l({id:e,defaultMessage:e}):"",g=l(t),p=P=>{o({target:{name:n,value:P,type:"select-category"}})},R=P=>{m(D=>[...D,P]),p(P)};return a.createElement(qs.X,{error:f,id:n,label:g,name:n,onChange:p,onCreateOption:R,value:i},c.map(P=>a.createElement(Us.O,{key:P,value:P},P)))};Hn.defaultProps={error:null,value:null},Hn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const ks=Hn,Xn=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:o,isCreatingComponentWhileAddingAField:i,componentToCreate:l,name:u,onChange:c,targetUid:m,forTarget:f,value:g})=>{const{formatMessage:p}=(0,h.useIntl)(),R=e?p({id:e,defaultMessage:e}):"",P=p(t),{componentsGroupedByCategory:D,componentsThatHaveOtherComponentInTheirAttributes:w}=(0,k.Z)(),te=["component","components"].includes(f);let Z=Object.entries(D).reduce((z,x)=>{const[ye,ge]=x,Ae=ge.map(W=>({uid:W.uid,label:W.schema.displayName,categoryName:ye}));return[...z,...Ae]},[]);return n&&(Z=Z.filter(z=>!w.includes(z.uid))),te&&(Z=Z.filter(z=>z.uid!==m)),i&&(Z=[{uid:g,label:l.displayName,categoryName:l.category}]),a.createElement(mn.P,{disabled:i||!o,error:R,label:P,id:u,name:u,onChange:z=>{c({target:{name:u,value:z,type:"select-category"}})},value:g||""},Z.map(z=>a.createElement(pn.W,{key:z.uid,value:z.uid},`${z.categoryName} - ${z.label}`)))};Xn.defaultProps={componentToCreate:null,error:null},Xn.propTypes={componentToCreate:r().object,forTarget:r().string.isRequired,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isAddingAComponentToAnotherComponent:r().bool.isRequired,isCreating:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,targetUid:r().string.isRequired,value:r().string.isRequired};const Ws=Xn,Yn=(e,t)=>e.find(({name:n})=>n===t),lr=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:o,value:i})=>{const{formatMessage:l}=(0,h.useIntl)(),{componentsGroupedByCategory:u,modifiedData:c}=(0,k.Z)(),f=(Yn(c.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(u).reduce((P,D)=>{const w=u[D].filter(({uid:te})=>!f.includes(te));return w.length>0&&(P[D]=w),P},{}),p=Object.entries(g).reduce((P,D)=>{const[w,te]=D,Z={label:w,children:te.map(({uid:z,schema:{displayName:x}})=>({label:x,value:z}))};return P.push(Z),P},[]),R=l({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return a.createElement(re.Q,{id:"select1",label:l(t),customizeContent:()=>R,name:n,onChange:P=>{o({target:{name:n,value:P,type:"select-components"}})},options:p,value:i||[]})};lr.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,dynamicZoneTarget:r().string.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().array.isRequired};const Vs=lr,Jn=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:i,options:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=c(e),f=t?c({id:t,defaultMessage:t}):"",g=p=>{i({target:{name:o,value:p,type:"select"}}),!!u&&n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}})};return a.createElement(mn.P,{error:f,label:m,id:o,name:o,onChange:g,value:u||""},l.map(({metadatas:{intlLabel:p,disabled:R,hidden:P},key:D,value:w})=>a.createElement(pn.W,{key:D,value:w,disabled:R,hidden:P},c({id:p.id,defaultMessage:p.defaultMessage},p.values))))};Jn.defaultProps={error:void 0,value:""},Jn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Gs=Jn,Qn=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:i,options:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=c(e),f=t?c({id:t,defaultMessage:t}):"",g=p=>{i({target:{name:o,value:p,type:"select"}}),u&&(p==="biginteger"&&u!=="biginteger"&&(n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&i({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&u==="biginteger"&&(n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&i({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&i({target:{name:"min",value:null}})))};return a.createElement(mn.P,{error:f,label:m,id:o,name:o,onChange:g,value:u||""},l.map(({metadatas:{intlLabel:p,disabled:R,hidden:P},key:D,value:w})=>a.createElement(pn.W,{key:D,value:w,disabled:R,hidden:P},c(p))))};Qn.defaultProps={error:void 0,value:""},Qn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Ks=Qn;var Hs=Object.defineProperty,dr=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable,ur=(e,t,n)=>t in e?Hs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Js=(e,t)=>{for(var n in t||(t={}))Xs.call(t,n)&&ur(e,n,t[n]);if(dr)for(var n of dr(t))Ys.call(t,n)&&ur(e,n,t[n]);return e};const _n=({description:e,error:t,intlLabel:n,modifiedData:o,name:i,onChange:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=(0,a.useRef)(l),f=(o==null?void 0:o.displayName)||"";(0,a.useEffect)(()=>{f?m.current({target:{name:i,value:(0,or.Z)(f)}}):m.current({target:{name:i,value:""}})},[f,i]);const g=t?c({id:t,defaultMessage:t}):"",p=e?c({id:e.id,defaultMessage:e.defaultMessage},Js({},e.values)):"",R=c(n);return a.createElement(zn.o,{error:g,label:R,id:i,hint:p,name:i,onChange:l,value:u||""})};_n.defaultProps={description:null,error:null,value:null},_n.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const Qs=_n;var _s=Object.defineProperty,ei=Object.defineProperties,ti=Object.getOwnPropertyDescriptors,cr=Object.getOwnPropertySymbols,ni=Object.prototype.hasOwnProperty,ai=Object.prototype.propertyIsEnumerable,mr=(e,t,n)=>t in e?_s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pr=(e,t)=>{for(var n in t||(t={}))ni.call(t,n)&&mr(e,n,t[n]);if(cr)for(var n of cr(t))ai.call(t,n)&&mr(e,n,t[n]);return e},ri=(e,t)=>ei(e,ti(t));const fr=({form:e,formErrors:t,genericInputProps:n,modifiedData:o,onChange:i})=>{const{formatMessage:l}=(0,h.useIntl)();return e.map((u,c)=>u.items.length===0?null:a.createElement(_.x,{key:c},u.sectionTitle&&a.createElement(_.x,{paddingBottom:4},a.createElement(ie.Z,{variant:"delta",as:"h3"},l(u.sectionTitle))),a.createElement(mt.r,{gap:4},u.items.map((m,f)=>{const g=`${c}.${f}`,p=U()(o,m.name,""),R=Object.keys(t).find(D=>D===m.name),P=R?t[R].id:U()(t,[...m.name.split(".").filter(D=>D!=="componentToCreate"),"id"],null);return m.type==="pushRight"?a.createElement(Xe.P,{col:m.size||6,key:m.name||g},a.createElement("div",null)):a.createElement(Xe.P,{col:m.size||6,key:m.name||g},a.createElement(v.GenericInput,ri(pr(pr({},m),n),{error:P,onChange:i,value:p})))}))))};fr.propTypes={form:r().arrayOf(r().object).isRequired,formErrors:r().object.isRequired,genericInputProps:r().object.isRequired,modifiedData:r().object.isRequired,onChange:r().func.isRequired};const gr=fr;var oi=s(64256),si=Object.defineProperty,yr=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,li=Object.prototype.propertyIsEnumerable,vr=(e,t,n)=>t in e?si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,br=(e,t)=>{for(var n in t||(t={}))ii.call(t,n)&&vr(e,n,t[n]);if(yr)for(var n of yr(t))li.call(t,n)&&vr(e,n,t[n]);return e};const ea=({description:e,disabled:t,error:n,intlLabel:o,labelAction:i,name:l,onChange:u,placeholder:c,value:m})=>{const{formatMessage:f}=(0,h.useIntl)(),g=n?f({id:n,defaultMessage:n}):"",p=e?f({id:e.id,defaultMessage:e.defaultMessage},br({},e.values)):"",R=f(o),P=c?f({id:c.id,defaultMessage:c.defaultMessage},br({},c.values)):"",D=Array.isArray(m)?m.join(`
`):"",w=te=>{const Z=te.target.value.split(`
`);u({target:{name:l,value:Z}})};return a.createElement(oi.g,{disabled:t,error:g,label:R,labelAction:i,id:l,hint:p,name:l,onChange:w,placeholder:P,value:D},D)};ea.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},ea.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,labelAction:r().element,name:r().string.isRequired,onChange:r().func.isRequired,placeholder:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),value:r().oneOfType([r().array,r().string])};const di=ea,ui=(e,t)=>{const n=U()(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:U()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:u,targetAttribute:c})=>{const m=(0,Un.Z)(l,c);return u==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},ci=(e="",t,n)=>{const o=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",l=n.includes(t),u=!i&&!l;return i?[[...o,"uid"],["component","dynamiczone"]]:u?[o,["component"]]:[o]},hr=e=>e.reduce((t,n)=>{const o=n.items.reduce((i,l)=>(l.name&&i.push(l.name),i),[]);return[...t,...o]},[]);var M=s(53209),$t=s(97392);const mi={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Er=/^[A-Za-z][-_0-9A-Za-z]*$/,pi=e=>{const t={name:M.Z_().matches(Er,v.translatedErrors.regex).test({name:"nameNotAllowed",message:v.translatedErrors.unique,test(n){return n?!e.includes((0,E.toLower)(n)):!1}}).required(v.translatedErrors.required)};return M.Ry(t)},fi=(e,t,n)=>{const o={displayName:M.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(i){if(!i)return!1;const l=(0,$t.N)(i,n);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(i){return i?!t.includes((0,E.toLower)((0,E.trim)(i))):!1}}).required(v.translatedErrors.required),category:M.Z_().matches(Er,v.translatedErrors.regex).required(v.translatedErrors.required),icon:M.Z_()};return M.Ry(o)},ta={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Bt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},L={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}};var gi=Object.defineProperty,yi=Object.defineProperties,vi=Object.getOwnPropertyDescriptors,Tr=Object.getOwnPropertySymbols,bi=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,Cr=(e,t,n)=>t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,na=(e,t)=>{for(var n in t||(t={}))bi.call(t,n)&&Cr(e,n,t[n]);if(Tr)for(var n of Tr(t))hi.call(t,n)&&Cr(e,n,t[n]);return e},aa=(e,t)=>yi(e,vi(t));const Ei={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.private]}]}},component({repeatable:e},t){return t==="1"?{sections:Bt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.private,L.max,L.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[aa(na({},L.default),{type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.unique,L.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.max,L.min]}]}},email(){return{sections:[{sectionTitle:null,items:[aa(na({},L.default),{type:"email"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.unique,L.maxLength,L.minLength,L.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.private]}]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.unique,L.max,L.min,L.private]}]}},password(){return{sections:[{sectionTitle:null,items:[L.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.maxLength,L.minLength,L.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[L.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.maxLength,L.minLength,L.private]}]}},text(){return{sections:[{sectionTitle:null,items:[L.default,L.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.unique,L.maxLength,L.minLength,L.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[aa(na({},L.default),{disabled:Boolean(e.targetField),type:"text"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[L.required,L.maxLength,L.minLength,L.private]}]}}},at={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var Ti=Object.defineProperty,Ci=Object.defineProperties,Mi=Object.getOwnPropertyDescriptors,Mr=Object.getOwnPropertySymbols,Oi=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Or=(e,t,n)=>t in e?Ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xi=(e,t)=>{for(var n in t||(t={}))Oi.call(t,n)&&Or(e,n,t[n]);if(Mr)for(var n of Mr(t))Pi.call(t,n)&&Or(e,n,t[n]);return e},Ri=(e,t)=>Ci(e,Mi(t));const Pr={advanced:Ei,base:{component(e,t){if(t==="1"){const n=e.createComponent===!0?Bt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[ta]},...n]}}return{sections:[{sectionTitle:null,items:[at,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[at,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[at]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[at]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[at,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[at]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[at]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const o=n.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[Ri(xi({},at),{placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}}),{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...o]}]}]}}}},Si={sections:[{sectionTitle:null,items:[at]}]};var Fi=s(44908),Ai=s.n(Fi),Zi=s(46831),Ni=s.n(Zi);const ra=e=>Ni()(e,{decamelize:!1,lowercase:!1,separator:"_"}),xr=/^[A-Za-z][_0-9A-Za-z]*$/,Rr=e=>({name:"attributeNameAlreadyUsed",message:v.translatedErrors.unique,test(t){return t?!e.includes(t):!1}}),jd=(e,t,n)=>{const o=get(e,["schema","attributes"],{});return Object.keys(o).filter(i=>t?i!==n:!0)},oa=e=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test(t){return t?!e.includes(t):!1}}),b={default:()=>M.Z_().nullable(),max:()=>M.Rx().integer().nullable(),min:()=>M.Rx().integer().when("max",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),maxLength:()=>M.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>M.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),name(e,t){return M.Z_().test(Rr(e)).test(oa(t)).matches(xr,v.translatedErrors.regex).required(v.translatedErrors.required)},required:()=>M.O7(),type:()=>M.Z_().required(v.translatedErrors.required),unique:()=>M.O7().nullable()},sa=(e,t)=>({name:b.name(e,t),type:b.type(),default:b.default(),unique:b.unique(),required:b.required(),maxLength:b.maxLength(),minLength:b.minLength(),regex:M.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test(o){return new RegExp(o)!==null}}).nullable()}),ia={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN((0,E.toNumber)(e))?!0:(0,E.toNumber)(t)>=(0,E.toNumber)(e)}},la={date(e,t){const n={name:b.name(e,t),type:b.type()};return M.Ry(n)},datetime(e,t){const n={name:b.name(e,t),type:b.type()};return M.Ry(n)},time(e,t){const n={name:b.name(e,t),type:b.type()};return M.Ry(n)},default(e,t){const n={name:b.name(e,t),type:b.type()};return M.Ry(n)},biginteger(e,t){const n={name:b.name(e,t),type:b.type(),default:M.Z_().nullable().matches(/^-?\d*$/),unique:b.unique(),required:b.required(),max:M.Z_().nullable().matches(/^-?\d*$/,v.translatedErrors.regex),min:M.Z_().nullable().test(ia).matches(/^-?\d*$/,v.translatedErrors.regex)};return M.Ry(n)},boolean(e,t){const n={name:b.name(e,t),default:M.O7().nullable(),required:b.required(),unique:b.unique()};return M.Ry(n)},component(e,t){const n={name:b.name(e,t),type:b.type(),required:b.required(),max:b.max(),min:b.min(),component:M.Z_().required(v.translatedErrors.required)};return M.Ry(n)},decimal(e,t){const n={name:b.name(e,t),type:b.type(),default:M.Rx(),required:b.required(),max:M.Rx(),min:M.Rx().test(ia)};return M.Ry(n)},dynamiczone(e,t){const n={name:b.name(e,t),type:b.type(),required:b.required(),max:b.max(),min:b.min()};return M.Ry(n)},email(e,t){const n={name:b.name(e,t),type:b.type(),default:M.Z_().email().nullable(),unique:b.unique(),required:b.required(),maxLength:b.maxLength(),minLength:b.minLength()};return M.Ry(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,o={name:M.Z_().test(Rr(e)).test(oa(t)).matches(n,v.translatedErrors.regex).required(v.translatedErrors.required),type:b.type(),default:b.default(),unique:b.unique(),required:b.required(),enum:M.IX().of(M.Z_()).min(1,v.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(i){return!Ai()(i.map(ra).filter((u,c,m)=>m.indexOf(u)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:i=>!i.map(ra).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,d.Z)("error.validation.enum-regex"),test:i=>i.map(ra).every(l=>n.test(l))}),enumName:M.Z_().nullable()};return M.Ry(o)},float(e,t){const n={name:b.name(e,t),type:b.type(),required:b.required(),default:M.Rx(),max:M.Rx(),min:M.Rx().test(ia)};return M.Ry(n)},integer(e,t){const n={name:b.name(e,t),type:b.type(),default:M.Rx().integer(),unique:b.unique(),required:b.required(),max:b.max(),min:b.min()};return M.Ry(n)},json(e,t){const n={name:b.name(e,t),type:b.type(),required:b.required(),unique:b.unique()};return M.Ry(n)},media(e,t){const n={name:b.name(e,t),type:b.type(),multiple:M.O7(),required:b.required(),allowedTypes:M.IX().of(M.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return M.Ry(n)},password(e,t){const n={name:b.name(e,t),type:b.type(),default:b.default(),unique:b.unique(),required:b.required(),maxLength:b.maxLength(),minLength:b.minLength()};return M.Ry(n)},relation(e,t,n,{initialData:o,modifiedData:i}){const l={name:b.name(e,t),target:M.Z_().required(v.translatedErrors.required),relation:M.Z_().required(),type:M.Z_().required(),targetAttribute:M.Vo(()=>{const u=(0,Un.Z)(i.relation,i.targetAttribute);if(u==="oneWay"||u==="manyWay")return M.Z_().nullable();let c=M.Z_().test(oa(t)),f=[...n.map(({name:g})=>g),i.name].filter(g=>g!==o.targetAttribute);return c.matches(xr,v.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test(g){return g?!f.includes(g):!1}}).required(v.translatedErrors.required)})};return M.Ry(l)},richtext(e,t){const n={name:b.name(e,t),type:b.type(),default:b.default(),unique:b.unique(),required:b.required(),maxLength:b.maxLength(),minLength:b.minLength()};return M.Ry(n)},string(e,t){const n=sa(e,t);return M.Ry(n)},text(e,t){const n=sa(e,t);return M.Ry(n)},uid(e,t){const n=sa(e,t);return M.Ry(n)}},Sr={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},da={advanced:{default(){return{sections:[{sectionTitle:{id:(0,d.Z)("form.contentType.divider.draft-publish"),defaultMessage:"Draft/Publish"},items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft/publish system"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Write a draft version of each entry before publishing it"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Sr,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Sr,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Li=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:o=[]})=>{const i={displayName:M.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(l){if(!l)return!1;const u=(0,$t.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes((0,E.toLower)((0,E.trim)(l))):!1}}).required(v.translatedErrors.required),pluralName:M.Z_().test({name:"pluralNameAlreadyUsed",message:v.translatedErrors.unique,test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes((0,E.toLower)((0,E.trim)(l))):!1}}).required(v.translatedErrors.required),singularName:M.Z_().test({name:"singularNameAlreadyUsed",message:v.translatedErrors.unique,test(l){return l?!n.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes((0,E.toLower)((0,E.trim)(l))):!1}}).required(v.translatedErrors.required),draftAndPublish:M.O7(),kind:M.Z_().oneOf(["singleType","collectionType"])};return M.Ry(i)},ua={advanced:{default(){return{sections:Bt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[ta]},...Bt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[ta]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Fr=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items.push(n);return}t.push(n)})},Ar=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n);var Zr=s(25108),Di=Object.defineProperty,Ii=Object.defineProperties,ji=Object.getOwnPropertyDescriptors,yn=Object.getOwnPropertySymbols,Nr=Object.prototype.hasOwnProperty,Lr=Object.prototype.propertyIsEnumerable,Dr=(e,t,n)=>t in e?Di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ca=(e,t)=>{for(var n in t||(t={}))Nr.call(t,n)&&Dr(e,n,t[n]);if(yn)for(var n of yn(t))Lr.call(t,n)&&Dr(e,n,t[n]);return e},wi=(e,t)=>Ii(e,ji(t)),ma=(e,t)=>{var n={};for(var o in e)Nr.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&yn)for(var o of yn(e))t.indexOf(o)<0&&Lr.call(e,o)&&(n[o]=e[o]);return n};const vt={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:o,schemaData:i,ctbFormsAPI:l}){const u=Ar(e,i),c=la[t](u,o.attributes);return l.makeCustomFieldValidator(c,n,u,o.attributes,i)},form:{base({customField:e}){var t;const n=[{sectionTitle:null,items:[at]}];return(t=e.options)!=null&&t.base&&Fr(e.options.base,n),{sections:n}},advanced(e){var t=e,{customField:n,data:o,step:i,extensions:l}=t,u=ma(t,["customField","data","step","extensions"]),c;const m=[{sectionTitle:null,items:[]}],f=l.getAdvancedForm(["attribute",n.type],ca({data:o,type:n.type,step:i},u));if((c=n.options)!=null&&c.advanced&&Fr(n.options.advanced,m),f){const g={sectionTitle:{id:(0,d.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:f};m.push(g)}return{sections:m}}}},attribute:{schema(e,t,n,o,i,l){const u=U()(e,["schema","attributes"],[]),c=Ar(u,i);try{let m=la[t](c,n.attributes,o,i);return l.makeValidator(["attribute",t],m,c,n.attributes,o,i)}catch(m){return Zr.error("Error yup build schema",m),la.default(c,n.attributes)}},form:{advanced(e){var t=e,{data:n,type:o,step:i,extensions:l}=t,u=ma(t,["data","type","step","extensions"]);try{const c=Pr.advanced[o](n,i).sections,m=l.getAdvancedForm(["attribute",o],ca({data:n,type:o,step:i},u));return{sections:c.reduce((g,p)=>(p.sectionTitle===null?g.push(p):g.push(wi(ca({},p),{items:[...p.items,...m]})),g),[])}}catch(c){return Zr.error(c),{sections:[]}}},base({data:e,type:t,step:n,attributes:o}){try{return Pr.base[t](e,n,o)}catch(i){return Si}}}},contentType:{schema(e,t,n,o,i,l){const u=Object.values(l).map(R=>R.schema.singularName),c=Object.values(l).map(R=>U()(R,["schema","pluralName"],"")),m=t?e.filter(R=>R!==n):e,f=t?u.filter(R=>U()(l,[n,"schema","singularName"],"")!==R):u,g=t?c.filter(R=>U()(l,[n,"schema","pluralName"],"")!==R):c,p=Li({usedContentTypeNames:m,reservedModels:o.models,singularNames:f,pluralNames:g});return i.makeValidator(["contentType"],p,m,o.models,f,g)},form:{base({actionType:e}){return e==="create"?da.base.create():da.base.edit()},advanced(e){var t=e,{extensions:n}=t,o=ma(t,["extensions"]);const i=da.advanced.default(o).sections,l=n.getAdvancedForm(["contentType"]);return{sections:[...i,{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:l}]}}}},component:{schema(e,t,n,o=!1,i=null){const l=o?e.filter(u=>u!==i):e;return fi(l,n.models,t)},form:{advanced(){return{sections:Bt.advanced()}},base(){return{sections:Bt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return ua.advanced.default()},base({data:e}){return U()(e,"createComponent",!1)?ua.base.createComponent():ua.base.default()}}},editCategory:{schema(e,t){const n=e.filter(o=>o!==t.name).map(o=>ot()(o));return pi(n)},form:{advanced:()=>({sections:[]}),base(){return mi.base}}}};var Ir=s(20573),$i=s(88372);const Bi=()=>e=>e[`${O.Z}_formModal`]||$i.E,zi=()=>(0,Ir.createSelector)(Bi(),e=>e);var jr=s(25108),qi=Object.defineProperty,Ui=Object.defineProperties,ki=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,wr=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable,Br=(e,t,n)=>t in e?qi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zt=(e,t)=>{for(var n in t||(t={}))wr.call(t,n)&&Br(e,n,t[n]);if(vn)for(var n of vn(t))$r.call(t,n)&&Br(e,n,t[n]);return e},bn=(e,t)=>Ui(e,ki(t)),hn=(e,t)=>{var n={};for(var o in e)wr.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&vn)for(var o of vn(e))t.indexOf(o)<0&&$r.call(e,o)&&(n[o]=e[o]);return n},zr=(e,t,n)=>new Promise((o,i)=>{var l=m=>{try{c(n.next(m))}catch(f){i(f)}},u=m=>{try{c(n.throw(m))}catch(f){i(f)}},c=m=>m.done?o(m.value):Promise.resolve(m.value).then(l,u);c((n=n.apply(e,t)).next())});const Wi=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:o,actionType:i,attributeName:l,attributeType:u,customFieldUid:c,categoryName:m,dynamicZoneTarget:f,forTarget:g,modalType:p,isOpen:R,kind:P,step:D,targetUid:w}=(0,G.Z)(),te=(0,v.useCustomFields)().get(c),Z=(0,a.useRef)(),z=(0,a.useMemo)(zi,[]),x=(0,X.useDispatch)(),ye=(0,v.useNotification)(),ge=(0,X.useSelector)(be=>z(be),X.shallowEqual),{push:Ae}=(0,y.useHistory)(),{trackUsage:W}=(0,v.useTracking)(),{formatMessage:Te}=(0,h.useIntl)(),{getPlugin:ue}=(0,v.useStrapiApp)(),Ee=ue(O.Z).apis.forms,Ut=Ee.components.inputs,{addAttribute:rt,addCustomFieldAttribute:Qt,addCreatedComponentToDynamicZone:bt,allComponentsCategories:ce,changeDynamicZoneComponents:N,contentTypes:kt,components:_t,createSchema:Wt,deleteCategory:ha,deleteData:Cn,editCategory:Ea,editCustomFieldAttribute:Ta,submitData:Ca,modifiedData:we,nestedComponents:Mn,setModifiedData:Ma,sortedContentTypesList:Oa,updateSchema:Pa,reservedNames:Ye}=(0,k.Z)(),{componentToCreate:en,formErrors:$,initialData:I,isCreatingComponentWhileAddingAField:ne,modifiedData:F}=ge,ve=g==="contentType"||g==="component"?[g]:[g,w];(0,a.useEffect)(()=>{if(R){const be=Oa.filter(ke);p==="editCategory"&&Ma(),i==="edit"&&p==="attribute"&&g==="contentType"&&W("willEditFieldOfContentType");const $e=[...ve,"schema","attributes"],Tt=Yn(U()(we,$e,[]),f)||null;if(p==="editCategory"&&i==="edit"&&x({type:Re._H,modalType:p,actionType:i,data:{name:m}}),p==="contentType"&&i==="create"&&x({type:Re._H,modalType:p,actionType:i,data:{draftAndPublish:!0},pluginOptions:{}}),p==="contentType"&&i==="edit"){const{displayName:he,draftAndPublish:Se,kind:Ce,pluginOptions:Ue,pluralName:He,singularName:Qe}=U()(we,[...ve,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});x({type:Re._H,actionType:i,modalType:p,data:{displayName:he,draftAndPublish:Se,kind:Ce,pluginOptions:Ue,pluralName:He,singularName:Qe}})}if(p==="component"&&i==="edit"){const he=U()(we,ve,{});x({type:Re._H,actionType:i,modalType:p,data:{displayName:he.schema.displayName,category:he.category}})}if(p==="addComponentToDynamicZone"&&i==="edit"){const he=bn(zt({},Tt),{components:[],name:f,createComponent:!1,componentToCreate:{type:"component"}});x({type:Re.VZ,attributeToEdit:he})}if(u){const he=Yn(U()(we,$e,[]),l),Se=bn(zt({},he),{name:l});u==="component"&&i==="edit"&&(Se.repeatable||Gt()(Se,"repeatable",!1)),x(p==="customField"?{type:Re.OY,customField:te,isEditing:i==="edit",modifiedDataToSetForEditing:Se,forTarget:g}:{type:Re.S0,attributeType:u,nameToSetForRelation:U()(be,["0","title"],"error"),targetUid:U()(be,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:Se,step:D,forTarget:g})}}else x({type:Re.c2})},[i,l,u,m,f,g,R,p]);const Ge=p==="contentType",ht=p==="component",Je=p==="attribute",tn=p==="customField",mo=u==="component"&&Je,nn=i==="create",Et=U()(F,"createComponent",!1)||ne,Vt=D==="1",po=p==="editCategory",fo=p==="chooseAttribute",xa=(0,$t.E)(F.displayName||""),Ra=U()(we,[...ve,"schema","attributes"],null),od=()=>zr(void 0,null,function*(){var be;let $e;const Tt=Et&&D==="1"?U()(F,"componentToCreate",{}):F;if(Ge)$e=vt.contentType.schema(Object.keys(kt),i==="edit",U()(we,[...ve,"uid"],null),Ye,Ee,kt);else if(ht)$e=vt.component.schema(Object.keys(_t),F.category||"",Ye,i==="edit",U()(we,[...ve,"uid"],null),Ee);else if(tn)$e=vt.customField.schema({schemaAttributes:U()(we,[...ve,"schema","attributes"],[]),attributeType:te.type,reservedNames:Ye,schemaData:{modifiedData:F,initialData:I},ctbFormsAPI:Ee,customFieldValidator:(be=te.options)==null?void 0:be.validator});else if(mo&&Et&&Vt)$e=vt.component.schema(Object.keys(_t),U()(F,"componentToCreate.category",""),Ye,Ee);else if(Je&&!Vt){const he=u==="relation"?"relation":F.type;let Se=[];if(he==="relation"){const Ce=U()(F,["target"],null);Se=U()(kt,[Ce,"schema","attributes"],[]).filter(({name:He})=>i!=="edit"?!0:He!==I.targetAttribute)}$e=vt.attribute.schema(U()(we,ve,{}),he,Ye,Se,{modifiedData:F,initialData:I},Ee)}else if(po)$e=vt.editCategory.schema(ce,I,Ee);else if(Vt&&Et)$e=vt.component.schema(Object.keys(_t),U()(F,"componentToCreate.category",""),Ye,Ee);else return;yield $e.validate(Tt,{abortEarly:!1})}),go=(0,a.useCallback)(be=>{var{target:$e}=be,Tt=$e,{name:he,value:Se,type:Ce}=Tt,Ue=hn(Tt,["name","value","type"]);const He=["enumName","max","min","maxLength","minLength","regex","default"];let Qe;He.includes(he)&&Se===""?Qe=null:Qe=Se;const _e=Object.assign({},$);he==="max"&&delete _e.min,he==="maxLength"&&delete _e.minLength,delete _e[he],x({type:Re.Ey,errors:_e}),x(zt({type:Re.P0,keys:he.split("."),value:Qe},Ue))},[x,$]),Ke=(be,...$e)=>zr(void 0,[be,...$e],function*(Tt,he=nn){Tt.preventDefault();try{yield od(),id(he);const Se=g==="components"?w:xa;if(Ge)if(nn)Wt(bn(zt({},F),{kind:P}),p,xa),Ae({pathname:`/plugins/${O.Z}/content-types/${xa}`}),t({forTarget:g,targetUid:Se});else{ui(we,F)?(e(),Ca(F)):ye({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(nn){const Ce=(0,$t.N)(F.displayName,F.category),Ue=F,{category:He}=Ue,Qe=hn(Ue,["category"]);Wt(Qe,"component",Ce,He),Ae({pathname:`/plugins/${O.Z}/component-categories/${He}/${Ce}`}),t({forTarget:g,targetUid:Ce})}else{Pa(F,p,w),e();return}else if(po){if(ot()(I.name)===ot()(F.name)){e();return}Ea(I.name,F);return}else if(tn){const Ce={attributeToSet:bn(zt({},F),{customField:c}),forTarget:g,targetUid:w,initialAttribute:I};i==="edit"?Ta(Ce):Qt(Ce),he?t({forTarget:g,targetUid:Se}):e();return}else if(Je&&!Et){if(u==="dynamiczone"){rt(F,g,w,i==="edit",I),nn?(x({type:Re.I}),Z.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:F.name})):e();return}if(!mo){rt(F,g,w,i==="edit",I),he?t({forTarget:g,targetUid:Se}):e();return}if(Vt){o(),x({type:Re.yC,forTarget:g});return}rt(F,g,w,i==="edit",I,!0),he?t({forTarget:g,targetUid:w}):e()}else if(Je&&Et){if(Vt){W("willCreateComponentFromAttributesModal"),x({type:Re.oF,forTarget:g}),o();return}const Ce=en,{category:Ue,type:He}=Ce,Qe=hn(Ce,["category","type"]),_e=(0,$t.N)(en.displayName,Ue);Wt(Qe,He,_e,Ue,Et),rt(F,g,w,!1),x({type:Re.c2}),he?t({forTarget:"components",targetUid:_e}):e();return}else{if(Vt)if(Et){const Ce=F.componentToCreate,{category:Ue,type:He}=Ce,Qe=hn(Ce,["category","type"]),_e=(0,$t.N)(F.componentToCreate.displayName,Ue);Wt(Qe,He,_e,Ue,Et),bt(f,[_e]),t({forTarget:"components",targetUid:_e})}else N(f,F.components),e();else jr.error("This case is not handled");return}x({type:Re.c2})}catch(Se){const Ce=(0,v.getYupInnerErrors)(Se);jr.log({err:Se,errors:Ce}),x({type:Re.Ey,errors:Ce})}}),yo=()=>{e(),x({type:Re.c2})},sd=be=>{if(be==="advanced"){if(Ge){W("didSelectContentTypeSettings");return}g==="contentType"&&W("didSelectContentTypeFieldSettings")}},id=be=>{p==="attribute"&&g==="contentType"&&u!=="dynamiczone"&&be&&W("willAddMoreFieldToContentType")},ld=()=>!!(p==="editCategory"||p==="component"||lt()(F,"createComponent")),dd=ci(g,w,Mn);if(!R||!p)return null;const vo=U()(vt,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ud=g==="components"||g==="component",bo={customInputs:zt({"allowed-types-select":Pt,"boolean-radio-group":zo,"checkbox-with-number-field":Ko,"content-type-radio-group":es,"radio-group":Bn,relation:Is,"select-category":ks,"select-component":Ws,"select-components":Vs,"select-default-boolean":Zo,"select-number":Ks,"select-date":Gs,"toggle-draft-publish":Co,"text-plural":zs,"text-singular":Qs,"textarea-enum":di},Ut),componentToCreate:en,dynamicZoneTarget:f,formErrors:$,isAddingAComponentToAnotherComponent:ud,isCreatingComponentWhileAddingAField:ne,mainBoxHeader:U()(we,[...ve,"schema","displayName"],""),modifiedData:F,naturePickerType:g,isCreating:nn,targetUid:w,forTarget:g},ho=vo.advanced({data:F,type:u,step:D,actionType:i,attributes:Ra,extensions:Ee,forTarget:g,contentTypeSchema:we.contentType||{},customField:te}).sections,Eo=vo.base({data:F,type:u,step:D,actionType:i,attributes:Ra,extensions:Ee,forTarget:g,contentTypeSchema:we.contentType||{},customField:te}).sections,cd=hr(Eo),md=hr(ho),pd=Object.keys($).some(be=>cd.includes(be)),fd=Object.keys($).some(be=>md.includes(be)),gd=U()(kt,[w,"schema","kind"]),yd=()=>i==="edit"&&Ra.every(({name:be})=>be!==(F==null?void 0:F.name)),vd=()=>{yd()&&W("didEditFieldNameOnContentType")};return a.createElement(At.P,{onClose:yo,labelledBy:"title"},a.createElement(Mo,{actionType:i,attributeName:l,categoryName:m,contentTypeKind:P,dynamicZoneTarget:f,modalType:p,forTarget:g,targetUid:w,attributeType:u,customFieldUid:c}),fo&&a.createElement(nt,{attributes:dd,forTarget:g,kind:gd||"collectionType"}),!fo&&a.createElement("form",{onSubmit:Ke},a.createElement(Mt.f,null,a.createElement(ut.v,{label:"todo",id:"tabs",variant:"simple",ref:Z,onTabChange:be=>{be===1&&sd("advanced")}},a.createElement(de.k,{justifyContent:"space-between"},a.createElement(xo,{actionType:i,forTarget:g,kind:P,step:D,modalType:p,attributeType:u,attributeName:l,customField:te}),a.createElement(et.m,null,a.createElement(et.O,{hasError:pd},Te({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),a.createElement(et.O,{hasError:fd,disabled:ld()},Te({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),a.createElement(dt.i,null),a.createElement(_.x,{paddingTop:6},a.createElement(Ie.n,null,a.createElement(Ie.x,null,a.createElement(A.K,{spacing:6},a.createElement(gr,{form:Eo,formErrors:$,genericInputProps:bo,modifiedData:F,onChange:go}))),a.createElement(Ie.x,null,a.createElement(A.K,{spacing:6},a.createElement(gr,{form:ho,formErrors:$,genericInputProps:bo,modifiedData:F,onChange:go}))))))),a.createElement(Zt.m,{endActions:a.createElement(Oo,{deleteCategory:ha,deleteContentType:Cn,deleteComponent:Cn,categoryName:I.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:u==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:F.createComponent||!1,isCreatingComponentInDz:F.createComponent||!1,isCreatingComponentWhileAddingAField:ne,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:u==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:D==="1",onSubmitAddComponentAttribute:Ke,onSubmitAddComponentToDz:Ke,onSubmitCreateComponent:Ke,onSubmitCreateContentType:Ke,onSubmitCreateDz:Ke,onSubmitEditAttribute:Ke,onSubmitEditCategory:Ke,onSubmitEditComponent:Ke,onSubmitEditContentType:Ke,onSubmitEditCustomFieldAttribute:Ke,onSubmitEditDz:Ke,onClickFinish:vd}),startActions:a.createElement(oe.z,{variant:"tertiary",onClick:yo},Te({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},qr=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),Vi=(e,t,n,o)=>{const i=t.reduce((c,m)=>{const f=U()(n,m,{});return c[m]=f,c},{});return{[o?"contentType":"component"]:e,components:i}},Gi=(e,t)=>{const n=Object.keys(e).map(o=>(0,E.get)(e,[o,...t],""));return(0,K.Z)(n)};var Ki=s(19525);const Hi=e=>{const t=Object.keys(e).reduce((n,o)=>{const i=(0,E.get)(e,[o,"schema","attributes"],[]),l=Xi(i);return[...n,...l]},[]);return(0,K.Z)(t)},Xi=e=>e.reduce((t,n)=>{const{type:o,component:i}=n;return o==="component"&&t.push(i),t},[]),Ur=Hi,Yi=e=>{const t=Object.keys(e).reduce((n,o)=>{const i=U()(e,[o],{}),l=i.uid;return Ji(i)&&n.push(l),n},[]);return(0,K.Z)(t)},Ji=e=>U()(e,["schema","attributes"],[]).some(n=>{const{type:o}=n;return o==="component"});var Qi=Object.defineProperty,_i=Object.defineProperties,el=Object.getOwnPropertyDescriptors,En=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable,Vr=(e,t,n)=>t in e?Qi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tl=(e,t)=>{for(var n in t||(t={}))kr.call(t,n)&&Vr(e,n,t[n]);if(En)for(var n of En(t))Wr.call(t,n)&&Vr(e,n,t[n]);return e},nl=(e,t)=>_i(e,el(t)),al=(e,t)=>{var n={};for(var o in e)kr.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&En)for(var o of En(e))t.indexOf(o)<0&&Wr.call(e,o)&&(n[o]=e[o]);return n};const rl=(e,t)=>{const n=Object.keys(e).filter(o=>{const i=(0,E.get)(e,o,{}),l=(0,E.get)(t,o,{}),u=(0,E.get)(i,["isTemporary"],!1),c=!(0,E.isEqual)(i,l);return u||c});return(0,K.Z)(n)},ol=(e,t)=>{const n=Kr((0,E.get)(e,"schema.attributes",[]),t),o=(0,E.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},o,{category:e.category},(0,E.omit)(e.schema,"attributes"),{attributes:n})},Gr=(e,t=!1)=>{const n=(0,E.get)(e,"uid",null),o=Kr((0,E.get)(e,"schema.attributes",[]),n),i=t?{category:(0,E.get)(e,"category","")}:{},l=Object.assign(i,(0,E.omit)(e.schema,"attributes"),{attributes:o});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},Kr=(e,t)=>e.reduce((n,o)=>{var i=o,{name:l}=i,u=al(i,["name"]);const c=u,m=c.target===t,f=c.type==="relation",g=(0,E.get)(c,"targetAttribute",null);if(!m)if(f){const p=Object.assign({},c,{targetAttribute:Hr(g)});n[l]=Tn(p)}else n[l]=Tn(c);if(m){const p=c.target,R=Object.assign({},c,{target:p,targetAttribute:Hr(g)});n[l]=Tn(R)}if(c.customField){const p=nl(tl({},c),{type:"customField"});n[l]=Tn(p)}return n},{}),Hr=e=>e==="-"?null:e,Tn=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),sl=(e,t,n,o=!1)=>rl(e,t).map(u=>{const c=(0,E.get)(e,u,{});return ol(c,n,o)}),il=e=>(0,E.sortBy)(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${O.Z}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>(0,E.camelCase)(t.title)),Xr="did-not-kill-server",ll="server is down";function Xt(e,t){return new Promise(n=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(o=>{if(o.status>=400)throw new Error(ll);if(!t)throw new Error(Xr);n(e)}).catch(o=>{setTimeout(()=>Xt(e,o.message!==Xr).then(n),100)})})}const dl=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0);var De=s(92407),ul=s(87431);const cl=()=>e=>e[`${O.Z}_dataManagerProvider`]||ul.E,ml=()=>(0,Ir.createSelector)(cl(),e=>e);var pl=Object.defineProperty,fl=Object.defineProperties,gl=Object.getOwnPropertyDescriptors,Yr=Object.getOwnPropertySymbols,yl=Object.prototype.hasOwnProperty,vl=Object.prototype.propertyIsEnumerable,Jr=(e,t,n)=>t in e?pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pa=(e,t)=>{for(var n in t||(t={}))yl.call(t,n)&&Jr(e,n,t[n]);if(Yr)for(var n of Yr(t))vl.call(t,n)&&Jr(e,n,t[n]);return e},fa=(e,t)=>fl(e,gl(t));const bl=e=>Object.keys(e).reduce((t,n)=>{const o=e[n].schema;return t[n]=fa(pa({},e[n]),{schema:fa(pa({},o),{attributes:hl(o.attributes)})}),t},{}),hl=e=>Object.keys(e).reduce((t,n)=>(t.push(fa(pa({},e[n]),{name:n})),t),[]),Qr=bl;var Yt=s(25108),El=Object.defineProperty,_r=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,Cl=Object.prototype.propertyIsEnumerable,eo=(e,t,n)=>t in e?El(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,to=(e,t)=>{for(var n in t||(t={}))Tl.call(t,n)&&eo(e,n,t[n]);if(_r)for(var n of _r(t))Cl.call(t,n)&&eo(e,n,t[n]);return e},qt=(e,t,n)=>new Promise((o,i)=>{var l=m=>{try{c(n.next(m))}catch(f){i(f)}},u=m=>{try{c(n.throw(m))}catch(f){i(f)}},c=m=>m.done?o(m.value):Promise.resolve(m.value).then(l,u);c((n=n.apply(e,t)).next())});const ga=({children:e,components:t,contentTypes:n,isLoading:o,isLoadingForDataToBeSet:i,initialData:l,modifiedData:u,reservedNames:c})=>{const m=(0,X.useDispatch)(),f=(0,v.useNotification)(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:p}=(0,v.useAutoReloadOverlayBlocker)(),{setCurrentStep:R}=(0,v.useGuidedTour)(),{getPlugin:P}=(0,v.useStrapiApp)(),{apis:D}=P(O.Z),{autoReload:w}=(0,v.useAppInfos)(),{formatMessage:te}=(0,h.useIntl)(),{trackUsage:Z}=(0,v.useTracking)(),{refetchPermissions:z}=(0,v.useRBACProvider)(),{pathname:x}=(0,y.useLocation)(),{onCloseModal:ye}=(0,G.Z)(),ge=(0,y.useRouteMatch)(`/plugins/${O.Z}/content-types/:uid`),Ae=(0,y.useRouteMatch)(`/plugins/${O.Z}/component-categories/:categoryUid/:componentUid`),W=(0,a.useRef)();W.current=te;const Te=w,ue=ge!==null,Jt=ue?"contentType":"component",Ee=ue?(0,E.get)(ge,"params.uid",null):(0,E.get)(Ae,"params.componentUid",null),Ut=(0,a.useRef)(),rt=ue?"content-types":"components";Ut.current=()=>qt(void 0,null,function*(){try{const[{data:{data:$}},{data:{data:I}},{data:ne}]=yield Promise.all(["components","content-types","reserved-names"].map(Je=>q.get(Je))),F=qr($),ve=Qr(F),Ge=qr(I),ht=Qr(Ge);m({type:De.Id,components:ve,contentTypes:ht,reservedNames:ne})}catch($){Yt.error({err:$}),f({type:"warning",message:{id:"notification.error"}})}}),(0,a.useEffect)(()=>(Ut.current(),()=>{m({type:De.Zl})}),[]),(0,a.useEffect)(()=>{!o&&Ee&&Mn()},[o,x,Ee]),(0,a.useEffect)(()=>{w||f({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[w,f]);const Qt=($,I,ne,F=!1,ve,Ge=!1)=>{const ht=F?De.JO:De.gz;m({type:ht,attributeToSet:$,forTarget:I,targetUid:ne,initialAttribute:ve,shouldAddComponentToData:Ge})},bt=({attributeToSet:$,forTarget:I,targetUid:ne,initialAttribute:F})=>{m({type:De.Ir,attributeToSet:$,forTarget:I,targetUid:ne,initialAttribute:F})},ce=({attributeToSet:$,forTarget:I,targetUid:ne,initialAttribute:F})=>{m({type:De.Ly,attributeToSet:$,forTarget:I,targetUid:ne,initialAttribute:F})},N=($,I)=>{m({type:De.Uu,dynamicZoneTarget:$,componentsToAdd:I})},kt=($,I,ne,F,ve=!1)=>{const Ge=I==="contentType"?De.Sh:De.VR;m({type:Ge,data:$,componentCategory:F,schemaType:I,uid:ne,shouldAddComponentToData:ve})},_t=($,I)=>{m({type:De.o_,dynamicZoneTarget:$,newComponents:I})},Wt=($,I,ne="")=>{const F=$==="components"?De.lw:De.ai;$==="contentType"&&Z("willDeleteFieldOfContentType"),m({type:F,mainDataKey:$,attributeToRemoveName:I,componentUid:ne})},ha=$=>qt(void 0,null,function*(){try{const I=`/component-categories/${$}`,ne=window.confirm(te({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));ye(),ne&&(g(),yield q.delete(I),yield Xt(!0),yield p(),yield Ye())}catch(I){Yt.error({err:I}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Cn=()=>qt(void 0,null,function*(){try{const $=`/${rt}/${Ee}`,I=(0,E.get)(u,[Jt,"isTemporary"],!1),ne=window.confirm(te({id:(0,d.Z)(`popUpWarning.bodyMessage.${ue?"contentType":"component"}.delete`)}));if(ye(),ne){if(I){m({type:De.Ap});return}g(),yield q.delete($),yield Xt(!0),yield p(),yield Ye()}}catch($){Yt.error({err:$}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Ea=($,I)=>qt(void 0,null,function*(){try{const ne=`/component-categories/${$}`;ye(),g(),yield q.put(ne,I),yield Xt(!0),yield p(),yield Ye()}catch(ne){Yt.error({err:ne}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Ta=()=>{const $=Object.assign({},t,u.components);if(!ue){const ne=(0,E.get)(u,"component",{});(0,E.set)($,(0,E.get)(ne,["uid"],""),ne)}const I=Yi($);return(0,K.Z)(I)},Ca=()=>{const $=Ur(t),I=Ur(u.components||{});return(0,K.Z)([...I,...$])},we=($,I)=>{m({type:De.NG,dzName:$,componentToRemoveIndex:I})},Mn=()=>{const $=ue?n:t,I=(0,E.get)($,Ee,{schema:{attributes:[]}}),ne=(0,Ki.Z)(I.schema.attributes,t),F=Vi(I,ne,t,ue),ve=(0,E.get)(I,"isTemporary",!1)&&(0,E.size)((0,E.get)(I,"schema.attributes",[]))===0;m({type:De.xx,schemaToSet:F,hasJustCreatedSchema:ve})},Ma=(0,a.useMemo)(()=>{const $=ue?n:t;return Ee==="create-content-type"?!1:!Object.keys($).includes(Ee)&&!o},[t,n,Ee,ue,o]),Oa=(0,a.useMemo)(()=>{const $=Object.keys(n).filter(I=>(0,E.get)(n,[I,"schema","visible"],!0)).sort();return(0,E.get)($,"0","create-content-type")},[n]);if(Ma)return a.createElement(y.Redirect,{to:`/plugins/${O.Z}/content-types/${Oa}`});const Pa=$=>qt(void 0,null,function*(){var I,ne;try{const F=(0,E.get)(u,[Jt,"isTemporary"],!1),ve={components:sl(u.components,t,Ee,F)};if(ue){const Je=D.forms.mutateContentTypeSchema(to(to({},Gr(u.contentType)),$),l.contentType);if(!dl(Je)){f({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}ve.contentType=Je,Z("willSaveContentType")}else ve.component=Gr(u.component,!0),Z("willSaveComponent");g();const Ge=`/${rt}`,ht=F?Ge:`${Ge}/${Ee}`;if(F?yield q.post(ht,ve):yield q.put(ht,ve),yield Xt(!0),yield p(),F&&(((I=l.contentType)==null?void 0:I.schema.kind)==="collectionType"||((ne=l.contentType)==null?void 0:ne.schema.kind)==="singleType")&&R("contentTypeBuilder.success"),ue){Z("didSaveContentType");const Je=(0,E.get)(ve,["contentType","schema","name"],""),tn=(0,E.get)(l,["contentType","schema","name"],"");!F&&Je!==tn&&Z("didEditNameOfContentType")}else Z("didSaveComponent");yield Ye()}catch(F){ue||Z("didNotSaveComponent"),Yt.error({err:F.response}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Ye=()=>qt(void 0,null,function*(){yield z()}),en=($,I,ne)=>{m({type:De.bi,data:$,schemaType:I,uid:ne})};return a.createElement(V.Z.Provider,{value:{addAttribute:Qt,addCustomFieldAttribute:bt,addCreatedComponentToDynamicZone:N,allComponentsCategories:Gi(t,["category"]),changeDynamicZoneComponents:_t,components:t,componentsGroupedByCategory:(0,E.groupBy)(t,"category"),componentsThatHaveOtherComponentInTheirAttributes:Ta(),contentTypes:n,createSchema:kt,deleteCategory:ha,deleteData:Cn,editCategory:Ea,editCustomFieldAttribute:ce,isInDevelopmentMode:Te,initialData:l,isInContentTypeView:ue,modifiedData:u,nestedComponents:Ca(),removeAttribute:Wt,removeComponentFromDynamicZone:we,reservedNames:c,setModifiedData:Mn,sortedContentTypesList:il(n),submitData:Pa,updateSchema:en}},i?a.createElement(v.LoadingIndicatorPage,null):a.createElement(a.Fragment,null,e,Te&&a.createElement(Wi,null)))};ga.defaultProps={components:{}},ga.propTypes={children:r().node.isRequired,components:r().object,contentTypes:r().object.isRequired,isLoading:r().bool.isRequired,isLoadingForDataToBeSet:r().bool.isRequired,initialData:r().object.isRequired,modifiedData:r().object.isRequired,reservedNames:r().object.isRequired};const Ml=ml(),Ol=(0,X.connect)(Ml,null),Pl=(0,ae.compose)(Ol)((0,a.memo)(ga));var xl=s(98422);const no={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null};var Rl=Object.defineProperty,Sl=Object.defineProperties,Fl=Object.getOwnPropertyDescriptors,ao=Object.getOwnPropertySymbols,Al=Object.prototype.hasOwnProperty,Zl=Object.prototype.propertyIsEnumerable,ro=(e,t,n)=>t in e?Rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ze=(e,t)=>{for(var n in t||(t={}))Al.call(t,n)&&ro(e,n,t[n]);if(ao)for(var n of ao(t))Zl.call(t,n)&&ro(e,n,t[n]);return e},qe=(e,t)=>Sl(e,Fl(t));const oo=({children:e})=>{const[t,n]=(0,a.useState)(no),{trackUsage:o}=(0,v.useTracking)(),i=({attributeType:Z,customFieldUid:z})=>{n(x=>qe(ze({},x),{actionType:"create",modalType:"customField",attributeType:Z,customFieldUid:z}))},l=({attributeType:Z,step:z})=>{t.forTarget==="contentType"&&o("didSelectContentTypeFieldType",{type:Z}),n(x=>qe(ze({},x),{actionType:"create",modalType:"attribute",step:z,attributeType:Z}))},u=({dynamicZoneTarget:Z,targetUid:z})=>{n(x=>qe(ze({},x),{dynamicZoneTarget:Z,targetUid:z,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:Z,targetUid:z})=>{n(x=>qe(ze({},x),{actionType:"create",forTarget:Z,targetUid:z,modalType:"chooseAttribute",isOpen:!0}))},m=Z=>{n(z=>qe(ze(ze({},z),Z),{isOpen:!0}))},f=Z=>{n(z=>qe(ze({},z),{categoryName:Z,actionType:"edit",modalType:"editCategory",isOpen:!0}))},g=({forTarget:Z,targetUid:z,attributeName:x,attributeType:ye,customFieldUid:ge})=>{n(Ae=>qe(ze({},Ae),{modalType:"customField",customFieldUid:ge,actionType:"edit",forTarget:Z,targetUid:z,attributeName:x,attributeType:ye,isOpen:!0}))},p=({forTarget:Z,targetUid:z,attributeName:x,attributeType:ye,step:ge})=>{n(Ae=>qe(ze({},Ae),{modalType:"attribute",actionType:"edit",forTarget:Z,targetUid:z,attributeName:x,attributeType:ye,step:ge,isOpen:!0}))},R=({modalType:Z,forTarget:z,targetUid:x,kind:ye})=>{n(ge=>qe(ze({},ge),{modalType:Z,actionType:"edit",forTarget:z,targetUid:x,kind:ye,isOpen:!0}))},P=()=>{n(no)},D=({forTarget:Z,targetUid:z})=>{n(x=>qe(ze({},x),{forTarget:Z,targetUid:z,modalType:"chooseAttribute"}))},w=()=>{n(Z=>qe(ze({},Z),{attributeType:"component",modalType:"attribute",step:"2"}))},te=({dynamicZoneTarget:Z})=>{n(z=>qe(ze({},z),{dynamicZoneTarget:Z,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return a.createElement(xl.Z.Provider,{value:qe(ze({},t),{onClickSelectField:l,onClickSelectCustomField:i,onCloseModal:P,onNavigateToChooseAttributeModal:D,onNavigateToAddCompoToDZModal:te,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:w,onOpenModalAddField:c,onOpenModalCreateSchema:m,onOpenModalEditCategory:f,onOpenModalEditField:p,onOpenModalEditCustomField:g,onOpenModalEditSchema:R,setFormModalNavigationState:n})},e)};oo.propTypes={children:r().node.isRequired};const Nl=oo,Ll=(0,a.lazy)(()=>s.e(5905).then(s.bind(s,76761))),Dl=()=>{const{url:e}=(0,y.useRouteMatch)(),{categoryUid:t}=(0,y.useParams)();return a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(y.Switch,null,a.createElement(y.Route,{path:`${e}/:componentUid`},a.createElement(Ll,{categoryId:t}))))};var Il=s(53192),jl=s(42876),wl=s(34446),$l=s(29489),Bl=s(12645),zl=s(41762);const ql=(0,Ze.default)(_.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Ul=Ze.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,kl=Ze.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,ya=({label:e,children:t,id:n})=>{const[o,i]=(0,a.useState)(!0),l=(0,zl.M)("subnav-list",n),u=()=>{i(c=>!c)};return a.createElement(_.x,null,a.createElement(ql,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},a.createElement(de.k,{justifyContent:"space-between"},a.createElement(Ul,{onClick:u,"aria-expanded":o,"aria-controls":l},a.createElement(kl,{rotated:o},a.createElement(Bl.default,{"aria-hidden":!0})),a.createElement(_.x,{paddingLeft:2},a.createElement(ie.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),o&&a.createElement("ul",{id:l},a.Children.map(t,(c,m)=>a.createElement("li",{key:m},c))))};ya.defaultProps={id:void 0},ya.propTypes={children:Y.node.isRequired,id:Y.string,label:Y.string.isRequired};var so=s(52305),Wl=s(39785),Vl=s(41609),Gl=s.n(Vl),Kl=s(89734),io=s.n(Kl),Hl=s(18446),Xl=s.n(Hl),Yl=s(63852),Jl=Object.defineProperty,Ql=Object.defineProperties,_l=Object.getOwnPropertyDescriptors,lo=Object.getOwnPropertySymbols,ed=Object.prototype.hasOwnProperty,td=Object.prototype.propertyIsEnumerable,uo=(e,t,n)=>t in e?Jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,va=(e,t)=>{for(var n in t||(t={}))ed.call(t,n)&&uo(e,n,t[n]);if(lo)for(var n of lo(t))td.call(t,n)&&uo(e,n,t[n]);return e},ba=(e,t)=>Ql(e,_l(t));const nd=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:o,sortedContentTypesList:i,modifiedData:l,initialData:u}=(0,k.Z)(),c=(0,v.useNotification)(),{trackUsage:m}=(0,v.useTracking)(),[f,g]=(0,a.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:R}=(0,G.Z)(),P=io()(Object.keys(t).map(W=>({name:W,title:W,isEditable:o,onClickEdit(Te,ue){Te.stopPropagation(),D?R(ue.name):z()},links:io()(t[W].map(Te=>({name:Te.uid,to:`/plugins/${O.Z}/component-categories/${W}/${Te.uid}`,title:Te.schema.displayName})),Te=>Te.title)})),W=>W.title),D=!Object.keys(n).some(W=>n[W].isTemporary===!0)&&!Object.keys(e).some(W=>e[W].isTemporary===!0)&&Xl()(l,u),w=()=>{D?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):z()},te=()=>{D?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):z()},Z=()=>{D?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):z()},z=()=>{c({type:"info",message:{id:`${(0,d.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},x=i.filter(W=>W.visible),ye=[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:o&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:w},links:x.filter(W=>W.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:o&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:te},links:x.filter(W=>W.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:o&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:Z},links:P}],ge=W=>(0,Yl.ZP)(W,ot()(f),{keys:[Te=>ot()(Te.title)]});return{menu:(()=>ye.map(W=>W.links.some(ue=>!Gl()(ue.links))?ba(va({},W),{links:W.links.map(ue=>ba(va({},ue),{links:ge(ue.links)}))}):ba(va({},W),{links:ge(W.links)})))(),searchValue:f,onSearchChange:g}},ad=()=>{const{menu:e,searchValue:t,onSearchChange:n}=nd(),{formatMessage:o}=(0,h.useIntl)();return a.createElement(Il.m,{ariaLabel:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},a.createElement(jl.p,{searchable:!0,value:t,onClear:()=>n(""),onChange:i=>n(i.target.value),label:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:o({id:"global.search",defaultMessage:"Search"})}),a.createElement(wl.Z,null,e.map(i=>a.createElement(a.Fragment,{key:i.name},a.createElement($l.D,{label:o({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(l=>l.links?a.createElement(ya,{key:l.name,label:pe()(l.title)},l.links.map(u=>a.createElement(so.E,{as:y.NavLink,to:u.to,active:u.active,key:u.name,isSubSectionChild:!0},pe()(o({id:u.name,defaultMessage:u.title}))))):a.createElement(so.E,{as:y.NavLink,to:l.to,active:l.active,key:l.name},pe()(o({id:l.name,defaultMessage:l.title}))))),i.customLink&&a.createElement(_.x,{paddingLeft:7},a.createElement(Wl.A,{onClick:i.customLink.onClick,startIcon:a.createElement(xe.default,null),marginTop:2},o({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))},co=(0,a.lazy)(()=>s.e(5905).then(s.bind(s,76761))),rd=()=>{const{formatMessage:e}=(0,h.useIntl)(),t=e({id:`${O.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,v.useGuidedTour)(),o=(0,a.useRef)(n);return(0,a.useEffect)(()=>{o.current&&o.current("contentTypeBuilder")},[]),a.createElement(v.CheckPagePermissions,{permissions:B.Z.main},a.createElement(j.Helmet,{title:t}),a.createElement(Nl,null,a.createElement(Pl,null,a.createElement(H.A,{sideNav:a.createElement(ad,null)},a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(y.Switch,null,a.createElement(y.Route,{path:`/plugins/${O.Z}/content-types/create-content-type`,component:co}),a.createElement(y.Route,{path:`/plugins/${O.Z}/content-types/:uid`,component:co}),a.createElement(y.Route,{path:`/plugins/${O.Z}/component-categories/:categoryUid`,component:Dl})))))))}},5002:(ee,Q,s)=>{"use strict";s.d(Q,{Z:()=>j});var a=s(96124);const j=h=>`${a.Z}.${h}`},89881:(ee,Q,s)=>{var a=s(47816),y=s(99291),j=y(a);ee.exports=j},23933:(ee,Q,s)=>{var a=s(44239),y=s(37005),j="[object RegExp]";function h(v){return y(v)&&a(v)==j}ee.exports=h},69199:(ee,Q,s)=>{var a=s(89881),y=s(98612);function j(h,v){var H=-1,B=y(h)?Array(h.length):[];return a(h,function(O,Y,r){B[++H]=v(O,Y,r)}),B}ee.exports=j},82689:(ee,Q,s)=>{var a=s(29932),y=s(97786),j=s(67206),h=s(69199),v=s(71131),H=s(7518),B=s(85022),O=s(6557),Y=s(1469);function r(E,X,ae){X.length?X=a(X,function(J){return Y(J)?function(me){return y(me,J.length===1?J[0]:J)}:J}):X=[O];var V=-1;X=a(X,H(j));var G=h(E,function(J,me,le){var Be=a(X,function(q){return q(J)});return{criteria:Be,index:++V,value:J}});return v(G,function(J,me){return B(J,me,ae)})}ee.exports=r},71131:ee=>{function Q(s,a){var y=s.length;for(s.sort(a);y--;)s[y]=s[y].value;return s}ee.exports=Q},26393:(ee,Q,s)=>{var a=s(33448);function y(j,h){if(j!==h){var v=j!==void 0,H=j===null,B=j===j,O=a(j),Y=h!==void 0,r=h===null,E=h===h,X=a(h);if(!r&&!X&&!O&&j>h||O&&Y&&E&&!r&&!X||H&&Y&&E||!v&&E||!B)return 1;if(!H&&!O&&!X&&j<h||X&&v&&B&&!H&&!O||r&&v&&B||!Y&&B||!E)return-1}return 0}ee.exports=y},85022:(ee,Q,s)=>{var a=s(26393);function y(j,h,v){for(var H=-1,B=j.criteria,O=h.criteria,Y=B.length,r=v.length;++H<Y;){var E=a(B[H],O[H]);if(E){if(H>=r)return E;var X=v[H];return E*(X=="desc"?-1:1)}}return j.index-h.index}ee.exports=y},99291:(ee,Q,s)=>{var a=s(98612);function y(j,h){return function(v,H){if(v==null)return v;if(!a(v))return j(v,H);for(var B=v.length,O=h?B:-1,Y=Object(v);(h?O--:++O<B)&&H(Y[O],O,Y)!==!1;);return v}}ee.exports=y},96347:(ee,Q,s)=>{var a=s(23933),y=s(7518),j=s(31167),h=j&&j.isRegExp,v=h?y(h):a;ee.exports=v},89734:(ee,Q,s)=>{var a=s(21078),y=s(82689),j=s(5976),h=s(16612),v=j(function(H,B){if(H==null)return[];var O=B.length;return O>1&&h(H,B[0],B[1])?B=[]:O>2&&h(B[0],B[1],B[2])&&(B=[B[0]]),y(H,a(B,1),[])});ee.exports=v},39138:(ee,Q,s)=>{var a=s(80531),y=s(40180),j=s(62689),h=s(13218),v=s(96347),H=s(88016),B=s(83140),O=s(40554),Y=s(79833),r=30,E="...",X=/\w*$/;function ae(V,G){var J=r,me=E;if(h(G)){var le="separator"in G?G.separator:le;J="length"in G?O(G.length):J,me="omission"in G?a(G.omission):me}V=Y(V);var Be=V.length;if(j(V)){var q=B(V);Be=q.length}if(J>=Be)return V;var d=J-H(me);if(d<1)return me;var K=q?y(q,0,d).join(""):V.slice(0,d);if(le===void 0)return K+me;if(q&&(d+=K.length-d),v(le)){if(V.slice(d).search(le)){var Me,U=K;for(le.global||(le=RegExp(le.source,Y(X.exec(le))+"g")),le.lastIndex=0;Me=le.exec(U);)var it=Me.index;K=K.slice(0,it===void 0?d:it)}}else if(V.indexOf(a(le),d)!=d){var lt=K.lastIndexOf(le);lt>-1&&(K=K.slice(0,lt))}return K+me}ee.exports=ae},44908:(ee,Q,s)=>{var a=s(45652);function y(j){return j&&j.length?a(j):[]}ee.exports=y},2407:(ee,Q,s)=>{"use strict";s.d(Q,{$:()=>me,O:()=>Be});var a=s(67294),y=s(45697),j=s(71893),h=s(16405),v=s(72735),H=s(35961),B=s(46273),O=s(63237),Y=Object.defineProperty,r=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,ae=(q,d,K)=>d in q?Y(q,d,{enumerable:!0,configurable:!0,writable:!0,value:K}):q[d]=K,V=(q,d)=>{for(var K in d||(d={}))E.call(d,K)&&ae(q,K,d[K]);if(r)for(var K of r(d))X.call(d,K)&&ae(q,K,d[K]);return q},G=(q,d)=>{var K={};for(var Me in q)E.call(q,Me)&&d.indexOf(Me)<0&&(K[Me]=q[Me]);if(q!=null&&r)for(var Me of r(q))d.indexOf(Me)<0&&X.call(q,Me)&&(K[Me]=q[Me]);return K};const J=(0,j.default)(B.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:q})=>q.colors.neutral500};
    }
  }
  :last-of-type ${H.x} {
    display: none;
  }
  :last-of-type ${v.Z} {
    color: ${({theme:q})=>q.colors.neutral800};
    font-weight: ${({theme:q})=>q.fontWeights.bold};
  }
`,me=({children:q})=>a.createElement(J,{inline:!0,as:"li"},a.createElement(v.Z,{variant:"pi",textColor:"neutral600"},q),a.createElement(H.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3},a.createElement(h.default,null)));me.displayName="Crumb",me.propTypes={children:y.node.isRequired};const le=y.shape({type:y.oneOf([me])}),Be=q=>{var d=q,{children:K,label:Me}=d,U=G(d,["children","label"]);return a.createElement(B.k,V({},U),a.createElement(O.T,null,Me),a.createElement("ol",{"aria-hidden":!0},K))};Be.displayName="Breadcrumbs",Be.propTypes={children:y.oneOfType([y.arrayOf(le),le]).isRequired,label:y.string.isRequired}},31950:(ee,Q,s)=>{"use strict";s.d(Q,{h:()=>Ie,X:()=>de});var a=s(67294),y=s(45697),j=s(12645),h=s(70968),v=s(41762),H=s(70389),B=s(7801);const O={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},Y={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function r(A=[],k=null,re=[]){const Oe=String(k!=null?k:"").toLowerCase();return Oe?A.filter(pe=>pe.props.children.toString().toLowerCase().includes(Oe)&&re.indexOf(pe)<0):A}function E(A,k){if(!k&&A===B.y.DOWN)return O.Open;if(A===B.y.DOWN)return O.Next;if(A===B.y.UP)return O.Previous;if(A===B.y.HOME)return O.First;if(A===B.y.END)return O.Last;if(A===B.y.ESCAPE)return O.Close;if(A===B.y.ENTER)return O.CloseSelect;if(A===B.y.BACKSPACE||A===B.y.CLEAR||A.length===1)return O.Type}function X(A,k,re){switch(re){case O.First:return 0;case O.Last:return k;case O.Previous:return Math.max(0,A-1);case O.Next:return Math.min(k,A+1);default:return A}}function ae(A){(0,H.Z)(A,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:k,top:re,left:Oe})=>{k.scrollTop=re,k.scrollLeft=Oe})}var V=s(46273),G=s(81318),J=s(88533),me=s(35961),le=s(72735),Be=s(88655),q=s(74020),d=s(90608);const K=({options:A,activeOptionRef:k})=>((0,a.useEffect)(()=>{k.current&&ae(k.current)},[k]),A);K.defaultProps={activeOptionRef:void 0},K.propTypes={options:y.array.isRequired};var Me=s(54574),U=s(64777),it=s(63428),lt=s(96404),Ct=s(7681),Gt=s(63237),Ft=Object.defineProperty,ot=Object.defineProperties,_=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,Mt=(A,k,re)=>k in A?Ft(A,k,{enumerable:!0,configurable:!0,writable:!0,value:re}):A[k]=re,Zt=(A,k)=>{for(var re in k||(k={}))dt.call(k,re)&&Mt(A,re,k[re]);if(oe)for(var re of oe(k))At.call(k,re)&&Mt(A,re,k[re]);return A},ut=(A,k)=>ot(A,_(k)),et=(A,k)=>{var re={};for(var Oe in A)dt.call(A,Oe)&&k.indexOf(Oe)<0&&(re[Oe]=A[Oe]);if(A!=null&&oe)for(var Oe of oe(A))k.indexOf(Oe)<0&&At.call(A,Oe)&&(re[Oe]=A[Oe]);return re};const Ie=A=>{var k=A,{children:re,clearLabel:Oe,creatable:pe,createMessage:Ot,disabled:je,error:Pt,hasMoreItems:ie,hint:ct,label:ke,labelAction:mt,loading:Xe,loadingMessage:xt,noOptionsMessage:pt,onChange:Ze,onClear:Nt,onCreateOption:Lt,onInputChange:tt,onLoadMore:Kt,placeholder:S,required:T,value:C}=k,Ne=et(k,["children","clearLabel","creatable","createMessage","disabled","error","hasMoreItems","hint","label","labelAction","loading","loadingMessage","noOptionsMessage","onChange","onClear","onCreateOption","onInputChange","onLoadMore","placeholder","required","value"]);const Ht=()=>{var se;return(se=re.find(fe=>{var Fe;return((Fe=fe.props)==null?void 0:Fe.value.toLowerCase())===C.toLowerCase()}).props)==null?void 0:se.children},[Pe,ft]=(0,a.useState)(0),[Dt,On]=(0,a.useState)(null),[We,an]=(0,a.useState)(re),[Ve,rn]=(0,a.useState)(!1),[Le,Rt]=(0,a.useState)(""),gt=(0,a.useRef)(),It=(0,a.useRef)(!1),St=(0,a.useRef)(),on=(0,a.useRef)(),jt=(0,a.useRef)(),sn=(0,a.useRef)(!0),xe=(0,v.M)("combobox"),ln=`${xe}-label`;if(!ke&&!Ne["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,a.useEffect)(()=>{an(r(re,Le))},[Le,re]),(0,a.useEffect)(()=>{Ve&&gt.current&&ae(gt.current)},[Pe,Ve]),(0,a.useLayoutEffect)(()=>{sn.current&&(sn.current=!1)},[C]);const Pn=Ve?`${xe}-${Pe}`:"",dn=()=>{Ze(null),Rt("")},Sa=se=>{tt&&tt(se);const fe=St.current.value;an(r(re,fe)),ft(0),On(null),Le!==fe&&Rt(fe),Ve||nt(!0,!1)},xn=se=>{const{key:fe}=se,Fe=pe&&Le?We.length:We.length-1,yt=E(fe,Ve);switch(C&&!Le&&fe===B.y.BACKSPACE&&dn(),yt){case O.Next:{if(Pe===Fe){st(0);break}st(X(Pe,Fe,yt));break}case O.Previous:{if(Pe===0){st(Fe);break}st(X(Pe,Fe,yt));break}case O.Last:case O.First:{if(Pe===Fe){st(0);break}st(X(Pe,Fe,yt));break}case O.CloseSelect:se.preventDefault(),wt(Pe);break;case O.Close:se.preventDefault(),nt(!1);break;case O.Open:nt(!0);break}},un=se=>{if(se.preventDefault(),C&&!It.current&&Rt(""),It.current){It.current=!1;return}nt(!1,!1)},st=se=>{ft(se)},Fa=se=>{st(se),wt(se)},cn=()=>{It.current=!0},wt=se=>{const fe=We[se];if(Rt(""),fe){Ze(fe.props.value),nt(!1);return}pe&&(Lt(Le),nt(!1))},nt=(se,fe=!0)=>{rn(se),fe&&St.current.focus()},Rn=a.Children.toArray(We).map((se,fe)=>{const Fe=Pe===fe;return(0,a.cloneElement)(se,{id:`${xe}-${fe}`,"aria-selected":Dt===fe,"aria-posinset":fe+1,"aria-setsize":a.Children.toArray(We).length,ref(yt){Fe&&(gt.current=yt)},onClick:()=>Fa(fe),onMouseDown:cn,isSelected:Fe})}),Sn=()=>{St.current.focus(),Nt&&Nt(),dn()},Fn=()=>{St.current.focus(),nt(!0)},An=()=>{const se=We.findIndex(fe=>{var Fe;return((Fe=fe.props)==null?void 0:Fe.children)===Le});return Le&&se===-1},Zn=se=>{se.preventDefault(),nt(se,!0)};return a.createElement(Me.g,{hint:ct,error:Pt,id:xe,required:T},a.createElement(Gt.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},C),a.createElement(Ct.K,{spacing:ke||ct||Pt?1:0},ke&&a.createElement(U.Q,{action:mt},ke),a.createElement(q.d8,{ref:on,$disabled:je,hasError:Pt},a.createElement(q.fv,{wrap:"wrap"},!Le&&C&&a.createElement(q.K7,{id:`${xe}-selected-value`},a.createElement(le.Z,null,Ht())),a.createElement(q.II,{"aria-activedescendant":Pn,"aria-autocomplete":"list","aria-controls":`${xe}-listbox`,"aria-disabled":je,"aria-expanded":Ve,"aria-haspopup":"listbox","aria-labelledby":ke?ln:void 0,autoComplete:"off",autoCorrect:"off",id:xe,onBlur:je?void 0:un,onClick:je?void 0:Zn,onInput:je?void 0:Sa,onKeyDown:je?void 0:xn,placeholder:C?"":S,readOnly:je,ref:St,required:T,role:"combobox",spellCheck:"off",type:"text",value:Le})),a.createElement(V.k,null,(C||Le)&&a.createElement(G.zb,{id:`${xe}-clear`,"aria-label":Oe,disabled:je,paddingLeft:3,as:"button",onClick:Sn,type:"button"},a.createElement(h.default,null)),a.createElement(G.AV,{disabled:je,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:Fn,tabIndex:-1,type:"button"},a.createElement(j.default,null)))),a.createElement(it.J,null),a.createElement(lt.c,null)),Ve&&a.createElement(J.J,{id:`${xe}-popover`,source:on,spacing:4,fullWidth:!0,intersectionId:`${xe}-listbox-popover-intersection`,onReachEnd:ie&&!Xe?Kt:void 0},a.createElement("div",{role:"listbox",ref:jt,id:`${xe}-listbox`,"aria-labelledby":ke?ln:void 0},(Boolean(We.length)||pe)&&a.createElement(a.Fragment,null,a.createElement(K,{activeOptionRef:gt,options:Rn}),An()&&pe&&a.createElement(d.O,{isSelected:Pe===We.length,ref:se=>{Pe===We.length&&(gt.current=se)},onMouseDown:cn,onClick:()=>wt(),taindex:0},Ot(Le))),!We.length&&!pe&&!Xe&&a.createElement(me.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:gt},a.createElement(le.Z,{textColor:"neutral800"},pt(Le))),Xe&&a.createElement(V.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},a.createElement(Be.a,{small:!0},xt)))))},de=A=>a.createElement(Ie,ut(Zt({},A),{creatable:!0}));Ie.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:A=>`Create "${A}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},de.defaultProps=Ie.defaultProps,Ie.propTypes={"aria-label":y.string,children:y.oneOfType([y.arrayOf(y.node),y.node]),clearLabel:y.string,creatable:y.bool,createMessage:y.func,disabled:y.bool,error:y.string,hasMoreItems:y.bool,hint:y.oneOfType([y.string,y.node,y.arrayOf(y.node)]),label:y.string,labelAction:y.element,loading:y.bool,loadingMessage:y.string,noOptionsMessage:y.func,onChange:y.func.isRequired,onClear:y.func,onCreateOption:y.func,onInputChange:y.func,onLoadMore:y.func,placeholder:y.string,value:y.string},de.propTypes=ut(Zt({},Ie.propTypes),{onCreateOption:y.func.isRequired})},90608:(ee,Q,s)=>{"use strict";s.d(Q,{O:()=>X});var a=s(67294),y=s(45697),j=s(72735),h=s(74020),v=Object.defineProperty,H=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,Y=(ae,V,G)=>V in ae?v(ae,V,{enumerable:!0,configurable:!0,writable:!0,value:G}):ae[V]=G,r=(ae,V)=>{for(var G in V||(V={}))B.call(V,G)&&Y(ae,G,V[G]);if(H)for(var G of H(V))O.call(V,G)&&Y(ae,G,V[G]);return ae},E=(ae,V)=>{var G={};for(var J in ae)B.call(ae,J)&&V.indexOf(J)<0&&(G[J]=ae[J]);if(ae!=null&&H)for(var J of H(ae))V.indexOf(J)<0&&O.call(ae,J)&&(G[J]=ae[J]);return G};const X=(0,a.forwardRef)((ae,V)=>{var G=ae,{isSelected:J,children:me}=G,le=E(G,["isSelected","children"]);return a.createElement(h.Zq,r({hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:J,ref:V},le),a.createElement(j.Z,{textColor:J?"primary600":"neutral800",fontWeight:J?"bold":null},me))});X.defaultProps={isSelected:!1},X.propTypes={children:y.oneOfType([y.string,y.number]).isRequired,isSelected:y.bool},X.displayName="ComboboxOption"},74020:(ee,Q,s)=>{"use strict";s.d(Q,{II:()=>O,K7:()=>H,Zq:()=>Y,d8:()=>v,fv:()=>B});var a=s(71893),y=s(35961),j=s(46273),h=s(15585);const v=(0,a.default)(j.k)`
  position: relative;
  border: 1px solid ${({theme:r,hasError:E})=>E?r.colors.danger600:r.colors.neutral200};
  padding-right: ${({theme:r})=>r.spaces[3]};
  padding-left: ${({theme:r})=>r.spaces[3]};
  border-radius: ${({theme:r})=>r.borderRadius};
  background: ${({theme:r})=>r.colors.neutral0};

  ${({theme:r,$disabled:E})=>E?`
    color: ${r.colors.neutral600};
    background: ${r.colors.neutral150};
  `:void 0}

  ${(0,h.k3)()}
`,H=a.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,B=(0,a.default)(j.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,O=a.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:r})=>r.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,Y=(0,a.default)(y.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:r,theme:E})=>r&&`background: ${E.colors.primary100};`}

  &:hover {
    background: ${({theme:r})=>r.colors.primary100};
  }
`}}]);
